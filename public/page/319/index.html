<!DOCTYPE html>
<html lang="zh" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.134.1"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>PaperMod</title>

<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml">
<link rel="alternate" type="application/json" href="http://localhost:1313/index.json">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="PaperMod" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="PaperMod"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "PaperMod",
  "url": "http://localhost:1313/",
  "description": "Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod",
  "thumbnailUrl": "http://localhost:1313/%3Clink%20/%20abs%20url%3E",
  "sameAs": [
      "https://github.com/adityatelange/hugo-PaperMod", "https://discord.gg/ahpmTvhVmp", "https://ko-fi.com/adityatelange"
  ]
}
</script>
</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">2.3系统测试方案-指令库
    </h2>
  </header>
  <div class="entry-content">
    <p>系统测试方案-指令库.xlsx
表格内容：
1、系统测试方案
2、测试结果明细
3、测试小结
Filter table dataCreate a pivot tableCreate a chart from data series
Configure buttons visibility
</p>
  </div>
  <footer class="entry-footer">1 分钟&nbsp;·&nbsp;王宇</footer>
  <a class="entry-link" aria-label="post link to 2.3系统测试方案-指令库" href="http://localhost:1313/posts/wiki/2.3%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88-%E6%8C%87%E4%BB%A4%E5%BA%93/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">7）私有化环境下炉端FAQ测试报告-0605
    </h2>
  </header>
  <div class="entry-content">
    <p>一、测试环境
1、办公室，无噪音
2、距离炉端距离有50cm-60cm
3、测试按照问答进行内容类别测试
二、测试情况
服务助手
1、服务助手_识别错误问题
序号
测试问句（炉端ASR测试）
回复情况（炉端回复）
后台测试母版回复情况（文字输入）
序号
测试问句（炉端ASR测试）
回复情况（炉端回复）
后台测试母版回复情况（文字输入）
1
自定义烹饪模式下怎么设置火力大小和时间是多少秒
不好意思，刚才走神了
命中成功，置信度88%
2
什么食材适合用自定义模式的中火加热
”食材“识别成”时才“，回复：”这个问题我无能为力“
命中成功，置信度87%
3
在哪可以查看万得厨APP的创建食谱的规则
与指令冲突，”抱歉，不知道食材名称“，“抱歉,执行失败“
命中成功，置信度74%
4
如何查看我收到的评论和@
...</p>
  </div>
  <footer class="entry-footer">2 分钟&nbsp;·&nbsp;王宇</footer>
  <a class="entry-link" aria-label="post link to 7）私有化环境下炉端FAQ测试报告-0605" href="http://localhost:1313/posts/wiki/7%E7%A7%81%E6%9C%89%E5%8C%96%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%82%89%E7%AB%AFfaq%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A-0605/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">深入理解React的Fiber架构
    </h2>
  </header>
  <div class="entry-content">
    <p>引言 React 是由 Facebook 开发并于 2013 年开源的前端库，最初的目的是为了解决当时复杂用户界面开发中的效率和性能问题。React 引入了组件化开发和虚拟 DOM（Virtual DOM）的概念，使得开发者可以以声明式的方式构建用户界面，并大幅提升了性能和开发体验。随着时间的推移，React 不断演进，加入了许多新的特性，如 Hooks、Context API 等，进一步提升了其灵活性和可维护性。
尽管 React 在性能和开发效率方面取得了很大的成功，但随着应用规模和复杂度的增加，传统的 React 架构在处理高频更新和复杂组件树时开始暴露出一些性能瓶颈。例如，在用户交互频繁或者需要大规模更新时，界面的响应速度会受到影响。为了解决这些问题，React 团队在 2017 年（React v16）引入了全新的 Fiber 架构。这是一种全新的协调引擎，旨在提高 React 应用的性能，尤其是在复杂和高频更新的场景下。
本文将深入探讨 React Fiber 架构，理解其设计理念和实现细节。
Fiber 架构的背景 从上面两个图可以明显看出差别，上面的图是React 16以前的架构，下面的图是使用了fiber架构的。
传统 React 架构的局限性 React 最初的架构在处理 UI 更新时采用了同步的、阻塞的方式。即一次更新会从根节点开始递归遍历整棵组件树，直至完成所有组件的渲染。这种方式在处理简单的 UI 时表现良好，但随着应用的复杂性增加，特别是在处理大量节点更新或频繁用户交互时，传统架构暴露出了以下几个主要局限性：
单次渲染时间过长：当组件树较大时，一次完整的渲染更新可能会占用大量的时间，这会导致主线程被阻塞，无法响应用户的输入，进而影响用户体验。 缺乏优先级管理：传统架构无法根据任务的重要性分配优先级，所有更新一视同仁，这意味着关键任务（如用户输入处理）可能会被不重要的任务（如低优先级的动画或日志更新）阻塞。 中断和恢复困难：在传统架构中，一旦开始渲染更新，就无法中途中断并恢复，这使得在处理高优先级任务时非常不灵活。 为什么需要 Fiber？ 为了克服传统 React 架构的局限性，React 团队提出了 Fiber 架构。Fiber 是 React 的一种新的协调引擎，它通过将更新过程拆分为多个小任务来解决性能瓶颈和用户体验问题。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-07-25 00:00:00 +0000 UTC'>七月 25, 2024</span>&nbsp;·&nbsp;4 分钟&nbsp;·&nbsp;洞窝技术</footer>
  <a class="entry-link" aria-label="post link to 深入理解React的Fiber架构" href="http://localhost:1313/posts/juejin/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3react%E7%9A%84fiber%E6%9E%B6%E6%9E%84/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ReactNative新架构：恐怖的性能提升
    </h2>
  </header>
  <div class="entry-content">
    <p>自2018年以来，React Native团队一直在重构其核心架构，以便开发者能够创建更高质量更好性能的体验。最近在 React Native 的官网看到他们在安利他们的新的架构，本文将我所了解到的一些皮毛带给大家。以浅薄的见解来揭示其所带来的显著的性能改进，并探讨为何以及如何过渡到这一新架构。
为什么需要新的架构？ 多年来，使用React Native构建应用遇到了一些不可避免的限制。比如：React Native的布局和动画效果可能不如原生应用流畅，JavaScript和原生代码之间的通信效率低下，序列化和反序列化开销大，以及无法利用新的React特性等。这些限制在现有架构下无法解决，因此新的架构应运而生。新的架构提升了React Native在数个方面的能力，使得一些之前无法实现的特性和优化成为可能。
同步布局和效果 对比下老的架构(左边)和新的架构(右边)的效果：
构建自适应的UI体验通常需要测量视图的大小和位置并进行调整。在现有架构中，使用onLayout事件获取布局信息可能导致用户看到中间状态或视觉跳跃。而在新架构下，useLayoutEffect可以同步获取布局信息并更新，让这些中间状态彻底消失。可以明显看到不会存在跟不上的情况。
javascript
代码解读
复制代码
function ViewWithTooltip() { const targetRef = React.useRef(null); const [targetRect, setTargetRect] = React.useState(null); useLayoutEffect(() =&gt; { targetRef.current?.measureInWindow((x, y, width, height) =&gt; { setTargetRect({ x, y, width, height }); }); }, [setTargetRect]); return ( &lt;&gt; &lt;View ref={targetRef}&gt; &lt;Text&gt;一些内容，显示一个悬浮提示&lt;/Text&gt; &lt;/View&gt; &lt;Tooltip targetRect={targetRect} /&gt; &lt;/&gt; ); }
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-07 00:00:00 +0000 UTC'>六月 7, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;brzhang</footer>
  <a class="entry-link" aria-label="post link to ReactNative新架构：恐怖的性能提升" href="http://localhost:1313/posts/juejin/reactnative%E6%96%B0%E6%9E%B6%E6%9E%84%E6%81%90%E6%80%96%E7%9A%84%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">如何解决前端的“竞态问题”
    </h2>
  </header>
  <div class="entry-content">
    <p>走过路过发现 bug 请指出，拯救一个辣鸡（但很帅）的少年就靠您啦！！！
什么是竞态问题 竞争问题 race conditions 是并发编程的一种情况，其中两个并发线程或进程竞争资源，最终状态取决于谁先获得资源。
在前端开发中，我们经常这种情况，当发送两个请求时，由于网络原因，如果第一次请求后返回，第二次请求先返回，会导致最后保存的结果是先发送的请求，第二次的请求结果会被覆盖。具体场景比如，我们在输入时查询待选项，又比如我们先点击分页2再点击分页3。
解决思路 1、防抖 我们输入时如果先输入了 “A” 又删除输入了 “B”，如果我们最终展示的是 “A” 相关的待选项，肯定会给用户造成困扰。这是个非常典型的节流应用场景，我们可以等到用户停止输入再发送请求，防止了多次请求的发出也就避免了竞态问题。
2、设置 loading 如果我们在点击分页后进行页面 loading 状态展示，无法再次点击分页，等到请求返回后再允许发送下一次请求，也同样可以避免分页问题。
3、忽略过期请求 如果无法避免竞态问题，我们就需要直面问题并解决——忽略上一次请求的返回结果（当然也可以直接取消请求）。
忽略过期请求，这个是我最开始想到的思路，当我们发送第二个请求时，上一次的请求就应该过期了，我们如果发现请求过期就取消操作。
当然重点是如何判断过期。我们可以通过一个 id 保存最新的请求数，当返回结果后根据 id 判断是否为最新请求。
js
代码解读
复制代码
function mockFetch() { return new Promise((resolve) =&gt; { setTimeout(resolve, 300) }) } // 不断递加 用于记录最新的请求id let id = 0 // 请求函数 async function request() { const currentId = (id = id &#43; 1) console.log(&#39;request start&#39;, currentId) await mockFetch() if (currentId === id) { console.log(&#39;request end&#39;, currentId) } else { console.log(&#39;request expired&#39;, currentId, id) } } request() request() /* request start 1 request start 2 request expired 1 2 request end 2 */
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-01-31 00:00:00 +0000 UTC'>一月 31, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;我不吃饼干</footer>
  <a class="entry-link" aria-label="post link to 如何解决前端的“竞态问题”" href="http://localhost:1313/posts/juejin/%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%89%8D%E7%AB%AF%E7%9A%84%E7%AB%9E%E6%80%81%E9%97%AE%E9%A2%98/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/page/318/">
      «&nbsp;上一页&nbsp;318/415
    </a>
    <a class="next" href="http://localhost:1313/page/320/">下一页&nbsp;320/415&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
