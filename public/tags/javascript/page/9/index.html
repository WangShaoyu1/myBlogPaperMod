<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>JavaScript | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/tags/javascript/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/javascript/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/tags/javascript/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="JavaScript" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/tags/javascript/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="JavaScript"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>

</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/tags/">Tags</a></div>
  <h1>
    JavaScript
    <a href="/tags/javascript/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">我们发布了一个只有3MB的Electron——Niva
    </h2>
  </header>
  <div class="entry-content">
    <p>背景 从 Electron 2013 年随着 Atom 编辑器一起面世开始到现在经过了十年， Electron 凭借其跨平台、简化开发、强大的扩展性和利用了前端和 Node.js 丰富的生态系统等优势，一举成为了最流行的跨端桌面应用开发框架。虽然 Electron 能力强大且便捷，但是也因其庞大的体积深受诟病。尤其是使用 Electron 开发的应用越来越多的今天，随便一个功能简单的应用都带着 100M&#43; 的庞大体积，所以也常常被吐槽成「电子垃圾」。
既然 Electron 没办法尽善尽美，那么一定会有后来者和竞争者来挑战 Electron 的地位，比如 Tauri。Tauri 也是一个跨平台桌面应用框架，由于 Tauri 并没有带 Node.js runtime 以及使用了系统 Native Webview，所以能让使用 Tauri 构建出来的应用非常小。一个 Hello world 程序仅只有 6MB 左右。
但是不同的是 Tauri 需要开发者使用 Rust 来开发应用，用前端技术来开发 UI。所以 Tauri 的定位更多是面向 Rust 开发者提供跨端桌面应用的解决方案，而对于普通不熟悉 Rust 的前端开发者来说，Rust 上手难度过高、生态也没有 Electron 丰富，并且由于 Rust 作为一个相对底层的语言需要开发者自行兼容多平台系统调用等问题。这些问题让 Tauri 一直处于不温不火的状态。
Electron 功能强大生态丰富，却及其庞大和臃肿，如果项目本身功能简单则会显得非常不划算。而 Tauri 虽看上去精简轻量，但对于普通前端开发者还是过于不友好。那没有已没有可能在这中间找到一个折中呢？那么接下来有请我们的主角 Niva。
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-05-17 00:00:00 +0000 UTC'>五月 17, 2023</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;brambles</footer>
  <a class="entry-link" aria-label="post link to 我们发布了一个只有3MB的Electron——Niva" href="http://localhost:1313/posts/juejin/%E6%88%91%E4%BB%AC%E5%8F%91%E5%B8%83%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8F%AA%E6%9C%893mb%E7%9A%84electronniva/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">离职前同事将下载大文件功能封装成了npm包，赚了145块钱
    </h2>
  </header>
  <div class="entry-content">
    <p>这几天有个同事离职了，本来那是last day，还有半个小时，但他还在那里勤勤恳恳的写着代码。我很好奇，就问：老张，你咋还不做好准备，都要撤了，还奋笔疾书呐。他说：等会儿和你说。
等了半个小时，他说：走，一起下班。我跟你说个好东西。
我说：好的。
老张一边走一边跟我说：公司的下载大文件代码不好。
我说哪里不好了，不是都用了很久了。
他说，那些代码，每次项目需要的时候，还得拷过来拷过去的，有时候拷着拷着就拷丢了，还得去网上现找代码，很不好。
我问：那然后呢？
他说：我这两天把这段代码封装了一下，封装成了npm包。以后，大家就直接调用就可以了，不用重复造轮子，或者担心轮子走丢了。我说那太好了。
他说：我把这个npm包给你，以后你就说自己写的，下个季度晋升的时候，你就说，为公司解决了代码冗余，重复造轮子的问题，而且让下载大文件功能更加便捷，节省开发时间，提升了开发效率。
我说：那怎么好啊，得请你吃个饭啊，你都要走了。不过，你先跟我说说，怎么用这个npm包啊。
下载大文件版 比如我们现有的成形的项目，大家使用axios或者fetch，一定在项目里已经封装好了请求，所以直接调用服务端给的请求地址，获取到blob数据流信息就可以了。但是拿到blob数据流以后，这段代码得四处拷贝，重复造轮子，很不好。所以可以这样使用，高效、便捷。
下载js-tool-big-box工具包 执行安装命令
npm install js-tool-big-box
项目中引入ajaxBox对象，下载文件的公共方法，downFile 在这个对象下面。
javascript
代码解读
复制代码
import { ajaxBox } from &#39;js-tool-big-box&#39;;
调用实现下载 比如你在项目中已经封装好了axios或者fetch的实现，那么只需要正常发送请求，然后调用方法即可，使用非常方便。
javascript
代码解读
复制代码
fetch(&#39;https://test.aaa.com/getPDF&#39;).then(res =&gt; res.blob()).then((blob) =&gt; { ajaxBox.downFile(blob, &#39;优乐的美.pdf&#39;); });
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-06-13 00:00:00 +0000 UTC'>六月 13, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;经海路大白狗</footer>
  <a class="entry-link" aria-label="post link to 离职前同事将下载大文件功能封装成了npm包，赚了145块钱" href="http://localhost:1313/posts/juejin/%E7%A6%BB%E8%81%8C%E5%89%8D%E5%90%8C%E4%BA%8B%E5%B0%86%E4%B8%8B%E8%BD%BD%E5%A4%A7%E6%96%87%E4%BB%B6%E5%8A%9F%E8%83%BD%E5%B0%81%E8%A3%85%E6%88%90%E4%BA%86npm%E5%8C%85%E8%B5%9A%E4%BA%86145%E5%9D%97%E9%92%B1/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">差生文具多，这么些年，为了写代码我花了多少钱？
    </h2>
  </header>
  <div class="entry-content">
    <p>背景 转眼写代码有10多年了，林林总总花费了很多的钱，现在主要按照4大件来盘点下我都买了啥。
电脑 acer 4741g ¥4500&#43; 这是我入门时的一款电脑，整体配置在当时还是属于中等的。
当时用的编辑器还是notepad&#43;&#43;，在这个配置下，还是可以愉快的编码的。
mac air 2013 ¥8800&#43; 当时被苹果的放进信封的广告创意所折服，这也是我的第一台apple，在之后就一直用苹果了。到手后的感觉是，薄，确实薄，大概只有我宏基的1/3-1/4厚。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-07-26 00:00:00 +0000 UTC'>七月 26, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;天元reborn</footer>
  <a class="entry-link" aria-label="post link to 差生文具多，这么些年，为了写代码我花了多少钱？" href="http://localhost:1313/posts/juejin/%E5%B7%AE%E7%94%9F%E6%96%87%E5%85%B7%E5%A4%9A%E8%BF%99%E4%B9%88%E4%BA%9B%E5%B9%B4%E4%B8%BA%E4%BA%86%E5%86%99%E4%BB%A3%E7%A0%81%E6%88%91%E8%8A%B1%E4%BA%86%E5%A4%9A%E5%B0%91%E9%92%B1/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">2022年终总结｜怎样写出一篇还不错的文章
    </h2>
  </header>
  <div class="entry-content">
    <p>掘金2022年度人气创作者打榜中，快来帮我打榜吧～
前言 醒醒！醒醒！啪～ 小明啊，今天 28 号，全年可只剩 4 天了，你年初立的 flag 都实现了吗？
--
思绪回到去年的春节，我不知道是不是每个老男孩都有这样的习惯，在某些特定的时刻给自己的人生按下暂停键，像一位 19 世纪罗马雕刻家或是文艺片导演一般，严肃而又深沉的凝视着自己这件作品，它还有哪些不完美的呢？（你算是有天赋的程序员吗？）
啊 呸！我若像她一样自信倒也罢了，我看来看去，怎么身上没有一点拿得出手的地方呢，哎这个人算是废了。
--
生活如一潭死水, 偶尔也会泛起一丝涟漪，我就是在这时给自己立下了这个 flag, 2022 年工作之余要认认真真的写博客，提升自己，在拿到 “优秀创作者” 之前，只在掘金更文。
--
那么现在你达到 5 级账号了吗？拿到 “优秀创作者” 了吗？得到掘金的认可了吗？啪啪～又打脸了，我不想说话了，大家自己来看我的主页吧。
不过我还没有放弃，在仅剩的 3 天时间里～。
普通人如何写出一篇不错的文章 格式规整｜外在给人的第一印象 标题（和摘要）很重要，一个好的标题相当于人的第一张脸，我不是说让大家做标题党，而是你真的需要花时间好好思考这个问题，我就给你分享个最简单的方式，若你写的主题已经有很多人写过了，那你就搜索下，看看数据最好的几个是怎么起标题的，不说让你吵，起码是参考下吧；
如果达到 4级号，正常情况下文章会被推送到首页，你可以从后台重点关注下展现量和阅读量的比率，怎样让更多的人打开你的文章而不是仅仅看了一眼你的标题，我自己的经验，第一天 展现数/阅读数 &lt;= 10 是一个比较理想的数值，意味着每 10 个看到你标题和摘要的人，有一个会打开看内容。
...</p>
  </div>
  <footer class="entry-footer"><span title='2022-12-28 00:00:00 +0000 UTC'>十二月 28, 2022</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;Ethan_Zhou</footer>
  <a class="entry-link" aria-label="post link to 2022年终总结｜怎样写出一篇还不错的文章" href="http://localhost:1313/posts/juejin/2022%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E6%80%8E%E6%A0%B7%E5%86%99%E5%87%BA%E4%B8%80%E7%AF%87%E8%BF%98%E4%B8%8D%E9%94%99%E7%9A%84%E6%96%87%E7%AB%A0/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">聊聊最近很火的13.11和13.8到底谁大？
    </h2>
  </header>
  <div class="entry-content">
    <p>在最近我是歌手的排名统计中，出现了以下这一幕：
部分网友提出质疑，说是13.11大于13.8：
那么我们肉眼去看，根据我们12年义务教育去比对，肯定是13.8更大一些，但是这样一道简单的数学题还难倒了不少AI模型：
AI和程序的“幻觉” 文心一言：
很明显，他在回答这道数学题时出现了胡说八道的现象，后面本人又去问了其他AI模型，有不少AI模型是答错的， 还有一些AI在答题时出现了，时对时错的不稳定情况。
那么为什么AI模型会出现那么低级的错误呢？
因为大模型看到这样一组数字，意识不到应该做双精度浮点运算
那么我们程序上会不会出现这种问题呢？
就拿近年面试很流行的0.1 &#43; 0.2它为什么不等于 0.3 ？
其实都是精度的问题，我们先来看看程序是怎么看待我们这段运算代码的：
首先，我们需要理解浮点数在计算机中的表示方式。浮点数在计算机中是以二进制形式存储的，但并非所有的十进制小数都能精确地转换为有限长度的二进制小数。像0.1和0.2这样的十进制小数，在二进制表示下是无限循环小数。由于计算机的内存有限，这些无限循环小数在存储时会被截断到某个精度范围内，导致精度损失。
当两个这样的近似值相加时，结果也会是一个近似的值，而不是精确的0.3。这就是为什么在程序中，0.1 &#43; 0.2的结果往往是一个接近但不等于0.3的数，如0.30000000000000004。
破局 那么当我们遇到精度计算的问题时，该如何去解决？
使用整数进行运算：
如果可能的话，将问题转化为整数运算。例如，如果你在处理货币，可以将所有的金额乘以100（或1000，取决于你需要的精度），使用整数进行运算，最后再将结果转换回小数形式。 使用专门的库：
对于需要高精度计算的场景，可以使用像decimal.js、bignumber.js或big.js这样的库。这些库提供了高精度的十进制数运算，可以精确表示和计算小数。 四舍五入或取整：
在某些情况下，你可能不需要非常高的精度，这时可以使用Math.round()、Math.floor()或Math.ceil()函数对结果进行四舍五入或取整。 字符串处理：
对于简单的场景，如果你只是需要显示结果给用户看，可以考虑将数字转换为字符串，然后进行字符串操作来避免精度问题。例如，你可以将两个小数相加后，使用toFixed(n)方法将结果保留到小数点后n位，然后再转换回字符串显示。 理解并接受精度限制：
在某些情况下，理解并接受浮点数的精度限制可能是最实际的选择。了解你的应用场景对精度的要求，并据此设计你的算法和数据结构。 程序对于数值的计算，并非我们直观上看到的简单表面计算，而是涉及到底层的进制转换（如十进制与二进制之间的转换）、精确的或由于精度限制而近似的二进制运算，以及可能的结果转换过程。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-07-24 00:00:00 +0000 UTC'>七月 24, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;大码猴</footer>
  <a class="entry-link" aria-label="post link to 聊聊最近很火的13.11和13.8到底谁大？" href="http://localhost:1313/posts/juejin/%E8%81%8A%E8%81%8A%E6%9C%80%E8%BF%91%E5%BE%88%E7%81%AB%E7%9A%8413.11%E5%92%8C13.8%E5%88%B0%E5%BA%95%E8%B0%81%E5%A4%A7/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/tags/javascript/page/8/">
      «&nbsp;上一页&nbsp;8/26
    </a>
    <a class="next" href="http://localhost:1313/tags/javascript/page/10/">下一页&nbsp;10/26&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
