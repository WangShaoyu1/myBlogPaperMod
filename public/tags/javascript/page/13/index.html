<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>JavaScript | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/tags/javascript/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/javascript/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/tags/javascript/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="JavaScript" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/tags/javascript/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="JavaScript"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>

</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/tags/">Tags</a></div>
  <h1>
    JavaScript
    <a href="/tags/javascript/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">JavaScript中如何拦截全局FetchAPI的请求和响应？
    </h2>
  </header>
  <div class="entry-content">
    <p>本文翻译自 Intercepting JavaScript Fetch API requests and responses
拦截器是可用于预处理或后处理 HTTP 请求的代码块，有助于全局错误处理、身份验证、日志记录等。在本文中，你将学习如何拦截 JavaScript Fetch API 请求。
拦截 HTTP 请求一般有两种事件：请求和响应事件。请求拦截器应该在发送实际 HTTP 请求之前执行，而响应拦截器应该在到达发出请求的应用程序代码之前执行。
在深入研究代码之前，我们需要了解一些重要的事情。首先，Fetch API 本身不支持拦截器。其次，在 Node.js 中使用 Fetch API 需要额外的包。
JavaScript Fetch API 首先，让我们介绍一些 Fetch API 的基础，例如语法:
js
代码解读
复制代码
const fetchResponsePromise = fetch(resource [, init])
resource 定义要获取的资源，该资源可以是 Request 对象，也可以是 URL。init 是一个可选对象，它将包含你想应用于此特定请求的任何自定义配置。
Fetch API 是基于 Promise 的。因此，当你调用 Fetch 方法时，你将得到一个 Promise 响应。在这里，它被称为 fetchResponsePromise，如上面的示例所示。
...</p>
  </div>
  <footer class="entry-footer"><span title='2022-11-17 00:00:00 +0000 UTC'>十一月 17, 2022</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;我不吃饼干</footer>
  <a class="entry-link" aria-label="post link to JavaScript中如何拦截全局FetchAPI的请求和响应？" href="http://localhost:1313/posts/juejin/javascript%E4%B8%AD%E5%A6%82%E4%BD%95%E6%8B%A6%E6%88%AA%E5%85%A8%E5%B1%80fetchapi%E7%9A%84%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">一行指令实现大屏元素分辨率适配(Vue)
    </h2>
  </header>
  <div class="entry-content">
    <p>持续创作，加速成长！这是我参与「掘金日新计划 · 10 月更文挑战」的第N天，点击查看活动详情
一行指令实现大屏元素分辨率适配(Vue) 前言 随着前端技术的不断发展、数据中心（中台）之类的概念的不断升级、物联网设备的更新和普及，越来越多的业主（项目）喜欢在系统中添加一个或者多个可视化大屏，用来集中的展现数据变化、位置变化等等，老板们也更喜欢称之为“态势”。
当然，作为程序员一般都不关心“老板们”的想法，只要完成项目即可。但是经常会有这样的问题：我有一个大屏的模板，但是用户的浏览器分辨率不够，或者有的有书签栏有的没有书签栏，更或者是有的全屏了有的只是小窗口，这样就有了代码对不同分辨率场景下的适配需求了。
1. 常见的适配方案 平时我们使用的 web 端的适配方案，主要有以下几种：
vw/vh 配合百分比实现，让元素根据窗口大小进行自动调整 fontSize 配合 rem 实现“单位宽度”的统一 根据不同的分辨率范围调整页面布局 版心布局，配合最小宽度 目前大多数屏幕适配方案的原理都是采用的以上的几种方式，但是这几种方式也有很大的弊端：浏览器文字有最小尺寸！
在一般的 1080p 及以上的分辨率的屏幕中，大多数设计图的比例和显示效果都能完美还原。但如果某个系统的页面内容太多，或者浏览器部分使用的分辨率（不是物理分辨率）达不到完整显示的要求，采用上面的几种方式就有可能造成 文字的计算大小小于浏览器的最小字体大小，此时就有可能因为文字宽度超出元素而导致页面样式崩溃。
版心布局配合最小宽度可以保证显示效果，但是不适合大屏项目。
2. CSS3 缩放方案 在上面的几种方案都不满足时，大家一般就会采用另外一种方案：CSS3 scale 缩放。
通过计算设计图尺寸比例与实际的页面显示区域大小，来动态调整元素的缩放比例。
个人认为这是针对小分辨率情况下保留显示内容及样式最好的一种处理方式。
当然，这种方式依然有一些弊端：
缩放后可能会造成边缘显示模糊 如果内部存在 canvas 元素，可能导致 canvas 内部的内容渲染失真 高德地图 1.x 会导致事件坐标偏移 (2.0 已经修复) … 3. 封装一个缩放指令 这里简单回顾一下 Vue 的自定义指令：通过配置自定义指令和绑定参数，在组件/元素加载、更新、销毁等不同时期执行对应的处理逻辑。
...</p>
  </div>
  <footer class="entry-footer"><span title='2022-09-29 00:00:00 +0000 UTC'>九月 29, 2022</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;MiyueFE</footer>
  <a class="entry-link" aria-label="post link to 一行指令实现大屏元素分辨率适配(Vue)" href="http://localhost:1313/posts/juejin/%E4%B8%80%E8%A1%8C%E6%8C%87%E4%BB%A4%E5%AE%9E%E7%8E%B0%E5%A4%A7%E5%B1%8F%E5%85%83%E7%B4%A0%E5%88%86%E8%BE%A8%E7%8E%87%E9%80%82%E9%85%8Dvue/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">本地项目放到公网访问！炒鸡煎蛋！
    </h2>
  </header>
  <div class="entry-content">
    <p>本文简介 点赞 &#43; 关注 &#43; 收藏 = 学会了
今天介绍一个超哇的工具：Localtunnel
Localtunnel 是一个基于 Node.js 的内网穿透工具，它允许开发者将本地开发环境暴露给互联网，然后你的亲戚朋友就可以访问它了。
Localtunnel 的应用场景：
开发调试：你可以在本地环境运行 Web 服务，然后通过 Localtunnel 将其暴露到公网，其他人就可以远程查阅或调试。如果你的 Web 项目是运行在移动端，也可以通过 Localtunnel 将其暴露出来，然后在手机上访问。 展示作品：要向外部展示你的作品时也可以使用 Localtunnel 将其暴露出来，尤其适合那种临时展示的场景，展示完就关掉服务，别人就不能再访问了。也很适合面试时需要展示作品，但又没钱买域名服务器。或者有些纯前端的工友在远程面试时需要展示作品就可以让 Localtunnel 帮个忙。 动手操作 先说说如何使用。
我随便找个项目演示。我使用 Vite 创建了一个 Svelte 项目。
bash
代码解读
复制代码
npm create vite@latest svelte-demo cd svelte-demo npm install
之后可以执行 npm run dev 运行项目。
也可以打包后再运行。
bash
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-03-21 00:00:00 +0000 UTC'>三月 21, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;德育处主任</footer>
  <a class="entry-link" aria-label="post link to 本地项目放到公网访问！炒鸡煎蛋！" href="http://localhost:1313/posts/juejin/%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E6%94%BE%E5%88%B0%E5%85%AC%E7%BD%91%E8%AE%BF%E9%97%AE%E7%82%92%E9%B8%A1%E7%85%8E%E8%9B%8B/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">力扣(LeetCode)-28.实现strStr()｜刷题打卡
    </h2>
  </header>
  <div class="entry-content">
    <p>Github来源：力扣 (LeetCode)｜刷题打卡 | 求星星 ✨ | 给个❤️关注，❤️点赞，❤️鼓励一下作者
[已开启]任务一：刷题打卡 * 10 篇
哪吒人生信条：如果你所学的东西 处于喜欢 才会有强大的动力支撑。
每天学习编程，让你离梦想更新一步，感谢不负每一份热爱编程的程序员，不论知识点多么奇葩，和我一起，让那一颗四处流荡的心定下来，一直走下去，加油，2021加油！欢迎关注加我vx:xiaoda0423，欢迎点赞、收藏和评论
时间： 3 月 1 日 ～ 3 月 13 日
力扣 (LeetCode)-两数之和,有效的括号,两数相加｜刷题打卡-3月1日 力扣 (LeetCode)-合并两个有序链表,删除排序数组中的重复项,JavaScript笔记｜刷题打卡-3月2日 力扣 (LeetCode)-最大子序和,JavaScript数据结构与算法（数组）｜刷题打卡-3月3日 针对CSS说一说｜技术点评-3月4日 力扣 (LeetCode)-栈,括号生成 ｜刷题打卡-3月5日 原来也没有那么难！Vue商城开发 | 技术点评-3月6日 力扣 (LeetCode)-加一，队列 ｜刷题打卡-3月7日 JavaScript数据结构之链表 | 技术点评-3月8日 JavaScript的数据结构-集合 ｜技术点评-3月9号 力扣 (LeetCode)-合并两个有序数组,字典,散列表｜刷题打卡-3月10号 力扣 (LeetCode)-对称二叉树,树｜刷题打卡-3月11号 力扣 (LeetCode)-104. 二叉树的最大深度，图｜刷题打卡-3月12号 前言 如果这篇文章有帮助到你，给个❤️关注，❤️点赞，❤️鼓励一下作者，接收好挑战了吗？文章公众号首发，关注 程序员哆啦A梦 第一时间获取最新的文章
...</p>
  </div>
  <footer class="entry-footer"><span title='2021-03-13 00:00:00 +0000 UTC'>三月 13, 2021</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;我是哪吒</footer>
  <a class="entry-link" aria-label="post link to 力扣(LeetCode)-28.实现strStr()｜刷题打卡" href="http://localhost:1313/posts/juejin/%E5%8A%9B%E6%89%A3leetcode-28.%E5%AE%9E%E7%8E%B0strstr%E5%88%B7%E9%A2%98%E6%89%93%E5%8D%A1/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">设计一款赏心悦目的React状态管理库
    </h2>
  </header>
  <div class="entry-content">
    <p>本文的出发点是记录笔者在设计一款状态管理库时的心路历程和思考。起初笔者仅仅是想做一些粗浅的封装，但是实际思考后，非常希望能够开发一款用起来好用，让自己觉得赏心悦目的状态管理库。
(提前说结论：笔者最终的方案，基于 zustand，内置了计算属性、suspense 的支持，并开箱即用 react ssr 的最新方案：renderToPipeableStream。且保留了中间件的功能，能够承接现有 zustand 周边中间件的能力。)
本文主要包含以下几个部分：
状态管理库的本质，要解决的问题，应该提供哪些开箱即用的能力 现有各状态管理库在基础能力上的区别及优缺 为什么选择 zustand 作为底层实现，详解 zustand，分析其优势与不足 一个现代成熟的状态管理库还应该具备哪些能力 为 zustand 弥补不足：增加计算属性、suspense 支持，提供 react renderToPipeableStream 的开箱即用能力 状态管理的本质 简单来说，状态管理的本质便是能够从组件树的任何位置读取和操作状态。
对于 react、vue 来讲，组件间状态的共享，便是状态管理的最核心的地方。
但是在实际的业务开发中，往往需要共享的不仅仅是状态，还有操作状态的全局方法（同步/异步），以及派生/计算状态的共享。
在 vuex 中，提供了 state 来定义基础状态，getter 来定义派生/计算状态，mutation &amp; action 来定义操作全局状态的方法。
在 redux 中，提供了 state 定义基础状态，reducer 来提供操作状态的方法。（ps：从这里可以看出，其实 redux 没有提供简单的定义派生状态的地方，虽然有方案，但是确实不如 vuex 的 getter 来的显而易见）。
在 recoil/jotai 中，提供了 atom 定义基础状态，selector 来定义派生状态，但是缺少明确的定义操作状态的方法的地方（也有方法，但是不那么显而易见）。
抛开渲染优化、组件更新心智模型、原子化/中心化不谈，单从开发者的诉求来看，笔者认为，状态管理的本质，便是给组件树中的任何组件提供：
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-03-22 00:00:00 +0000 UTC'>三月 22, 2023</span>&nbsp;·&nbsp;11 分钟&nbsp;·&nbsp;程序员芋仔</footer>
  <a class="entry-link" aria-label="post link to 设计一款赏心悦目的React状态管理库" href="http://localhost:1313/posts/juejin/%E8%AE%BE%E8%AE%A1%E4%B8%80%E6%AC%BE%E8%B5%8F%E5%BF%83%E6%82%A6%E7%9B%AE%E7%9A%84react%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/tags/javascript/page/12/">
      «&nbsp;上一页&nbsp;12/26
    </a>
    <a class="next" href="http://localhost:1313/tags/javascript/page/14/">下一页&nbsp;14/26&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
