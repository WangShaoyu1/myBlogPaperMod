<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>音视频开发 | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="音视频开发" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="音视频开发"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>

</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/tags/">Tags</a></div>
  <h1>
    音视频开发
    <a href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RTMP、RTSP直播播放器的低延迟设计探讨
    </h2>
  </header>
  <div class="entry-content">
    <p>​技术背景 没有多少开发者会相信RTMP或RTSP播放器，延迟会做到150-300ms内，除非测试过大牛直播SDK的，以Android平台启动轻量级RTSP服务和推送RTMP，然后Windows分别播放RTSP和RTMP为例，整体延迟如下：
大牛直播 SDK在保证超低延迟方面采取了多项技术措施。首先，其自有框架易于扩展，采用自适应算法，使得延迟更低、解码绘制效率更高。以 Windows 平台为例，海康摄像头 2560*1440 分辨率、8M 码率的 RTSP 流，SmartPlayer 延迟 200 毫秒左右，可满足平衡操控等低延迟场景。低延迟模式下，硬件性能无瓶颈的前提下，延迟可稳定在 150-300ms。
此外，大牛直播 SDK 的 RTSP 播放器支持 TCP 和 UDP 模式的自动切换，提高了播放的兼容性和灵活性，能够更好地适应不同的网络环境，减少延迟。同时，支持设置缓冲时间，以应对网络抖动等不稳定情况，确保播放的流畅性，在保证流畅性的同时也有助于控制延迟。
在技术实现上，底层原生模块把 RTSP|RTMP 流拉过来，做解析解码回调 YUV 或 RGB 数据到上层，在每个环节都做到极致，总体延迟可以达到 200 - 400ms。并且支持多实例播放，适用于需要同时监控多个视频源的场景，满足不同用户需求的同时也保证了低延迟性能。
如何设计低延迟的直播播放器 大牛直播 SDK 通过自有框架、自适应算法、协议自动切换、缓冲时间设置以及优化的技术实现等多方面措施，保证了超低延迟的播放效果。
自有框架如何降低延迟 大牛直播SDK的自有框架在降低延迟方面表现出色。它易于扩展，能够根据不同的应用场景进行灵活调整。这种自有框架在设计之初就以降低延迟为重要目标，通过优化各个模块之间的协作，提高数据处理效率。例如，在 RTMP 或 RTSP 直播播放器的设计中，从数据解析、解码、音视频数据同步到绘制等环节，自有框架能够确保数据传输的高效性，减少不必要的等待时间。同时，自有框架还能自适应不同的网络环境和硬件条件，自动调整参数以达到最佳的延迟效果。比如在网络状况不佳时，能够自动降低码率以保证流畅播放，同时尽量减少延迟的增加。此外，自有框架还通过优化内部算法，提高数据处理速度，进一步降低延迟。例如在解码过程中，采用高效的解码算法，充分利用硬件加速功能，如 GPU 加速，以快速处理大量的音视频数据。
自适应算法如何实现 大牛直播SDK的自适应算法是实现超低延迟的关键之一。该算法能够根据网络状况动态调整码率，确保直播服务的流畅性。例如，当网络带宽充足时，自适应算法会提高码率，以提供更高质量的视频画面；而当网络带宽受限或出现波动时，算法会自动降低码率，以减少数据传输量，保证视频的流畅播放，同时降低延迟。此外，自适应算法还能根据不同的硬件性能进行调整。如果硬件性能强大，算法会充分利用硬件资源，提高数据处理速度，进一步降低延迟；如果硬件性能有限，算法会自动优化参数，以确保在不影响播放质量的前提下，尽量降低延迟。在实际应用中，自适应算法会不断监测网络状况和硬件性能，并实时调整参数，以实现最佳的延迟效果。
RTSP播放器协议自动切换作用 大牛直播SDK的RTSP播放器支持 TCP 和 UDP 模式的自动切换，这在控制延迟方面起到了重要作用。不同的服务器可能支持不同的传输协议，自动切换功能可以提高播放的兼容性和灵活性。例如，在某些网络环境下，UDP 协议可能具有更低的延迟，但稳定性相对较差；而 TCP 协议则更加稳定，但延迟可能会稍高一些。通过自动切换功能，播放器可以根据实际情况选择最合适的传输协议，以达到平衡延迟和稳定性的目的。当网络状况良好时，播放器可以自动切换到 UDP 模式，以降低延迟；当网络出现抖动或不稳定时，播放器会自动切换到 TCP 模式，以保证播放的稳定性。这种自动切换功能使得播放器能够在不同的网络环境下都能保持较好的性能，为用户提供低延迟的播放体验。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-28 00:00:00 +0000 UTC'>九月 28, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;音视频牛哥</footer>
  <a class="entry-link" aria-label="post link to RTMP、RTSP直播播放器的低延迟设计探讨" href="http://localhost:1313/posts/juejin/rtmprtsp%E7%9B%B4%E6%92%AD%E6%92%AD%E6%94%BE%E5%99%A8%E7%9A%84%E4%BD%8E%E5%BB%B6%E8%BF%9F%E8%AE%BE%E8%AE%A1%E6%8E%A2%E8%AE%A8/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">FFmpeg命令行音视频处理
    </h2>
  </header>
  <div class="entry-content">
    <p>1
命令行工具
FFmpeg 的 bin 目录下有三个工具，可在终端直接输入命令执行
ffmpeg ( ffmpeg.org/ffmpeg.html )是一个通用的媒体转换器。它可以读取各种输入，包括实时抓取/录制设备-过滤，并将它们转码为多种输出格式。
ffplay ( ffmpeg.org/ffplay.html )是一款基于 FFmpeg 库和 SDL 库的简单媒体播放器。它主要用作各种 FFmpeg API 的测试平台。
ffprobe ( ffmpeg.org/ffprobe.htm… )是一个多媒体分析器，并以人类和机器可读的方式打印出从多媒体中收集的信息。
2
ffmpeg 命令
终端直接输入 ffmpeg，可以获得用法提示
vbnet
代码解读
复制代码
usage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}... Use -h to get full help or, even better, run &#39;man ffmpeg&#39;
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-10-25 00:00:00 +0000 UTC'>十月 25, 2023</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;人月神话Lee</footer>
  <a class="entry-link" aria-label="post link to FFmpeg命令行音视频处理" href="http://localhost:1313/posts/juejin/ffmpeg%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%9F%B3%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">音视频编解码流程与如何使用FFMPEG命令进行音视频处理
    </h2>
  </header>
  <div class="entry-content">
    <p>一、前言 FFMPEG 是特别强大的专门用于处理音视频的开源库。你既可以使用它的 API 对音视频进行处理，也可以使用它提供的工具，如 ffmpeg, ffplay, ffprobe，来编辑你的音视频文件。
本文将简要介绍一下 FFMPEG 库的基本目录结构及其功能，然后详细介绍一下我们在日常工作中，如何使用 ffmpeg 提供的工具来处理音视频文件。
二、FFMPEG 目录及作用 libavcodec： 提供了一系列编码器的实现。
libavformat： 实现在流协议，容器格式及其本 IO 访问。
libavutil： 包括了 hash 器，解码器和各利工具函数。
libavfilter： 提供了各种音视频过滤器。
libavdevice： 提供了访问捕获设备和回放设备的接口。
libswresample： 实现了混音和重采样。
libswscale： 实现了色彩转换和缩放工能。
三、FFMPEG 基本概念 在讲解 FFMPEG 命令之前，我们先要介绍一些音视频格式的基要概念。
(1) 音／视频流 在音视频领域，我们把一路音／视频称为一路流。如我们小时候经常使用 VCD 看港片，在里边可以选择粤语或国语声音，其实就是 CD 视频文件中存放了两路音频流，用户可以选择其中一路进行播放。
...</p>
  </div>
  <footer class="entry-footer"><span title='2021-09-15 00:00:00 +0000 UTC'>九月 15, 2021</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;RTE开发者社区</footer>
  <a class="entry-link" aria-label="post link to 音视频编解码流程与如何使用FFMPEG命令进行音视频处理" href="http://localhost:1313/posts/juejin/%E9%9F%B3%E8%A7%86%E9%A2%91%E7%BC%96%E8%A7%A3%E7%A0%81%E6%B5%81%E7%A8%8B%E4%B8%8E%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8ffmpeg%E5%91%BD%E4%BB%A4%E8%BF%9B%E8%A1%8C%E9%9F%B3%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ffplay视频播放原理分析
    </h2>
  </header>
  <div class="entry-content">
    <p>作者 | 赵家祝
FFmpeg 框架由命令行工具和函数库组成， ffplay 是其中的一种命令行工具，提供了播放音视频文件的功能，不仅可以播放本地多媒体文件，还可以播放网络流媒体文件。本文从 ffplay 的整体播放流程出发，借鉴其设计思路，学习如何设计一款简易的播放器。
一、播放器工作流程 在学习 ffplay 源码之前，为了方便理解，我们先宏观了解一下播放器在播放媒体文件时的工作流程。
解协议：媒体文件在网络上传输时，需要经过流媒体协议将媒体数据分段成若干个数据包，这样就可以满足用户一边下载一边观看的需求，而不需要等整个媒体文件都下载完成才能观看。常见的流媒体协议有 RTMP、HTTP、HLS、MPEG-DASH、MSS、HDS 等。由于流媒体协议中不仅仅包含媒体数据，还包含控制播放的信令数据。因此，解协议是移除协议中的信令数据，输出音视频封装格式数据。
解封装：封装格式也叫容器，就是将已经编码压缩好的视频流和音频流按照一定的格式放到一个文件中，常见的封装格式有 MP4、FLV、MPEG2-TS、AVI、MKV、MOV 等。解封装是将封装格式数据中的音频流压缩编码数据和视频流压缩编码数据分离，方便在解码阶段使用不同的解码器解码。
解码：压缩编码数据是在原始数据基础上采用不同的编码压缩得到的数据，而解码阶段就是编码的逆向操作。常见的视频压缩编码标准有 H.264/H.265 、MPEG-2 、AV1 、V8/9 等，音频压缩编码标准有 AAC 、MP3 等。解压后得到的视频图像数据是 YUV 或 RGB ，音频采样数据是 PCM 。
音视频同步：解码后的视频数据和音频数据是独立的，在送给显卡和声卡播放前，需要将视频和音频同步，避免播放进度不一致。
...</p>
  </div>
  <footer class="entry-footer"><span title='2022-08-03 00:00:00 +0000 UTC'>八月 3, 2022</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;百度Geek说</footer>
  <a class="entry-link" aria-label="post link to ffplay视频播放原理分析" href="http://localhost:1313/posts/juejin/ffplay%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">FFmpeg从入门到入魔(1)：初探FFmpeg框架
    </h2>
  </header>
  <div class="entry-content">
    <p>1. FFmpeg介绍与裁剪 1.1 FFmpeg简介 FFmpeg（Fast forword mpeg，音视频转换器）是一个开源免费跨平台的视频和音频流方案，它提供了录制/音视频编解码、转换以及流化音视频的完整解决方案。ffmpeg4.0.2源码目录结构如下： 目录说明：
FFmpeg
|—compat 该目录存放的是兼容文件，以便兼容早期版本
|—doc 说明文档
|—ffbuild
|—libavcodec 音视频编解码核心库
|—libavdevice 各种设备的输入输出，比如Video4Linux2, VfW, DShow以及 ALSA
|—libavfilter 滤镜特效处理
|—libavformat I/O操作和封装格式(muxer/demuxer)处理
|—libavswresample 音频重采样，格式转换和混音
|— (1) 重采样：改变音频的采样率，比如从44100HZ降低到8000HZ
|— (2)重新矩阵化：改变音频通道数量，比如从立体声道(stereo )变为单身道(mono)
|— (3)格式转换：改变音频采样大小，比如将每个样本大小从16bits降低到8bits
|—libavutil 工具库，比如算数运算、字符操作等
|—libpostproc 后期效果处理，如图像的去块效应
|—libswscale 视频像素处理，包括缩放图像尺寸、色彩映射转换、像素颜色空间转换等
|—presets
|—tests 测试实例
|—configure 配置文件，编译ffmpeg时用到
...</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-18 00:00:00 +0000 UTC'>十一月 18, 2021</span>&nbsp;·&nbsp;9 分钟&nbsp;·&nbsp;无名之辈FTER</footer>
  <a class="entry-link" aria-label="post link to FFmpeg从入门到入魔(1)：初探FFmpeg框架" href="http://localhost:1313/posts/juejin/ffmpeg%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E9%AD%941%E5%88%9D%E6%8E%A2ffmpeg%E6%A1%86%E6%9E%B6/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://localhost:1313/tags/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/page/2/">下一页&nbsp;2/2&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
