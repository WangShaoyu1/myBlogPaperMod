<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>SQL | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/tags/sql/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/sql/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/tags/sql/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="SQL" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/tags/sql/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="SQL"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>

</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/tags/">Tags</a></div>
  <h1>
    SQL
    <a href="/tags/sql/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">用SQL写游戏，可能吗？看看大佬是如何使用SQL写一个俄罗斯方块亮瞎你的钛合金狗眼的！
    </h2>
  </header>
  <div class="entry-content">
    <p>大家好，今天我要带你们一起来开开眼界。你知道SQL吗？就是那个我们平时用来和数据库打交道的语言——查询数据、插入数据、删除数据，嗯，数据库管理员的必备技能。但你能想象到有人用SQL做了什么吗？他用SQL做了一款俄罗斯方块！对，就是那个曾经风靡全球的经典游戏。
你可能会想，“这怎么可能？SQL不就是查查数据嘛，最多写点复杂的查询语句，能做游戏？”其实我一开始也是这个想法，但看了这个项目后，真的不得不感叹程序员的脑洞太大了！这篇文章就来和你聊聊，这个疯狂的项目到底是怎么实现的，以及为什么这个看似“不务正业”的尝试背后，可能藏着编程世界的一些终极奥秘。
还是先上一下项目地址吧：
github.com/nuno-faria/…
1. Turing完备性，SQL到底有多强大？ 首先，让我们聊聊一个稍微专业一点的概念：图灵完备性（Turing completeness） 。简单来说，如果一门编程语言是图灵完备的，那它理论上可以实现任何计算。我们平时接触的编程语言，比如Python、Java、C&#43;&#43;，都是图灵完备的。但SQL呢？你可能想象不到，SQL也是图灵完备的，这意味着它也具备和其他编程语言一样的能力，只是我们平时大多只用它进行数据库操作。
项目的开发者正是看中了SQL的图灵完备性，才想出了用它来实现俄罗斯方块这个创意。虽然SQL天生并不是为游戏设计的，但通过一些巧妙的设计，开发者硬是把这个“不可能的任务”完成了。不得不说，这不仅仅是技术上的一种挑战，更是一种极致的创意和智慧的碰撞。
2. 用SQL写游戏，可能吗？ 接下来，你可能很好奇了，具体怎么实现的呢？其实，开发者在SQL中用了一些非常“刁钻”的技巧。他利用了SQL中的递归查询（Common Table Expressions，简称CTE）和一些复杂的数学操作，来模拟俄罗斯方块的游戏逻辑。
sql
代码解读
复制代码
WITH RECURSIVE t(i) AS ( -- non-recursive term SELECT 1 UNION ALL -- recursive term SELECT i &#43; 1 -- takes i of the previous row and adds 1 FROM t -- self-reference that enables recursion WHERE i &lt; 5 -- when i = 5, the CTE stops ) SELECT * FROM t; i ---- 1 2 3 4 5 (5 rows)
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-07 00:00:00 +0000 UTC'>九月 7, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;brzhang</footer>
  <a class="entry-link" aria-label="post link to 用SQL写游戏，可能吗？看看大佬是如何使用SQL写一个俄罗斯方块亮瞎你的钛合金狗眼的！" href="http://localhost:1313/posts/juejin/%E7%94%A8sql%E5%86%99%E6%B8%B8%E6%88%8F%E5%8F%AF%E8%83%BD%E5%90%97%E7%9C%8B%E7%9C%8B%E5%A4%A7%E4%BD%AC%E6%98%AF%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8sql%E5%86%99%E4%B8%80%E4%B8%AA%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97%E4%BA%AE%E7%9E%8E%E4%BD%A0%E7%9A%84%E9%92%9B%E5%90%88%E9%87%91%E7%8B%97%E7%9C%BC%E7%9A%84/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">老弟想自己做个微信，被我一个问题劝退了。。
    </h2>
  </header>
  <div class="entry-content">
    <p>大家好，我是程序员鱼皮。最近老弟小阿巴放暑假，想找点事情做，于是就来问我：老鲏，我想做个练手项目，有没有什么好的建议？
我说：练手项目的话，就做个自己感兴趣的呗，想加什么功能就加什么，做起来会更舒服~
小阿巴：Emm，我感兴趣的太多了，有没有推荐啊？
我说：那就想想自己经常使用的网站或 APP，选个对业务流程相对熟悉的。
小阿巴思考片刻，一拍脑袋：对啊，我天天用微信，那我就做个微信吧！说不定之后大家都在用我做的软件聊天呢？
我一听，不禁暗自惊叹，没想到小伙子年纪轻轻，野心很大啊！
我说：想法不错，但想做个微信这样的 IM（即时通讯）项目，可没有那么简单，你有什么实现思路么？说来听听？
小阿巴：微信的核心功能是收发消息，我可以把用户 A 发送的消息保存到数据库中，用户 B 进入聊天界面时，从数据库查询出发给他的消息就行。
我一听这个回答，就知道以小阿巴目前的水平，想做出微信是不太可能了。。。
我问：Emm，暂且不考虑用户体验和性能，我们就先实现基础功能吧，你会怎么让用户查看自己的历史消息呢？
小阿巴思考片刻，然后嘴角微微上扬，露出狡黠的笑容：你是不是以为我会说一次性把所有历史消息全部查出来？可惜啊老鲏，你把我想的太天真了，用户可能有成百上千条历史消息，全量加载会很慢，所以我必然会使用 分页 来查询！
我说：行，那你打算怎么分页呢？
小阿巴：这还真难不倒我，这几年我苦练增删改查，分页写得很溜的！纸笔呈上来，看我给你手写 SQL：
sql
代码解读
复制代码
select * from message where user = &#39;鱼皮&#39; limit 0, 20;
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-08-14 00:00:00 +0000 UTC'>八月 14, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;程序员鱼皮</footer>
  <a class="entry-link" aria-label="post link to 老弟想自己做个微信，被我一个问题劝退了。。" href="http://localhost:1313/posts/juejin/%E8%80%81%E5%BC%9F%E6%83%B3%E8%87%AA%E5%B7%B1%E5%81%9A%E4%B8%AA%E5%BE%AE%E4%BF%A1%E8%A2%AB%E6%88%91%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98%E5%8A%9D%E9%80%80%E4%BA%86/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">神奇的SQL，被严重忽视的HAVING，它真的很有魅力
    </h2>
  </header>
  <div class="entry-content">
    <p>开心一刻 今天下班，骑着青桔电动车高高兴兴的哼着曲回家，感觉整个世界都是我的
刚到家门口，还未下车，老妈就气冲冲的走过来对我说道：你表哥就比你大一岁，人家都买了奔驰了，50 多万！
我：表哥那车，舅舅出了 40 多万
老妈：那不还有 10 多万是他自己出的
我：那 10 几万是他丈母娘出的
老妈：你还有脸说，你连个对象都没有！
老妈走回家，回头望了眼我胯下的青桔，一脸不屑地说道：连个自行车都没有
我：这是电动车！
老妈：那也不是你的
我低头望了望青桔，差点一脚把它踹开，可想了想，踹坏了赔不起，赶紧找个停车点把车停好吧，不然又多扣五毛钱了
HAVING 回顾 关于 SQL 中的 HAVING，相信大家都不陌生，它往往与 GROUP BY 配合使用，为聚合操作指定条件，例如
sql
代码解读
复制代码
SELECT name, COUNT(*) FROM table GROUP BY name HAVING COUNT(*) &gt; 2
说到指定条件，我们最先想到的往往是 WHERE 子句，但 WHERE 子句只能指定行的条件，而不能指定组的条件
集合论 是 SQL 语言的根基，它里面有个 阶 的概念，我们必须掌握，具体可查看：神奇的 SQL 之层级 → 为什么 GROUP BY 之后不能直接引用原表中的列
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-18 00:00:00 +0000 UTC'>九月 18, 2024</span>&nbsp;·&nbsp;5 分钟&nbsp;·&nbsp;青石路</footer>
  <a class="entry-link" aria-label="post link to 神奇的SQL，被严重忽视的HAVING，它真的很有魅力" href="http://localhost:1313/posts/juejin/%E7%A5%9E%E5%A5%87%E7%9A%84sql%E8%A2%AB%E4%B8%A5%E9%87%8D%E5%BF%BD%E8%A7%86%E7%9A%84having%E5%AE%83%E7%9C%9F%E7%9A%84%E5%BE%88%E6%9C%89%E9%AD%85%E5%8A%9B/"></a>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
