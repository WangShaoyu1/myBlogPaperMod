<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/posts/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Posts" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/posts/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }
  ]
}
</script>
</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a></div>
  <h1>
    Posts
    <a href="/posts/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">统一观测｜借助Prometheus监控ClickHouse数据库
    </h2>
  </header>
  <div class="entry-content">
    <p>引言 ClickHouse 作为用于联机分析(OLAP)的列式数据库管理系统(DBMS), 最核心的特点是极致压缩率和极速查询性能。同时，ClickHouse 支持 SQL 查询，在基于大宽表的聚合分析查询场景下展现出优异的性能。因此，获得了广泛的应用。本文旨在分享阿里云可观测监控 Prometheus 版对开源 ClickHouse 的监控实践。
一、ClickHouse 简介 （一）技术特点 列式存储与数据压缩： 在执行数据查询时，列式存储可以减少数据扫描范围和数据传输大小，提高数据查询的效率。
完备的 DBMS 功能
DDL （数据定义语言）：可以动态地创建、修改或删除数据库、表和视图，而无须重启服务； DML（数据操作语言）：可以动态查询、插入、修改或删除数据。 权限控制：
可按照用户粒度设置数据库或表的操作权限，保障数据安全性。
数据备份与恢复 提供数据备份导出与导入恢复机制，满足生产环境要求。
分布式管理 提供集群模式，自动管理多个数据库节点。
（二）ClickHouse 典型适用场景 复杂查询聚合的 OLAP 场景； 需要支持稳定大量数据写入； 不需要高频查询； 不需要高级 DBMS 功能，如事务性；不需要经常很复杂的表间操作，比如 join 操作。 （三）ClickHouse 核心概念 ClickHouse 集群（Cluster） 在物理构成上，ClickHouse 集群是由多个 ClickHouse Server 实例组成的分布式数据库。这些 ClickHouse Server 根据规格的不同可以包含 1 个或多个副本（Replica）、1 个或多个分片（Shard）。在逻辑构成上，一个ClickHouse 集群可以包含多个数据库（Database）对象。
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-08-01 00:00:00 +0000 UTC'>八月 1, 2023</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;阿里云云原生</footer>
  <a class="entry-link" aria-label="post link to 统一观测｜借助Prometheus监控ClickHouse数据库" href="http://localhost:1313/posts/juejin/%E7%BB%9F%E4%B8%80%E8%A7%82%E6%B5%8B%E5%80%9F%E5%8A%A9prometheus%E7%9B%91%E6%8E%A7clickhouse%E6%95%B0%E6%8D%AE%E5%BA%93/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">JavaScript的顶层await：异步代码的全新体验
    </h2>
  </header>
  <div class="entry-content">
    <p>JavaScript 历经多年发展，不断演变，其中最令人兴奋的新功能之一就是 顶层 await。这项功能在 ECMAScript 2022（ES13）中引入，它彻底改变了开发者编写异步代码的方式，是一个期待已久的改进。那么，为什么顶层 awai t 会如此颠覆游戏规则呢？让我们深入了解一下。
顶层 await 是什么？ 在 JavaScript 中，await 关键字传统上只能在 async 函数内部使用，这意味着你只能在这些函数的范围内使用它。这在你想在模块顶层（任何函数之外）编写异步代码时会带来挑战。你需要将你的代码包裹在一个 async 函数中，或者使用像立即调用异步函数 (IIAF) 这样的变通方法。
顶层 await 消除了这种限制，让你可以在 ES 模块代码的顶层直接使用 await 关键字。这样一来，无需人为地将异步代码包裹在 async 函数中，简化了异步代码执行。
以下是一个例子：
javascript
代码解读
复制代码
// 旧方法（在顶层 `await` 之前） (async () =&gt; { const data = await fetchData(); console.log(data); })(); // 新方法（使用顶层 `await`） const data = await fetchData(); console.log(data);
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-24 00:00:00 +0000 UTC'>九月 24, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;前端宝哥</footer>
  <a class="entry-link" aria-label="post link to JavaScript的顶层await：异步代码的全新体验" href="http://localhost:1313/posts/juejin/javascript%E7%9A%84%E9%A1%B6%E5%B1%82await%E5%BC%82%E6%AD%A5%E4%BB%A3%E7%A0%81%E7%9A%84%E5%85%A8%E6%96%B0%E4%BD%93%E9%AA%8C/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Clickhouse基本介绍
    </h2>
  </header>
  <div class="entry-content">
    <p>ClickHouse&amp;列式数据库 简单介绍 ClickHouse最初是为YandexMetrica世界第二大Web分析平台而开发的 它是一个用于联机分析(OLAP)的列式数据库管理系统(DBMS)。 它是真正意义上的列式数据库，什么是列式数据库呢
列式数据库 rowId
guid
name
001
aaa
zhangsan
002
bbb
fawaikuangtu
传统的行式数据库是这样存数据的
makefile
代码解读
复制代码
001:aaa,zhangsan 002:bbb,fawaikuangtu
但是列式数据库存储是按照列进行存的，同一列的数据被存储在一起
makefile
代码解读
复制代码
aaa:001,bbb:002 zhangsan:001,fawaikuangtu:002
这么存数据有什么特点呢，那就是做数据分析相当快，向行式数据库，以MySQL为例，定位某条记录很快，但是，做某一列的统计就不太行了。（MySQ我也颇有研究，有兴趣的可以留言，后续可能考虑出博客呦）
OLAP场景的关键特征 绝大多数请求是以读为主。 数据以相当大的批次（&gt; 1000行）进行更新，而不是单行更新;或者根本不更新。 数据被添加到数据库，基本不怎么修改。 对于读取，大量的数据从数据库中抽取出来，但只有列的一个子集。 表是“宽的”，这意味着它们包含大量的列。 查询相对较少（通常每台服务器数百个查询或更少）。 对于简单的查询，允许大约50 ms的延迟。 列值相当小 - 数字和短字符串（例如，每个URL 60个字节）。 处理单个查询时需要高吞吐量（每台服务器每秒高达数十亿行）。 无事务处理。 数据一致性要求低- 每个查询有一个大表，其他所有的表都是小表。 查询结果显著小于源数据。也就是说，数据被过滤或聚合。结果可以放在单个服务器的内存中。 Clickhouse的特点 数据长度是固定的，避免长度不固定带来的cpu计算 可以压缩数据 可以在磁盘中存储 支持并发 支持分布式的查询处理 支持sql语法 不光按列存储，同事还按向量（列的一部分）进行处理 支持索引 支持近似计算 各类聚合函数，如：distinct values, medians, quantiles 于数据的部分样本进行近似查询 不使用全部的聚合条件，通过随机选择有限个数据聚合条件进行聚合 并允许角色的访问控制（MySQL那一套） 安装 也可以自己下环境啊，我这里偷懒了，就用docker搭了，真香！
...</p>
  </div>
  <footer class="entry-footer"><span title='2021-04-07 00:00:00 +0000 UTC'>四月 7, 2021</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;山间小僧</footer>
  <a class="entry-link" aria-label="post link to Clickhouse基本介绍" href="http://localhost:1313/posts/juejin/clickhouse%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">基于TrueLicense的项目证书验证
    </h2>
  </header>
  <div class="entry-content">
    <p>基于 TrueLicense 的项目证书验证
使用场景 1、 开发的软件产品在交付使用的时候，往往有一段时间的试用期，这期间我们不希望自己的代码被客户二次拷贝，这个时候 license 就派上用场了，license 的功能包括设定有效期、绑定 ip、绑定 mac 等。
2、 授权方直接生成一个 license 给使用方使用，如果需要延长试用期，也只需要重新生成一份 license 即可，无需手动修改源代码。
原理简介 1、TrueLicense 是一个开源的证书管理引擎，详细介绍见 https://truelicense.java.net/
2、license 授权机制的原理
生成密钥对，包含私钥和公钥。
授权者保留私钥，使用私钥对授权信息诸如使用截止日期，mac 地址等内容生成 license 签名证书。
公钥给使用者，放在代码中使用，用于验证 license 签名证书是否符合使用条件
生成证书 利用jdk keytool工具制作证书 代码解读
复制代码
keytool -genkeypair -keysize 1024 -validity 3650 -alias &#34;privateKey&#34; -keystore &#34;privateKeys.keystore&#34; -storepass &#34;deepglint_store_pwd123&#34; -keypass &#34;deepglint_key_pwd123&#34; -dname &#34;CN=localhost, OU=localhost, O=localhost, L=SH, ST=SH, C=CN&#34;
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-11-25 00:00:00 +0000 UTC'>十一月 25, 2020</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;平凡人笔记</footer>
  <a class="entry-link" aria-label="post link to 基于TrueLicense的项目证书验证" href="http://localhost:1313/posts/juejin/%E5%9F%BA%E4%BA%8Etruelicense%E7%9A%84%E9%A1%B9%E7%9B%AE%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Vue3.5新特性盘点&#43;使用感受
    </h2>
  </header>
  <div class="entry-content">
    <p>前天 Vue 出 3.5 了，新增了一些功能（完整的 ChangeLog），来看看都有什么吧。
原文 blog.kaciras.com/article/41/…
Reactive Props Destructure 这次更新的吸引力没有 3.4 那么大，首先最大的更新就是这个 props 解构了，这是一个编译器特性，能够追踪 props 结构出来的变量，然后把用到的地方自动添加 props. 前缀。
javascript
代码解读
复制代码
const { count = 0, msg = &#39;hello&#39; } = defineProps&lt;{ count?: number message?: string }&gt;() function handle() { doSomething(count); }
上面的代码等价于：
javascript
代码解读
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-05 00:00:00 +0000 UTC'>九月 5, 2024</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;Kaciras</footer>
  <a class="entry-link" aria-label="post link to Vue3.5新特性盘点&#43;使用感受" href="http://localhost:1313/posts/juejin/vue3.5%E6%96%B0%E7%89%B9%E6%80%A7%E7%9B%98%E7%82%B9&#43;%E4%BD%BF%E7%94%A8%E6%84%9F%E5%8F%97/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/142/">
      «&nbsp;上一页&nbsp;142/152
    </a>
    <a class="next" href="http://localhost:1313/posts/page/144/">下一页&nbsp;144/152&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
