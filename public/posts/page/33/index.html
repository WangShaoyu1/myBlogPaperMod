<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="http://localhost:1313/posts/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Posts" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/posts/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }
  ]
}
</script>
</head>

<body class="list dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a></div>
  <h1>
    Posts
    <a href="/posts/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SpringCloudStream如何实现统一消息通信平台
    </h2>
  </header>
  <div class="entry-content">
    <p>Spring Cloud Stream是Spring家族提供的消息通信框架，而消息通信也是我们在分布式系统构建过程中的一个重要技术组件。然而，和普通的消息中间件不同，Spring Cloud Stream为开发人员提供的是一种跨消息中间件的统一消息通信平台。那么，它是如何做到这一点的呢？这是一个很好的话题，本文内容将围绕这一话题展开讨论。
我们知道，在分布式系统设计和开发过程中，服务与服务之间可以通过RPC实现交互。但是，RPC虽然实现起来比较简单，但却是一种耦合度较高的实现技术。为了降低服务与服务之间的耦合度，有时候我们需要引入消息通信机制，采用异步的方式来完成不同服务之间的交互。讲到这里，你可能会说，这不就是消息中间件能解决的问题吗？答案是肯定的，但还不够。
我们知道常见的消息通信规范以及中间件有很多种，代表性的规范有JMS和AMQP，对应的实现框架包括ActiveMQ和RabbitMQ等，而Kafka、RocketMQ等工具并不遵循特定的规范但也提供了消息通信的实现方案。显然，这些中间件的使用方式是完全不同的。那么，如何屏蔽这些中间件在使用上的差别，从而为开发人员提供了一套统一且高效的消息发送和接收API，这是我们今天要讨论的问题，如下图所示。
围绕统一消息平台的设计和实现，我们需要明确的是所采用的技术体系。目前，针对这个主题，我们可以参考和借鉴的框架并不多，而Spring家族中的Spring Cloud Stream是其中的代表。Spring Cloud Stream对整个消息发布和消费过程做了高度抽象，并提供了一系列核心组件，包括Binder、Channel、Source和Sink等。
让我们基于具体框架来分析底层的实现原理。在Spring Cloud Stream中，真正完成与对不同消息中间件之间的集成的是Binder组件。而不同的消息中间件具有不同的API，所以在Binder组件的设计和实现过程中，一方面需要考虑抽象，另一方面也需要针对不同中间件的特性来完成底层的交互过程。这部分内容是我们需要掌握的重点，值得深入进行学习，对于自身架构设计能力的提升有很大帮助。
消息通信技术体系 Spring家族中的消息通信解决方案 在Spring家族中，与消息通信机制相关的框架有三个，分别是Spring Messaging、Spring Integration和Spring Cloud Steam。事实上，Spring Cloud中的Spring Cloud Stream是基于Spring Integration实现了消息发布和消费机制并提供了一层封装，很多关于消息发布和消费的概念和实现方法本质上都是依赖于Spring Integration。而在Spring Integration的背后，则依赖于Spring Messaging组件来实现消息处理机制的基础设施。这三个框架之间的依赖关系如下图所示。
从依赖关系上讲，Spring Messaging 是Spring家族中处理消息通信的底层框架。而Spring Integration在定位上属于一种企业服务总线，依赖于Spring Messaging。因此，我们先来介绍Spring Messaging。
Spring Messaging是Spring框架内置的一个模块，提供了最基本的消息通信API，其中，消息这个概念由Message接口进行表示，包括一个消息头Header和一个消息体Payload，如下所示。
public interface Message {
T getPayload();
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-09 00:00:00 +0000 UTC'>四月 9, 2024</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;职略</footer>
  <a class="entry-link" aria-label="post link to SpringCloudStream如何实现统一消息通信平台" href="http://localhost:1313/posts/juejin/springcloudstream%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%BB%9F%E4%B8%80%E6%B6%88%E6%81%AF%E9%80%9A%E4%BF%A1%E5%B9%B3%E5%8F%B0/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">接口隔离原则在前端的应用
    </h2>
  </header>
  <div class="entry-content">
    <p>什么是接口隔离 接口隔离原则（ISP）是面向对象编程中的SOLID原则之一，它专注于设计接口。强调在设计接口时，应该确保一个类不必实现它不需要的方法。换句话说，接口应该尽可能地小，只包含一个类需要的方法，而不是一个庞大的接口，其中包含许多类不需要的方法。这样可以减少类之间的不必要依赖，提高模块化和代码的可维护性。
如果一个大型接口包含许多函数，但一个类不需要所有这些函数，它仍然必须实现全部，即使有些是不必要的。ISP建议我们应该将这样的大型接口拆分成更小、更专注的接口。这样，每个类可以实现它实际需要的函数，避免实现不必要的函数。
通过遵循这种方法，可以降低代码复杂性，使其更易于理解和维护。
ISP的主要目标包括：
将大型复杂接口拆分成更小、更具体的接口。 确保类不需要实现不必要的功能。 避免给类带来不必要的责任，从而产生更清晰、更易于理解的代码。 例如：
如果一个接口有10个方法，但特定类只需要其中的2个，ISP建议拆分这个大型接口。这样，每个类可以实现它需要的方法，而不需要实现其他的。
示例 1： 假设我们有一个用于所有类型任务的Worker接口：
java
代码解读
复制代码
public interface Worker { void work(); void eat(); }
我们可以通过创建用于工作的Workable和用于吃的Eatable的单独接口来解决这个问题：
java
代码解读
复制代码
public interface Workable { void work(); } public interface Eatable { void eat(); }
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-03 00:00:00 +0000 UTC'>十月 3, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;叶知秋水</footer>
  <a class="entry-link" aria-label="post link to 接口隔离原则在前端的应用" href="http://localhost:1313/posts/juejin/%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99%E5%9C%A8%E5%89%8D%E7%AB%AF%E7%9A%84%E5%BA%94%E7%94%A8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RTMP、RTSP直播播放器的低延迟设计探讨
    </h2>
  </header>
  <div class="entry-content">
    <p>​技术背景 没有多少开发者会相信RTMP或RTSP播放器，延迟会做到150-300ms内，除非测试过大牛直播SDK的，以Android平台启动轻量级RTSP服务和推送RTMP，然后Windows分别播放RTSP和RTMP为例，整体延迟如下：
大牛直播 SDK在保证超低延迟方面采取了多项技术措施。首先，其自有框架易于扩展，采用自适应算法，使得延迟更低、解码绘制效率更高。以 Windows 平台为例，海康摄像头 2560*1440 分辨率、8M 码率的 RTSP 流，SmartPlayer 延迟 200 毫秒左右，可满足平衡操控等低延迟场景。低延迟模式下，硬件性能无瓶颈的前提下，延迟可稳定在 150-300ms。
此外，大牛直播 SDK 的 RTSP 播放器支持 TCP 和 UDP 模式的自动切换，提高了播放的兼容性和灵活性，能够更好地适应不同的网络环境，减少延迟。同时，支持设置缓冲时间，以应对网络抖动等不稳定情况，确保播放的流畅性，在保证流畅性的同时也有助于控制延迟。
在技术实现上，底层原生模块把 RTSP|RTMP 流拉过来，做解析解码回调 YUV 或 RGB 数据到上层，在每个环节都做到极致，总体延迟可以达到 200 - 400ms。并且支持多实例播放，适用于需要同时监控多个视频源的场景，满足不同用户需求的同时也保证了低延迟性能。
如何设计低延迟的直播播放器 大牛直播 SDK 通过自有框架、自适应算法、协议自动切换、缓冲时间设置以及优化的技术实现等多方面措施，保证了超低延迟的播放效果。
自有框架如何降低延迟 大牛直播SDK的自有框架在降低延迟方面表现出色。它易于扩展，能够根据不同的应用场景进行灵活调整。这种自有框架在设计之初就以降低延迟为重要目标，通过优化各个模块之间的协作，提高数据处理效率。例如，在 RTMP 或 RTSP 直播播放器的设计中，从数据解析、解码、音视频数据同步到绘制等环节，自有框架能够确保数据传输的高效性，减少不必要的等待时间。同时，自有框架还能自适应不同的网络环境和硬件条件，自动调整参数以达到最佳的延迟效果。比如在网络状况不佳时，能够自动降低码率以保证流畅播放，同时尽量减少延迟的增加。此外，自有框架还通过优化内部算法，提高数据处理速度，进一步降低延迟。例如在解码过程中，采用高效的解码算法，充分利用硬件加速功能，如 GPU 加速，以快速处理大量的音视频数据。
自适应算法如何实现 大牛直播SDK的自适应算法是实现超低延迟的关键之一。该算法能够根据网络状况动态调整码率，确保直播服务的流畅性。例如，当网络带宽充足时，自适应算法会提高码率，以提供更高质量的视频画面；而当网络带宽受限或出现波动时，算法会自动降低码率，以减少数据传输量，保证视频的流畅播放，同时降低延迟。此外，自适应算法还能根据不同的硬件性能进行调整。如果硬件性能强大，算法会充分利用硬件资源，提高数据处理速度，进一步降低延迟；如果硬件性能有限，算法会自动优化参数，以确保在不影响播放质量的前提下，尽量降低延迟。在实际应用中，自适应算法会不断监测网络状况和硬件性能，并实时调整参数，以实现最佳的延迟效果。
RTSP播放器协议自动切换作用 大牛直播SDK的RTSP播放器支持 TCP 和 UDP 模式的自动切换，这在控制延迟方面起到了重要作用。不同的服务器可能支持不同的传输协议，自动切换功能可以提高播放的兼容性和灵活性。例如，在某些网络环境下，UDP 协议可能具有更低的延迟，但稳定性相对较差；而 TCP 协议则更加稳定，但延迟可能会稍高一些。通过自动切换功能，播放器可以根据实际情况选择最合适的传输协议，以达到平衡延迟和稳定性的目的。当网络状况良好时，播放器可以自动切换到 UDP 模式，以降低延迟；当网络出现抖动或不稳定时，播放器会自动切换到 TCP 模式，以保证播放的稳定性。这种自动切换功能使得播放器能够在不同的网络环境下都能保持较好的性能，为用户提供低延迟的播放体验。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-28 00:00:00 +0000 UTC'>九月 28, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;音视频牛哥</footer>
  <a class="entry-link" aria-label="post link to RTMP、RTSP直播播放器的低延迟设计探讨" href="http://localhost:1313/posts/juejin/rtmprtsp%E7%9B%B4%E6%92%AD%E6%92%AD%E6%94%BE%E5%99%A8%E7%9A%84%E4%BD%8E%E5%BB%B6%E8%BF%9F%E8%AE%BE%E8%AE%A1%E6%8E%A2%E8%AE%A8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">03开源任务管理系统：创建一个任务
    </h2>
  </header>
  <div class="entry-content">
    <p> GitHub 地址：github.com/dom-bro/tas…
虽说是一个任务管理系统，但简单地讲，其实就是任务的增删改查(CRUD)。
其中最重要的又当属增，即创建任务，此为数据之源，删改查都依赖于它所产生的数据。
交互设计 凭着程序员的直觉，最初做成了一个表单如下图，表单项也对应了数据库中的表的字段，简单直接。
后来经过同事的建议，对比了 tower，teambition，worktile 这些成熟产品的交互设计。
tower 看板如下图所示
teambition 看板如下图所示
worktile 看板如下图所示
...</p>
  </div>
  <footer class="entry-footer"><span title='2022-08-23 00:00:00 +0000 UTC'>八月 23, 2022</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;dombro</footer>
  <a class="entry-link" aria-label="post link to 03开源任务管理系统：创建一个任务" href="http://localhost:1313/posts/juejin/03%E5%BC%80%E6%BA%90%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">【ES6】模块导入
    </h2>
  </header>
  <div class="entry-content">
    <p>在ES6（ECMAScript 6）中，模块导入主要通过import关键字实现，提供了几种不同的方式来导入模块中导出的内容。以下是ES6中模块导入的几种主要方式：
导出方法 1. 导入默认导出(默认暴露) 当模块中使用了export default导出内容时，可以使用不加大括号的import语句来导入该模块。这种方式导入的内容，其名称在导入时可以是任意的，因为export default导出的内容被视为该模块的默认导出。
module.js
代码解读
复制代码
export default function() { console.log(&#39;default function&#39;); }
main.js
代码解读
复制代码
import myFunction from &#39;./module.js&#39;; myFunction(); // 输出: default function
2. 导入命名导出（分别暴露） 当模块中使用了export（没有default）来导出多个内容（如变量、函数、类等）时，可以使用加大括号的import语句来导入特定的命名导出。
module.js
代码解读
复制代码
export const name = &#39;John&#39;; export function sayHello() { console.log(&#39;Hello!&#39;); }
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-03 00:00:00 +0000 UTC'>十月 3, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;半花</footer>
  <a class="entry-link" aria-label="post link to 【ES6】模块导入" href="http://localhost:1313/posts/juejin/es6%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/32/">
      «&nbsp;上一页&nbsp;32/152
    </a>
    <a class="next" href="http://localhost:1313/posts/page/34/">下一页&nbsp;34/152&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
