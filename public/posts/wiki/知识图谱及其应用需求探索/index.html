<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>知识图谱及其应用需求探索 | PaperMod</title>
<meta name="keywords" content="黄婷">
<meta name="description" content="黄婷">
<meta name="author" content="王宇">
<link rel="canonical" href="http://localhost:1313/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="知识图谱及其应用需求探索" />
<meta property="og:description" content="黄婷" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />




<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="知识图谱及其应用需求探索"/>
<meta name="twitter:description" content="黄婷"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "知识图谱及其应用需求探索",
      "item": "http://localhost:1313/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "知识图谱及其应用需求探索",
  "name": "知识图谱及其应用需求探索",
  "description": "黄婷",
  "keywords": [
    "黄婷"
  ],
  "articleBody": " 11. 如何理解知识图谱中属性和关系的区别？ 22. 实体关系的种类 33. 知识图谱业务需求 3.13.1. 知识图谱的问答 3.1.13.1.1. 提出背景 3.1.23.1.2. 什么是知识图谱的问答？ 3.1.33.1.3. 知识图谱的问答有哪些特点 3.1.43.1.4. 知识图谱的问答适用问题 3.1.53.1.5. 如何选择场景 3.1.63.1.6. 业内案例 3.1.73.1.7. 未来拓展 3.23.2. 知识图谱用于指令任务 3.33.3. 基于图谱的搜索和推荐 3.3.13.3.1. 提出背景 3.3.23.3.2. 图谱的应用价值点 3.3.33.3.3. 业内案例：为全局搜索补充结构化内容 3.3.43.3.4. 业内案例：利用图谱路径来引导推荐 3.43.4. 知识推理：实体关系和属性挖掘 3.4.13.4.1. 推理可能的应用场景 3.4.23.4.2. 业内案例：美团的个性化推荐理由 3.4.33.4.3. 业内案例：百度智能写作的场景 3.4.43.4.4. 学术研究：新食品研发[9,10] 3.53.5. 业务需求考虑 3.5.13.5.1. 知识图谱与查表方案对比： 1. 如何理解知识图谱中属性和关系的区别？ 首先，【牛肉】作为《食材》这个类的实例，接下来考虑：\n1）（蛋白质）作为【牛肉】的属性nutrient_level的属性值 2）（蛋白质）作为《营养素》这个类的实例，再通过关系is_nutrient_level与【牛肉】连接 这两种表示方法到底会有什么区别？本质上二者都没有丢失信息，但是从应用上来讲在支持某些运算时会有性能**/逻辑简洁性上的差异。**\n比如我想要查询：【苦瓜牛肉】有哪些营养素？那我可能需要同时知道《菜谱》-《食材》+《食材》-《营养素》这两个mapping，这时第2种表达要拿到这两个mapping就会比第1种更容易，速度更快。\n进一步可以说，属性或关系，或者各位所说的内在和外在关联的划分，并不需要是一个绝对的、本体论上的划分，而是可以（其实是最好）根据图谱的具体应用需求进行设计的。\n另：事实上表达之所以有多种，是因为面向应用的知识图谱在逻辑上分得还不够细。比如我们考虑：类-实例，类-属性，实例-属性值，属性-属性值之间其实都存在mapping。建模语言RDF中，实体和属性都是节点，而关系则分为实体-实体关系和实体-属性关系，这种设计下也就只有第2种表达了，表达能力更强的语言还有RDFS和OWL\n2. 实体关系的种类 根据 MUC7 会议提出的定义，实体关系可分为“分类关系”（Taxonomy） 和“非分类关系”（Non-Taxonomy）两大类。\n3. 知识图谱业务需求 3.1. 知识图谱的问答 3.1.1. 提出背景 传统FAQ方式效果不好（性能较慢、不够准确、泛化性不够、不支持多轮对话等），相似问撰写人力成本太高。\n业界通用的问答系统是以Q\u0026A为中心构建问答，需要运营去穷举用户的所有的问题（question），然后给每个问题配上相应的答案。然后算法用Q-Qmatch解析到运营配置的问题（question）上，召回答案（answer）返回给用户。目前广泛用于语音助手，客服机器人当中，案例：三星BIXBY语音助手，小I机器人。\n**QA体系的优点：**简单易用、门槛低冷启动方便、算法定位技术成熟。\nQA体系的缺点：知识冗余/重复、知识难以枚举、QA缺乏推理能力、不能精细化回答，长答案难以理解、可解释性较差。\n阿里小蜜机器人案例：在开始阶段，小蜜采用 QA 体系作为主要的知识结构，并且取得了非常不错的效果。QA 结构具有简单易用、冷启动方便、算法成熟的一系列优点。但是，随着场景越来越丰富和复杂，QA 的解决能力遇到了瓶颈的问题。这是由于 QA 体系存在着一些缺陷。其一是知识的类似性或者冗余性。例如，“双11的报名入口在哪” 和 “双12的报名入口在哪”，这两条知识都是关于 “报名入口”，但是属于不同的活动。如果采用 QA 的方式，每个活动这种类似的知识都必须单独枚举出来，实际业务中不仅需要大量的知识维护成本，同时对算法模型的定位匹配也会造成很大的干扰。另一个缺点是 QA 缺乏推理能力，例如，“我现在还能不能参加今年的双11” 这个问题，是一个关于时间节点的知识。其实，在双11的知识条目里面，已经清楚的描述了参与报名的时间段。但是，在传统的 QA 体系下，这个问题是没法去进行推理和准确回答的。\n3.1.2. 什么是知识图谱的问答？ 知识图谱的问答是以知识为中心，通过将用户的问题匹配到对应知识上，然后通过召回知识返回给用户，匹配算法一般使用的是 KB-QA，中间会涉及到图查询，命名实体识别（NER），属性识别，推理引擎等技术。目前主要作为问答系统的一个辅助部分，用于结构化知识问答，案例：OPPO小布助手（参考链接：https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q\u0026a）\n3.1.3. 知识图谱的问答有哪些特点 可以基于海量原生知识去进行问答，常规的QA系统的A一般是运营深度加工过的，例如很人性化的话术，图片等等。 问答容量更大，常规的QA系统在Q超过一定数量之后算法的召回准确率会急剧下降。 问答逻辑自动推理，QA系统一般是由运营去解析用户问题中的逻辑，知识图谱的问答可以将这个逻辑让机器去解析，简单来说就是推理。 因为是以知识为中心去做问答，对话管理模块会更好做，在信息不确定的情况下可以多轮会话，人对话的时候会经常省略一些内容，可以通过上下文做意图继承。案例（代码流程图如下）：基于知识图谱的多轮对话系统 扩充实体的训练边际成本极低，运营成本极低；扩充schema的训练成本较高，变动成本极高。 相比传统搜索、FAQ技术的优势：\n3.1.4. 知识图谱的问答适用问题 **事实性客观问题：**特点是语法结构简单、语义结构清晰（通常是关于某个事物或事件的简单描述性属性或关系型属性，可以通过简单的数据库查询解答）\n询问命名实体的基本定义：事物的分类（IS-A，例“热带水果有哪些？”）；事物的别名（ALIASEs，例“番茄是西红柿吗？”）；事物的定义（WHAT-IS，例“什么是西红柿？”） 询问实体属性，包括描述性属性和关系性属性（PROPERTY）：人（WHO，例“谁创建了《香辣凤爪》菜谱？”）；地点（WHERE，例“《香辣凤爪》菜谱的作者是哪里人？”）；时间（WHEN，例“《香辣凤爪》菜谱是什么时候创建的？”）；属性（ATTRIBUTE，例“《香辣凤爪》菜谱属于哪个菜系？”） **复杂知识图谱查询：**询问实体列表或统计结果，例如“《香辣凤爪》菜谱的作者还有哪些菜谱？”，“《香辣凤爪》菜谱有哪些营养素？”，“《香辣凤爪》菜谱有多少热量？”；询问实体差异，例如“《香辣凤爪》和《卤凤爪》菜谱哪里相似，哪里不同？”；询问实体关系，例如“《香辣凤爪》和《卤凤爪》有什么关系？” **主观深层次问题：**包括事实型问题之外的其他问题，例如观点型、因果型、解释型、关联型与比较型等。这一类问题本身的语法结构并不复杂，但是这些问题需要一定的专业知识和主观推理计算才能解答，而且这一类问题有时甚至不止一个答案，需要结合用户偏好和智能体的配置找到不同的最优解。可以细分如下：\n问解释（WHY），例如“为什么《香辣凤爪》是甜的？”，“为什么《蒜蓉油麦菜》不放姜？” 问方法（HOW），例如“《香辣凤爪》怎么做？”，“如何创建《香辣凤爪》的菜谱？” 问专家意见（CONSULT），例如“糖尿病人可以吃《香辣凤爪》吗？” 问推荐（RECOMMENDATION），例如“哪个菜谱和《香辣凤爪》类似？” 3.1.5. 如何选择场景 价值：产生的问答效果，积累下来的领域数据，商业上能够致胜等等。\n成本：包括技术成本，构建成本，时间成本，后期运营成本等等。\n一个最基本的衡量标准是产生的价值\u003e成本即可。\n根据上述的知识图谱特点，将成本进行拆分：\n挑选成本可控，价值比较明确的场景即可。\n3.1.6. 业内案例 目前工业界使用知识图谱作为主要问答解析方式的其实不多，实际应用中会更关注覆盖率，已经扩充的便捷性，而这一点恰好是QA系统的强项。\n目前问答系统，特别是封闭式的问答系统中，商业化公司一般会偏向两类方案：1.QQ/QA匹配的方案 2.基于知识图谱的方案。\n（QA 匹配：输入Query与候选的所有Answer 计算相似度，去找哪一个最合适。QQ 匹配（常用）：输入Query与历史语料库里的Query去找哪一个最相似，然后把找到的query对应的Answer取出即可。）\n两种方案都有各自的优势：\n**QQ/QA匹配方案（基于信息检索的方法）**项目容易启动，并且能够很快速的解决基础核心问题，但是由于结构问题，不能很好的理解上下文，还有意图模糊的问题。该方法最大的风险因素在人这一块，因为构建规则库到后期成本会越来越高，而且冲突会越来越多，总体来说，这是一个很好做，但是上限不高的方案。如果说只需要满足基础的核心QA需求，这种方案是不错的选择，目前采用这种方案的bot：网易七鱼，中国电信客服机器人 **知识图谱方案（基于语义解析的方法）**能够更好的理解语言中的抽象部分，更好的去对语言中模糊的部分通过交互来确认信息。在推荐上能够锁定较少，较为精确的推荐结果，在算法上会比较好实现。目前采用这种方案的bot：度秘、阿里小蜜、小蚂答。 行业智能问答系统通常将这两种方法结合使用，对于用户的query，首先使用基于语义解析的方法进行问答。因为基于信息检索的方法应用面广，所以当前一种方法无法给出结果时，就使用信息检索的方法进行回答。\n案例：OPPO小布助手（参考链接：https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q\u0026a）\n如上图（上图：小布助手的query类型，下图：小蜜 KBQA 要解决的问题类型）所示，对于知识图谱解答的结构化问题，在小布助手的应用中有四大类 query：\n基础链式查询，如单跳、两跳、甚至更多跳的问题 实体关系查询 多变量约束查询（时间约束句、条件约束句）：OPPO会利用问句分类模块判断出 query 属于多约束查询，随后将 query 中包含的所有约束识别出来。在使用多约束查询时，不会在图数据库中执行查询操作，而是选用 ES 进行多条件查询，这是因为图数据库检索耗时很大。 比较推理查询（最值句、比较句、是否型问句、并列句）：OPPO首先利用问句分类模块识别出 query 属于比较推理查询，随后在图谱中进行多实体查询，根据比较推理中需要查询的属性判断两个实体对应的属性是否可比。若多实体属性是可比的，会执行推理计算，最终输出推理查询的结果。 OPPO针对结构化问题设计了一套基于 KBQA 的算法框架。首先，在接收到线上用户的 query 输入后，我们会先对其进行领域识别以及意图分类。若 query 是可以使用 KBQA 解决，那么会对 query 进行实体识别、query 解析和答案生成。这三个主要步骤又可以通过在线和离线两方面进行进一步归类。\n3.1.7. 未来拓展 在未来，可能会尝试以下几类优化方案：\n常识推理图谱+常识问答：开放领域（通用）知识图谱面向通用领域，面向的用户是全部的互联网用户，实际上是谷歌或者百度这样的搜索公司在构建，它的构建是以常识性的知识为主，包括结构化的百科知识，它更强调知识的广度，而对深度不做更多要求。 多模态图谱+多模态问答 用户图谱+个性化推荐 知识图谱+大规模预训练语言模型 低资源条件的信息抽取 3.2. 知识图谱用于指令任务 可以将查询数据库的指令转化为查询图数据库的问题，用知识图谱的能力解决，从而减少指令话术。 可以将部分指令中的实体与问答实体统一在知识图谱中管理，通过识别标志区分具体的意图，从而增强对话系统的意图识别能力。 其他类型的指令任务（比如“启动烹饪”、“播放XXX食谱”、“设置大火XXX，小火XXX”等）难以直接用知识图谱解决，业内只有知识问答相关的场景（涉及图数据库的查询）应用。 3.3. 基于图谱的搜索和推荐 3.3.1. 提出背景 传统的推荐存在着以下几点挑战：\n可解释性需求强烈：可解释性可以直接影响用户的体验和决策，从而促进交易，达成业务目标； 数据稀疏：大部分商品、食谱业务的订单相对较少，且新用户的占比偏高；不足以训练商品级别的排序特征。 **时空场景复杂：**我们需要考虑到本异地、时间、地点等因素。一个典型的本异地的场景例子是一个用户在出差前需要查看目的地商品。有关时间因素的例子如一个用户在早上喜欢吃豆浆油条，中午就喜欢吃正餐。又如一个用户在家和在公司喜欢烹饪的食品不一样，这就是一个考虑地点因素的例子。 图谱搜索推荐的优势：提高搜索推荐的准确性、多样性、可解释性和效率。\n图谱搜索推荐的劣势：知识图谱构建成本高，范围有限。\n3.3.2. 图谱的应用价值点 为全局搜索补充结构化内容。 利用图谱路径来引导推荐：基于知识图谱推荐相关实体。 运用知识表示推理的方法，对图谱网络进行预测补全：补充缺失属性或关系，为用户画像补充标签数量。 基于图谱的知识推理来生成推荐理由。 3.3.3. 业内案例：为全局搜索补充结构化内容 知识图谱最典型的应用是结构化信息展示。\n百度知识图谱的相关应用：\n美团知识图谱的相关应用：（美团推荐：https://www.cnblogs.com/datafuntalk/p/16278155.html）\n例如，我们可以从药品的说明书中挖掘出药品的功效来展示给消费者；我们可以将知识图谱利用在商品筛选项中，如用户搜索薯片时向其展示按口味区分的筛选项，从而使他能够快速地选择符合口味的薯片进行购买。\n3.3.4. 业内案例：利用图谱路径来引导推荐 除了利用知识图谱来向用户进行结构化信息展示之外，我们还利用图谱路径来引导推荐。如相关搜索-召回的业务场景，当一个用户输入一个query以后下滑了很久都没有进行点击，那么我们就会为其推荐一部分更好的query。一个简单的做法就是直接使用知识图谱路径召回，将query对应的实体在图谱中有连接的下位实体推荐给用户，如“奶茶”对应的“珍珠奶茶”、“香草奶茶”等。这一方法的优点在于其召回的相关性较好，这得益于知识图谱的质量很高，缺点是召回率低，因为用户的query含有噪声信息，而知识图谱的实体较为纯净。在实际业务中，我们更常用的做法是利用embedding进行召回，具体做法是将用户历史query以及点击poi进行构图，之后使用GNN模型来训练embedding。当用户输入一个query时，我们在训练好的向量空间中搜索query向量的近邻向量作为候选召回。这一做法的优点是召回率高，但是召回的bad case较多，且即便embedding的质量非常高也无法避免bad case的出现。\n美团在业务中会首先使用embedding召回的方法生成一系列候选召回集合。随后，我们使用用户交互行为与知识图谱来进行构图。如下图所示，query与poi、query与deal（商家的团单）是点击关系，这部分来源于点击行为；deal属于poi，且每个poi都从属于一个类目，这部分信息来源于知识图谱。我们通过两部分信息的结合构成一系列路径，可以通过每一条路径来计算query属于哪一类poi类目的得分，其对应于query对应的类目分布。通过计算交叉熵，将不符合要求的候选召回过滤掉，从而实现在召回率高的同时减少bad case。\n基于上述embedding召回+图谱路径过滤的方法，美团推荐的默认词模块、热门搜索模块、相关搜索模块都得到显著的业务指标的提升，尤其是相关搜索模块，无结果率下降了10个百分点，点击QV提升了34%。\n3.4. 知识推理：实体关系和属性挖掘 3.4.1. 推理可能的应用场景 运用知识表示推理的方法，对图谱网络进行预测补全：补充缺失属性或关系，为用户画像补充标签数量。 例如：用户问“新食记店铺的《番茄炒蛋》味道如何？”，假设知识图谱不存在《番茄炒蛋》在新食记店铺的味道，该如何回答呢？\n有两种方式：第一，若存在《番茄炒蛋》概念，且这个概念有味道属性，可使用这个概念的味道属性填充该问题；第二，更好的方式是找到用户问题最相似的子结点，即新食记店铺的子结点，发现其定义了《番茄炒蛋》和其味道属性，可拿该味道进行填充。\n基于图谱的知识推理来生成推荐理由。 以知识图谱数据为核心，应用知识加工、计算、聚合等方式产生高时效、高质量的独家内容。（百度智能写作、生成新菜谱、新食品研发） 从知识图谱挖掘实体社群，掌握系统结构（发现一些相似的实体。广泛用于团伙发现，同类推荐场景。广泛用于金融行业反欺诈场景，社交推荐。主要技术点：社团搜索）；利用知识图谱的可视化内容，做运营决策。 3.4.2. 业内案例：美团的个性化推荐理由 以下图为例，左侧是知识图谱，可以通过它来学习每个用户到每个商户的路径分。比如学习到用户的家乡属于某一个城市，以及这个城市的特色菜品，同时这个菜品又隶属于某个商户，若此时这一路径在当前用户对当前商户的所有路径中得分最高，就可以按照这条路径生成推荐理由，如“和你一样的四川老乡也喜欢这家店的水煮鱼”。可以看出，这一方法生成的推荐理由是十分个性化的，且其吸引力较强。\n基于图谱的推荐理由生成在线上也取得了很好的收益。与从UGC中挖掘的推荐理由相比，这一方法有两个优势。\n首先，这一方法不依赖商户评价数据，这对新店较为友好，我们可以使用用户交互行为和知识图谱来为用户提供个性化推荐理由。\n第二，由于生成的路径很灵活，我们可以轻松地为用户从个性化与多维度的角度生成推荐理由。\n3.4.3. 业内案例：百度智能写作的场景 3.4.4. 学术研究：新食品研发[9,10] 利用食品知识图谱的知识组织能力和推理能力，可以开发基于现有产品的新式食品。Shirai等人提出了一种启发式方法，能够基于食品知识图谱FoodKG中食品成分属性和食品成分名称潜在语义的相似性，对替代成分进行排序，并选择最佳替代成分。在食品行业，这种方法可以用于寻找现有产品的成分替代品，降低食品生产成本，或是开发新的食物口味，以增加产品多样性。对于消费者而言，这种基于食品知识图的成分替代方法可以用于满足其个性化的定制需求。此外，还可以借助知识图谱开发包含成分和烹饪步骤在内的新食谱。\n3.5. 业务需求考虑 3.5.1. 知识图谱与查表方案对比： 单跳查属性的问题：用知识图谱和查表的方式实现都可以，但是知识图谱构建成本和门槛更高，表格实现的性价比更好。 **多跳查属性的问题：**涉及到多个实体之间的关联查询，如果通过查表实现，需要在多个实体表之间进行连接或跳转，灵活性不高，数据量较大的情况下性能不佳。例：【香辣凤爪】菜谱的《作者》是男还是女？【香辣凤爪】所属《菜系》发源地？【香辣凤爪】的《烹饪方式》有什么注意事项？【万得厨】《厂家》还有其他产品吗？【蒜香烤鱼】的《包装盒》产地/厂家是哪个？ **查实体关系/差异的问题：**实体和属性之间的关系，或者同类实体对应属性之间的比较关系可以通过简单的查表处理实现。但无法查询到更深层次的关系，而知识图谱则能挖掘到深层次的答案。例：【万得厨】《产品》跟【扬翔】《公司》是否有关系？ **复杂推理查询：**知识图谱更适合于缺失属性和隐藏关系推理。常见是否型问题，例：【糖尿病人】可以吃【香辣凤爪】吗？【塑料碗】可以放入【微波炉】吗？ **推荐/相关实体查询：**基于知识图谱的推荐与传统推荐相比，能提高搜索推荐的准确性、多样性、可解释性和效率。 具体采用哪种方案，需要根据当前业务量及用户需求来考虑，并适当考虑业务的拓展性。\n参考链接：\n大话知识图谱–知识图谱的定义和应用场景 (qq.com) 知识图谱应用篇（二）-问答系统 - 简书 (jianshu.com) 知识图谱应用篇（三）-知识图谱的问答场景应该如何选择？ - 简书 (jianshu.com) OPPO 自研大规模知识图谱及其在数智工程中的应用 (nebula-graph.com.cn) 知识结构化在阿里小蜜中的应用 (qq.com) 知识图谱在美团推荐场景中的应用 基于知识图谱的问答在美团智能交互场景中的应用和演进 (qq.com) 翻译-食品知识图谱在食品科学和工业中的应用综述（2022） 原文-食品知识图谱在食品科学和工业中的应用综述（2022） Filter table dataCreate a pivot tableCreate a chart from data series\nConfigure buttons visibility\n",
  "wordCount" : "271",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "王宇"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      知识图谱及其应用需求探索
    </h1>
    <div class="post-description">
      黄婷
    </div>
    <div class="post-meta">2 分钟&nbsp;·&nbsp;王宇&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/wiki/%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e5%a6%82%e4%bd%95%e7%90%86%e8%a7%a3%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e4%b8%ad%e5%b1%9e%e6%80%a7%e5%92%8c%e5%85%b3%e7%b3%bb%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="1. 如何理解知识图谱中属性和关系的区别？">1. 如何理解知识图谱中属性和关系的区别？</a></li>
                <li>
                    <a href="#2-%e5%ae%9e%e4%bd%93%e5%85%b3%e7%b3%bb%e7%9a%84%e7%a7%8d%e7%b1%bb" aria-label="2. 实体关系的种类">2. 实体关系的种类</a></li>
                <li>
                    <a href="#3-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e4%b8%9a%e5%8a%a1%e9%9c%80%e6%b1%82" aria-label="3. 知识图谱业务需求">3. 知识图谱业务需求</a><ul>
                        
                <li>
                    <a href="#31-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e7%9a%84%e9%97%ae%e7%ad%94" aria-label="3.1. 知识图谱的问答">3.1. 知识图谱的问答</a><ul>
                        
                <li>
                    <a href="#311-%e6%8f%90%e5%87%ba%e8%83%8c%e6%99%af" aria-label="3.1.1. 提出背景">3.1.1. 提出背景</a></li>
                <li>
                    <a href="#312-%e4%bb%80%e4%b9%88%e6%98%af%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e7%9a%84%e9%97%ae%e7%ad%94" aria-label="3.1.2. 什么是知识图谱的问答？">3.1.2. 什么是知识图谱的问答？</a></li>
                <li>
                    <a href="#313-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e7%9a%84%e9%97%ae%e7%ad%94%e6%9c%89%e5%93%aa%e4%ba%9b%e7%89%b9%e7%82%b9" aria-label="3.1.3. 知识图谱的问答有哪些特点">3.1.3. 知识图谱的问答有哪些特点</a></li>
                <li>
                    <a href="#314-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e7%9a%84%e9%97%ae%e7%ad%94%e9%80%82%e7%94%a8%e9%97%ae%e9%a2%98" aria-label="3.1.4. 知识图谱的问答适用问题">3.1.4. 知识图谱的问答适用问题</a></li>
                <li>
                    <a href="#315-%e5%a6%82%e4%bd%95%e9%80%89%e6%8b%a9%e5%9c%ba%e6%99%af" aria-label="3.1.5. 如何选择场景">3.1.5. 如何选择场景</a></li>
                <li>
                    <a href="#316-%e4%b8%9a%e5%86%85%e6%a1%88%e4%be%8b" aria-label="3.1.6. 业内案例">3.1.6. 业内案例</a></li>
                <li>
                    <a href="#317-%e6%9c%aa%e6%9d%a5%e6%8b%93%e5%b1%95" aria-label="3.1.7. 未来拓展">3.1.7. 未来拓展</a></li></ul>
                </li>
                <li>
                    <a href="#32-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e7%94%a8%e4%ba%8e%e6%8c%87%e4%bb%a4%e4%bb%bb%e5%8a%a1" aria-label="3.2. 知识图谱用于指令任务">3.2. 知识图谱用于指令任务</a></li>
                <li>
                    <a href="#33-%e5%9f%ba%e4%ba%8e%e5%9b%be%e8%b0%b1%e7%9a%84%e6%90%9c%e7%b4%a2%e5%92%8c%e6%8e%a8%e8%8d%90" aria-label="3.3. 基于图谱的搜索和推荐">3.3. 基于图谱的搜索和推荐</a><ul>
                        
                <li>
                    <a href="#331-%e6%8f%90%e5%87%ba%e8%83%8c%e6%99%af" aria-label="3.3.1. 提出背景">3.3.1. 提出背景</a></li>
                <li>
                    <a href="#332-%e5%9b%be%e8%b0%b1%e7%9a%84%e5%ba%94%e7%94%a8%e4%bb%b7%e5%80%bc%e7%82%b9" aria-label="3.3.2. 图谱的应用价值点">3.3.2. 图谱的应用价值点</a></li>
                <li>
                    <a href="#333-%e4%b8%9a%e5%86%85%e6%a1%88%e4%be%8b%e4%b8%ba%e5%85%a8%e5%b1%80%e6%90%9c%e7%b4%a2%e8%a1%a5%e5%85%85%e7%bb%93%e6%9e%84%e5%8c%96%e5%86%85%e5%ae%b9" aria-label="3.3.3. 业内案例：为全局搜索补充结构化内容">3.3.3. 业内案例：为全局搜索补充结构化内容</a></li>
                <li>
                    <a href="#334-%e4%b8%9a%e5%86%85%e6%a1%88%e4%be%8b%e5%88%a9%e7%94%a8%e5%9b%be%e8%b0%b1%e8%b7%af%e5%be%84%e6%9d%a5%e5%bc%95%e5%af%bc%e6%8e%a8%e8%8d%90" aria-label="3.3.4. 业内案例：利用图谱路径来引导推荐">3.3.4. 业内案例：利用图谱路径来引导推荐</a></li></ul>
                </li>
                <li>
                    <a href="#34-%e7%9f%a5%e8%af%86%e6%8e%a8%e7%90%86%e5%ae%9e%e4%bd%93%e5%85%b3%e7%b3%bb%e5%92%8c%e5%b1%9e%e6%80%a7%e6%8c%96%e6%8e%98" aria-label="3.4. 知识推理：实体关系和属性挖掘">3.4. 知识推理：实体关系和属性挖掘</a><ul>
                        
                <li>
                    <a href="#341-%e6%8e%a8%e7%90%86%e5%8f%af%e8%83%bd%e7%9a%84%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="3.4.1. 推理可能的应用场景">3.4.1. 推理可能的应用场景</a></li>
                <li>
                    <a href="#342-%e4%b8%9a%e5%86%85%e6%a1%88%e4%be%8b%e7%be%8e%e5%9b%a2%e7%9a%84%e4%b8%aa%e6%80%a7%e5%8c%96%e6%8e%a8%e8%8d%90%e7%90%86%e7%94%b1" aria-label="3.4.2. 业内案例：美团的个性化推荐理由">3.4.2. 业内案例：美团的个性化推荐理由</a></li>
                <li>
                    <a href="#343-%e4%b8%9a%e5%86%85%e6%a1%88%e4%be%8b%e7%99%be%e5%ba%a6%e6%99%ba%e8%83%bd%e5%86%99%e4%bd%9c%e7%9a%84%e5%9c%ba%e6%99%af" aria-label="3.4.3. 业内案例：百度智能写作的场景">3.4.3. 业内案例：百度智能写作的场景</a></li>
                <li>
                    <a href="#344-%e5%ad%a6%e6%9c%af%e7%a0%94%e7%a9%b6%e6%96%b0%e9%a3%9f%e5%93%81%e7%a0%94%e5%8f%91910httpszhuanlanzhihucomp558587163" aria-label="3.4.4. 学术研究：新食品研发[9,10]">3.4.4. 学术研究：新食品研发[9,10]</a></li></ul>
                </li>
                <li>
                    <a href="#35-%e4%b8%9a%e5%8a%a1%e9%9c%80%e6%b1%82%e8%80%83%e8%99%91" aria-label="3.5. 业务需求考虑">3.5. 业务需求考虑</a><ul>
                        
                <li>
                    <a href="#351-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e4%b8%8e%e6%9f%a5%e8%a1%a8%e6%96%b9%e6%a1%88%e5%af%b9%e6%af%94" aria-label="3.5.1. 知识图谱与查表方案对比：">3.5.1. 知识图谱与查表方案对比：</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><ul>
<li>1<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-如何理解知识图谱中属性和关系的区别？">1. 如何理解知识图谱中属性和关系的区别？</a></li>
<li>2<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-实体关系的种类">2. 实体关系的种类</a></li>
<li>3<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识图谱业务需求">3. 知识图谱业务需求</a>
<ul>
<li>3.1<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识图谱的问答">3.1. 知识图谱的问答</a>
<ul>
<li>3.1.1<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-提出背景">3.1.1. 提出背景</a></li>
<li>3.1.2<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-什么是知识图谱的问答？">3.1.2. 什么是知识图谱的问答？</a></li>
<li>3.1.3<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识图谱的问答有哪些特点">3.1.3. 知识图谱的问答有哪些特点</a></li>
<li>3.1.4<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识图谱的问答适用问题">3.1.4. 知识图谱的问答适用问题</a></li>
<li>3.1.5<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-如何选择场景">3.1.5. 如何选择场景</a></li>
<li>3.1.6<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-业内案例">3.1.6. 业内案例</a></li>
<li>3.1.7<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-未来拓展">3.1.7. 未来拓展</a></li>
</ul>
</li>
<li>3.2<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识图谱用于指令任务">3.2. 知识图谱用于指令任务</a></li>
<li>3.3<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-基于图谱的搜索和推荐">3.3. 基于图谱的搜索和推荐</a>
<ul>
<li>3.3.1<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-提出背景.1">3.3.1. 提出背景</a></li>
<li>3.3.2<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-图谱的应用价值点">3.3.2. 图谱的应用价值点</a></li>
<li>3.3.3<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-业内案例：为全局搜索补充结构化内容">3.3.3. 业内案例：为全局搜索补充结构化内容</a></li>
<li>3.3.4<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-业内案例：利用图谱路径来引导推荐">3.3.4. 业内案例：利用图谱路径来引导推荐</a></li>
</ul>
</li>
<li>3.4<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识推理：实体关系和属性挖掘">3.4. 知识推理：实体关系和属性挖掘</a>
<ul>
<li>3.4.1<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-推理可能的应用场景">3.4.1. 推理可能的应用场景</a></li>
<li>3.4.2<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-业内案例：美团的个性化推荐理由">3.4.2. 业内案例：美团的个性化推荐理由</a></li>
<li>3.4.3<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-业内案例：百度智能写作的场景">3.4.3. 业内案例：百度智能写作的场景</a></li>
<li>3.4.4<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-学术研究：新食品研发[9,10]">3.4.4. 学术研究：新食品研发[9,10]</a></li>
</ul>
</li>
<li>3.5<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-业务需求考虑">3.5. 业务需求考虑</a>
<ul>
<li>3.5.1<a href="/posts/wiki/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E9%9C%80%E6%B1%82%E6%8E%A2%E7%B4%A2/#id-知识图谱及其应用需求探索-知识图谱与查表方案对比：">3.5.1. 知识图谱与查表方案对比：</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="1-如何理解知识图谱中属性和关系的区别">1. 如何理解知识图谱中属性和关系的区别？<a hidden class="anchor" aria-hidden="true" href="#1-如何理解知识图谱中属性和关系的区别">#</a></h1>
<p>首先，【牛肉】作为《食材》这个类的实例，接下来考虑：</p>
<ul>
<li>1）（蛋白质）作为【牛肉】的属性nutrient_level的属性值</li>
<li>2）（蛋白质）作为《营养素》这个类的实例，再通过关系is_nutrient_level与【牛肉】连接</li>
</ul>
<p>这两种表示方法到底会有什么区别？<strong>本质上二者都没有丢失信息，但是从应用上来讲在支持某些运算时会有性能</strong>**/逻辑简洁性上的差异。**</p>
<p>比如我想要查询：【苦瓜牛肉】有哪些营养素？那我可能需要同时知道《菜谱》-《食材》+《食材》-《营养素》这两个mapping，这时第2种表达要拿到这两个mapping就会比第1种更容易，速度更快。</p>
<p>进一步可以说，<strong>属性或关系，或者各位所说的内在和外在关联的划分，并不需要是一个绝对的、本体论上的划分，而是可以（其实是最好）根据图谱的具体应用需求进行设计的。</strong></p>
<p>另：事实上表达之所以有多种，是因为面向应用的知识图谱在逻辑上分得还不够细。比如我们考虑：类-实例，类-属性，实例-属性值，属性-属性值之间其实都存在mapping。建模语言RDF中，实体和属性都是节点，而关系则分为实体-实体关系和实体-属性关系，这种设计下也就只有第2种表达了，表达能力更强的语言还有RDFS和OWL</p>
<h1 id="2-实体关系的种类">2. 实体关系的种类<a hidden class="anchor" aria-hidden="true" href="#2-实体关系的种类">#</a></h1>
<p>根据 MUC7 会议提出的定义，实体关系可分为“分类关系”（Taxonomy） 和“非分类关系”（Non-Taxonomy）两大类。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-3_9-50-34.png?version=1&amp;modificationDate=1688349034556&amp;api=v2" alt=""  />
</p>
<h1 id="3-知识图谱业务需求">3. 知识图谱业务需求<a hidden class="anchor" aria-hidden="true" href="#3-知识图谱业务需求">#</a></h1>
<h2 id="31-知识图谱的问答">3.1. 知识图谱的问答<a hidden class="anchor" aria-hidden="true" href="#31-知识图谱的问答">#</a></h2>
<h3 id="311-提出背景">3.1.1. 提出背景<a hidden class="anchor" aria-hidden="true" href="#311-提出背景">#</a></h3>
<p>传统FAQ方式效果不好（性能较慢、不够准确、泛化性不够、不支持多轮对话等），相似问撰写人力成本太高。</p>
<p>业界通用的问答系统是以Q&amp;A为中心构建问答，需要运营去穷举用户的所有的问题（question），然后给每个问题配上相应的答案。然后算法用Q-Qmatch解析到运营配置的问题（question）上，召回答案（answer）返回给用户。目前广泛用于语音助手，客服机器人当中，案例：三星BIXBY语音助手，小I机器人。</p>
<p>**QA体系的优点：**简单易用、门槛低冷启动方便、算法定位技术成熟。</p>
<p><strong>QA体系的缺点：知识冗余/重复、知识难以枚举、QA缺乏推理能力、不能精细化回答，长答案难以理解、可解释性较差。</strong></p>
<p><strong>阿里小蜜机器人案例</strong>：在开始阶段，小蜜采用 QA 体系作为主要的知识结构，并且取得了非常不错的效果。QA 结构具有简单易用、冷启动方便、算法成熟的一系列优点。但是，随着场景越来越丰富和复杂，QA 的解决能力遇到了瓶颈的问题。这是由于 <strong>QA 体系存在着一些缺陷</strong>。其一是<strong>知识的类似性或者冗余性</strong>。例如，&ldquo;双11的报名入口在哪&rdquo; 和 &ldquo;双12的报名入口在哪&rdquo;，这两条知识都是关于 &ldquo;报名入口&rdquo;，但是属于不同的活动。如果采用 QA 的方式，每个活动这种类似的知识都必须单独枚举出来，实际业务中不仅需要大量的知识维护成本，同时对算法模型的定位匹配也会造成很大的干扰。另一个缺点是 <strong>QA 缺乏推理能力</strong>，例如，&ldquo;我现在还能不能参加今年的双11&rdquo; 这个问题，是一个关于时间节点的知识。其实，在双11的知识条目里面，已经清楚的描述了参与报名的时间段。但是，在传统的 QA 体系下，这个问题是没法去进行推理和准确回答的。</p>
<h3 id="312-什么是知识图谱的问答">3.1.2. 什么是知识图谱的问答？<a hidden class="anchor" aria-hidden="true" href="#312-什么是知识图谱的问答">#</a></h3>
<p>知识图谱的问答是以知识为中心，通过将用户的问题匹配到对应知识上，然后通过召回知识返回给用户，匹配算法一般使用的是 KB-QA，中间会涉及到图查询，命名实体识别（NER），属性识别，推理引擎等技术。目前主要作为问答系统的一个辅助部分，用于结构化知识问答，案例：OPPO小布助手（参考链接：<a href="https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q&a">https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q&amp;a</a>）</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-3_22-55-50.png?version=1&amp;modificationDate=1688396150705&amp;api=v2" alt=""  />
</p>
<h3 id="313-知识图谱的问答有哪些特点">3.1.3. 知识图谱的问答有哪些特点<a hidden class="anchor" aria-hidden="true" href="#313-知识图谱的问答有哪些特点">#</a></h3>
<ul>
<li><strong>可以基于海量原生知识去进行问答</strong>，常规的QA系统的A一般是运营深度加工过的，例如很人性化的话术，图片等等。</li>
<li><strong>问答容量更大</strong>，常规的QA系统在Q超过一定数量之后算法的召回准确率会急剧下降。</li>
<li><strong>问答逻辑自动推理</strong>，QA系统一般是由运营去解析用户问题中的逻辑，知识图谱的问答可以将这个逻辑让机器去解析，简单来说就是推理。</li>
<li>因为是以知识为中心去做问答，<strong>对话管理模块会更好做</strong>，<strong>在信息不确定的情况下可以多轮会话</strong>，人对话的时候会经常省略一些内容，可以通过上下文做意图继承。案例（代码流程图如下）：<a href="https://blog.csdn.net/qq_37056779/article/details/127699422">基于知识图谱的多轮对话系统</a></li>
</ul>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-3_11-10-5.png?version=1&amp;modificationDate=1688353805880&amp;api=v2" alt=""  />
</p>
<ul>
<li>扩充实体的训练边际成本极低，运营成本极低；扩充schema的训练成本较高，变动成本极高。</li>
</ul>
<p><strong>相比传统搜索、FAQ技术的优势：</strong></p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_14-6-0.png?version=1&amp;modificationDate=1688537160869&amp;api=v2" alt=""  />
</p>
<h3 id="314-知识图谱的问答适用问题">3.1.4. 知识图谱的问答适用问题<a hidden class="anchor" aria-hidden="true" href="#314-知识图谱的问答适用问题">#</a></h3>
<p>**事实性客观问题：**特点是语法结构简单、语义结构清晰（通常是关于某个事物或事件的简单描述性属性或关系型属性，可以通过简单的数据库查询解答）</p>
<ul>
<li><strong>询问命名实体的基本定义</strong>：事物的分类（IS-A，例“热带水果有哪些？”）；事物的别名（ALIASEs，例“番茄是西红柿吗？”）；事物的定义（WHAT-IS，例“什么是西红柿？”）</li>
<li><strong>询问实体属性，包括描述性属性和关系性属性</strong>（PROPERTY）：人（WHO，例“谁创建了《香辣凤爪》菜谱？”）；地点（WHERE，例“《香辣凤爪》菜谱的作者是哪里人？”）；时间（WHEN，例“《香辣凤爪》菜谱是什么时候创建的？”）；属性（ATTRIBUTE，例“《香辣凤爪》菜谱属于哪个菜系？”）</li>
<li>**复杂知识图谱查询：**询问实体列表或统计结果，例如“《香辣凤爪》菜谱的作者还有哪些菜谱？”，“《香辣凤爪》菜谱有哪些营养素？”，“《香辣凤爪》菜谱有多少热量？”；询问实体差异，例如“《香辣凤爪》和《卤凤爪》菜谱哪里相似，哪里不同？”；询问实体关系，例如“《香辣凤爪》和《卤凤爪》有什么关系？”</li>
</ul>
<p>**主观深层次问题：**包括事实型问题之外的其他问题，例如观点型、因果型、解释型、关联型与比较型等。这一类问题本身的语法结构并不复杂，但是这些问题需要一定的专业知识和主观推理计算才能解答，而且这一类问题有时甚至不止一个答案，需要结合用户偏好和智能体的配置找到不同的最优解。可以细分如下：</p>
<ul>
<li><strong>问解释（WHY）</strong>，例如“为什么《香辣凤爪》是甜的？”，“为什么《蒜蓉油麦菜》不放姜？”</li>
<li><strong>问方法（HOW）</strong>，例如“《香辣凤爪》怎么做？”，“如何创建《香辣凤爪》的菜谱？”</li>
<li><strong>问专家意见（CONSULT）</strong>，例如“糖尿病人可以吃《香辣凤爪》吗？”</li>
<li><strong>问推荐（RECOMMENDATION）</strong>，例如“哪个菜谱和《香辣凤爪》类似？”</li>
</ul>
<h3 id="315-如何选择场景">3.1.5. 如何选择场景<a hidden class="anchor" aria-hidden="true" href="#315-如何选择场景">#</a></h3>
<p>价值：产生的问答效果，积累下来的领域数据，商业上能够致胜等等。</p>
<p>成本：包括技术成本，构建成本，时间成本，后期运营成本等等。</p>
<p>一个最基本的衡量标准是产生的价值&gt;成本即可。</p>
<p><strong>根据上述的知识图谱特点，将成本进行拆分：</strong></p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-3_9-57-54.png?version=1&amp;modificationDate=1688349475094&amp;api=v2" alt=""  />
</p>
<p>挑选成本可控，价值比较明确的场景即可。</p>
<h3 id="316-业内案例">3.1.6. 业内案例<a hidden class="anchor" aria-hidden="true" href="#316-业内案例">#</a></h3>
<p>目前工业界使用知识图谱作为主要问答解析方式的其实不多，实际应用中会更关注覆盖率，已经扩充的便捷性，而这一点恰好是QA系统的强项。</p>
<p>目前问答系统，特别是封闭式的问答系统中，商业化公司一般会偏向两类方案：<strong>1.QQ/QA匹配的方案  2.基于知识图谱的方案</strong>。</p>
<p>（QA 匹配：输入Query与候选的所有Answer 计算相似度，去找哪一个最合适。QQ 匹配（常用）：输入Query与历史语料库里的Query去找哪一个最相似，然后把找到的query对应的Answer取出即可。）</p>
<p>两种方案都有各自的优势：</p>
<ul>
<li>**QQ/QA匹配方案（基于信息检索的方法）**项目容易启动，并且能够很快速的解决基础核心问题，但是由于结构问题，不能很好的理解上下文，还有意图模糊的问题。该方法最大的风险因素在人这一块，因为构建规则库到后期成本会越来越高，而且冲突会越来越多，总体来说，这是一个很好做，但是上限不高的方案。如果说只需要满足基础的核心QA需求，这种方案是不错的选择，目前采用这种方案的bot：网易七鱼，中国电信客服机器人</li>
<li>**知识图谱方案（基于语义解析的方法）**能够更好的理解语言中的抽象部分，更好的去对语言中模糊的部分通过交互来确认信息。在推荐上能够锁定较少，较为精确的推荐结果，在算法上会比较好实现。目前采用这种方案的bot：度秘、阿里小蜜、小蚂答。</li>
</ul>
<p>行业智能问答系统通常将这两种方法结合使用，对于用户的query，首先使用基于语义解析的方法进行问答。因为基于信息检索的方法应用面广，所以当前一种方法无法给出结果时，就使用信息检索的方法进行回答。</p>
<p>案例：OPPO小布助手（参考链接：<a href="https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q&a">https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q&amp;a</a>）</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-3_23-8-1.png?version=1&amp;modificationDate=1688396882668&amp;api=v2" alt=""  />
<img loading="lazy" src="https://pic2.zhimg.com/v2-fc039f2d4c73ee8d2bca45ef42c357d5_r.jpg" alt=""  />
</p>
<p>如上图（上图：小布助手的query类型，下图：小蜜 KBQA 要解决的问题类型）所示，对于知识图谱解答的结构化问题，在小布助手的应用中有四大类 query：</p>
<ol>
<li><strong>基础链式查询</strong>，如单跳、两跳、甚至更多跳的问题</li>
<li><strong>实体关系查询</strong></li>
<li><strong>多变量约束查询（时间约束句、条件约束句）</strong>：OPPO会利用问句分类模块判断出 query 属于多约束查询，随后将 query 中包含的所有约束识别出来。在使用多约束查询时，不会在图数据库中执行查询操作，而是选用 ES 进行多条件查询，这是因为图数据库检索耗时很大。</li>
<li><strong>比较推理查询（最值句、比较句、是否型问句、并列句）</strong>：OPPO首先利用问句分类模块识别出 query 属于比较推理查询，随后在图谱中进行多实体查询，根据比较推理中需要查询的属性判断两个实体对应的属性是否可比。若多实体属性是可比的，会执行推理计算，最终输出推理查询的结果。</li>
</ol>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-3_23-20-16.png?version=1&amp;modificationDate=1688397617885&amp;api=v2" alt=""  />
</p>
<p>OPPO针对结构化问题设计了一套基于 KBQA 的算法框架。首先，在接收到线上用户的 query 输入后，我们会先对其进行领域识别以及意图分类。若 query 是可以使用 KBQA 解决，那么会对 query 进行实体识别、query 解析和答案生成。这三个主要步骤又可以通过在线和离线两方面进行进一步归类。</p>
<h3 id="317-未来拓展">3.1.7. 未来拓展<a hidden class="anchor" aria-hidden="true" href="#317-未来拓展">#</a></h3>
<p>在未来，可能会尝试以下几类优化方案：</p>
<ul>
<li>常识推理图谱+常识问答：开放领域（通用）知识图谱面向通用领域，面向的用户是全部的互联网用户，实际上是谷歌或者百度这样的搜索公司在构建，它的构建是以常识性的知识为主，包括结构化的百科知识，它更强调知识的广度，而对深度不做更多要求。</li>
<li>多模态图谱+多模态问答</li>
<li>用户图谱+个性化推荐</li>
<li>知识图谱+大规模预训练语言模型</li>
<li>低资源条件的信息抽取</li>
</ul>
<h2 id="32-知识图谱用于指令任务">3.2. 知识图谱用于指令任务<a hidden class="anchor" aria-hidden="true" href="#32-知识图谱用于指令任务">#</a></h2>
<ul>
<li>可以将查询数据库的指令转化为查询图数据库的问题，用知识图谱的能力解决，从而减少指令话术。</li>
<li>可以将部分指令中的实体与问答实体统一在知识图谱中管理，通过识别标志区分具体的意图，从而增强对话系统的意图识别能力。</li>
<li>其他类型的指令任务（比如“启动烹饪”、“播放XXX食谱”、“设置大火XXX，小火XXX”等）难以直接用知识图谱解决，业内只有知识问答相关的场景（涉及图数据库的查询）应用。</li>
</ul>
<h2 id="33-基于图谱的搜索和推荐">3.3. 基于图谱的搜索和推荐<a hidden class="anchor" aria-hidden="true" href="#33-基于图谱的搜索和推荐">#</a></h2>
<h3 id="331-提出背景">3.3.1. 提出背景<a hidden class="anchor" aria-hidden="true" href="#331-提出背景">#</a></h3>
<p>传统的推荐存在着以下几点挑战：</p>
<ul>
<li><strong>可解释性需求强烈</strong>：可解释性可以直接影响用户的体验和决策，从而促进交易，达成业务目标；</li>
<li><strong>数据稀疏</strong>：大部分商品、食谱业务的订单相对较少，且新用户的占比偏高；不足以训练商品级别的排序特征。</li>
<li>**时空场景复杂：**我们需要考虑到本异地、时间、地点等因素。一个典型的本异地的场景例子是一个用户在出差前需要查看目的地商品。有关时间因素的例子如一个用户在早上喜欢吃豆浆油条，中午就喜欢吃正餐。又如一个用户在家和在公司喜欢烹饪的食品不一样，这就是一个考虑地点因素的例子。</li>
</ul>
<p>图谱搜索推荐的优势：提高搜索推荐的准确性、多样性、可解释性和效率。</p>
<p>图谱搜索推荐的劣势：知识图谱构建成本高，范围有限。</p>
<h3 id="332-图谱的应用价值点">3.3.2. 图谱的应用价值点<a hidden class="anchor" aria-hidden="true" href="#332-图谱的应用价值点">#</a></h3>
<ul>
<li>为全局搜索补充结构化内容。</li>
<li>利用图谱路径来引导推荐：基于知识图谱推荐相关实体。</li>
<li>运用知识表示推理的方法，对图谱网络进行预测补全：补充缺失属性或关系，为用户画像补充标签数量。</li>
<li>基于图谱的知识推理来生成推荐理由。</li>
</ul>
<h3 id="333-业内案例为全局搜索补充结构化内容">3.3.3. 业内案例：为全局搜索补充结构化内容<a hidden class="anchor" aria-hidden="true" href="#333-业内案例为全局搜索补充结构化内容">#</a></h3>
<p>知识图谱最典型的应用是结构化信息展示。</p>
<p>百度知识图谱的相关应用：</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_0-15-3.png?version=1&amp;modificationDate=1688487305833&amp;api=v2" alt=""  />
</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_0-18-50.png?version=1&amp;modificationDate=1688487532434&amp;api=v2" alt=""  />
</p>
<p>美团知识图谱的相关应用：（美团推荐：<a href="https://www.cnblogs.com/datafuntalk/p/16278155.html">https://www.cnblogs.com/datafuntalk/p/16278155.html</a>）</p>
<p>例如，我们可以从药品的说明书中挖掘出药品的功效来展示给消费者；我们可以将知识图谱利用在商品筛选项中，如用户搜索薯片时向其展示按口味区分的筛选项，从而使他能够快速地选择符合口味的薯片进行购买。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_9-38-30.png?version=1&amp;modificationDate=1688521110379&amp;api=v2" alt=""  />
</p>
<h3 id="334-业内案例利用图谱路径来引导推荐">3.3.4. 业内案例：利用图谱路径来引导推荐<a hidden class="anchor" aria-hidden="true" href="#334-业内案例利用图谱路径来引导推荐">#</a></h3>
<p>除了利用知识图谱来向用户进行结构化信息展示之外，我们还利用图谱路径来引导推荐。如相关搜索-召回的业务场景，当一个用户输入一个query以后下滑了很久都没有进行点击，那么我们就会为其推荐一部分更好的query。一个简单的做法就是直接使用知识图谱路径召回，将query对应的实体在图谱中有连接的下位实体推荐给用户，如“奶茶”对应的“珍珠奶茶”、“香草奶茶”等。这一方法的优点在于其召回的相关性较好，这得益于知识图谱的质量很高，缺点是召回率低，因为用户的query含有噪声信息，而知识图谱的实体较为纯净。在实际业务中，我们更常用的做法是利用embedding进行召回，具体做法是将用户历史query以及点击poi进行构图，之后使用GNN模型来训练embedding。当用户输入一个query时，我们在训练好的向量空间中搜索query向量的近邻向量作为候选召回。这一做法的优点是召回率高，但是召回的bad case较多，且即便embedding的质量非常高也无法避免bad case的出现。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_9-39-28.png?version=1&amp;modificationDate=1688521169095&amp;api=v2" alt=""  />
</p>
<p>美团在业务中会首先使用embedding召回的方法生成一系列候选召回集合。随后，我们使用用户交互行为与知识图谱来进行构图。如下图所示，query与poi、query与deal（商家的团单）是点击关系，这部分来源于点击行为；deal属于poi，且每个poi都从属于一个类目，这部分信息来源于知识图谱。我们通过两部分信息的结合构成一系列路径，可以通过每一条路径来计算query属于哪一类poi类目的得分，其对应于query对应的类目分布。通过计算交叉熵，将不符合要求的候选召回过滤掉，从而实现在召回率高的同时减少bad case。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_9-40-36.png?version=1&amp;modificationDate=1688521236758&amp;api=v2" alt=""  />
</p>
<p>基于上述embedding召回+图谱路径过滤的方法，美团推荐的默认词模块、热门搜索模块、相关搜索模块都得到显著的业务指标的提升，尤其是相关搜索模块，无结果率下降了10个百分点，点击QV提升了34%。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_9-41-5.png?version=1&amp;modificationDate=1688521265429&amp;api=v2" alt=""  />
</p>
<h2 id="34-知识推理实体关系和属性挖掘">3.4. 知识推理：实体关系和属性挖掘<a hidden class="anchor" aria-hidden="true" href="#34-知识推理实体关系和属性挖掘">#</a></h2>
<h3 id="341-推理可能的应用场景">3.4.1. 推理可能的应用场景<a hidden class="anchor" aria-hidden="true" href="#341-推理可能的应用场景">#</a></h3>
<ul>
<li>运用知识表示推理的方法，对图谱网络进行预测补全：补充缺失属性或关系，为用户画像补充标签数量。</li>
</ul>
<p>例如：用户问“新食记店铺的《番茄炒蛋》味道如何？”，假设知识图谱不存在《番茄炒蛋》在新食记店铺的味道，该如何回答呢？</p>
<p>有两种方式：第一，若存在《番茄炒蛋》概念，且这个概念有味道属性，可使用这个概念的味道属性填充该问题；第二，更好的方式是找到用户问题最相似的子结点，即新食记店铺的子结点，发现其定义了《番茄炒蛋》和其味道属性，可拿该味道进行填充。</p>
<ul>
<li>基于图谱的知识推理来生成推荐理由。</li>
<li>以知识图谱数据为核心，应用知识加工、计算、聚合等方式产生高时效、高质量的独家内容。（百度智能写作、生成新菜谱、新食品研发）</li>
<li>从知识图谱挖掘实体社群，掌握系统结构（发现一些相似的实体。广泛用于团伙发现，同类推荐场景。广泛用于金融行业反欺诈场景，社交推荐。主要技术点：社团搜索）；利用知识图谱的可视化内容，做运营决策。</li>
</ul>
<h3 id="342-业内案例美团的个性化推荐理由">3.4.2. 业内案例：美团的个性化推荐理由<a hidden class="anchor" aria-hidden="true" href="#342-业内案例美团的个性化推荐理由">#</a></h3>
<p>以下图为例，左侧是知识图谱，可以通过它来学习每个用户到每个商户的路径分。比如学习到用户的家乡属于某一个城市，以及这个城市的特色菜品，同时这个菜品又隶属于某个商户，若此时这一路径在当前用户对当前商户的所有路径中得分最高，就可以按照这条路径生成推荐理由，如“和你一样的四川老乡也喜欢这家店的水煮鱼”。可以看出，这一方法生成的推荐理由是十分个性化的，且其吸引力较强。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_10-46-46.png?version=1&amp;modificationDate=1688525206612&amp;api=v2" alt=""  />
</p>
<p>基于图谱的推荐理由生成在线上也取得了很好的收益。与从UGC中挖掘的推荐理由相比，这一方法有两个优势。</p>
<p>首先，这一方法不依赖商户评价数据，这对新店较为友好，我们可以使用用户交互行为和知识图谱来为用户提供个性化推荐理由。</p>
<p>第二，由于生成的路径很灵活，我们可以轻松地为用户从个性化与多维度的角度生成推荐理由。</p>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_10-47-49.png?version=1&amp;modificationDate=1688525269702&amp;api=v2" alt=""  />
</p>
<h3 id="343-业内案例百度智能写作的场景">3.4.3. 业内案例：百度智能写作的场景<a hidden class="anchor" aria-hidden="true" href="#343-业内案例百度智能写作的场景">#</a></h3>
<p><img loading="lazy" src="/download/attachments/105259495/image2023-7-5_0-21-17.png?version=1&amp;modificationDate=1688487681327&amp;api=v2" alt=""  />
</p>
<h3 id="344-学术研究新食品研发910httpszhuanlanzhihucomp558587163">3.4.4. <strong>学术研究：新食品研发<a href="https://zhuanlan.zhihu.com/p/558587163">[9,10]</a></strong><a hidden class="anchor" aria-hidden="true" href="#344-学术研究新食品研发910httpszhuanlanzhihucomp558587163">#</a></h3>
<p>利用食品知识图谱的知识组织能力和推理能力，可以开发基于现有产品的新式食品。Shirai等人提出了一种启发式方法，能够基于食品知识图谱FoodKG中食品成分属性和食品成分名称潜在语义的相似性，对替代成分进行排序，并选择最佳替代成分。在食品行业，这种方法可以用于寻找现有产品的成分替代品，降低食品生产成本，或是开发新的食物口味，以增加产品多样性。对于消费者而言，这种基于食品知识图的成分替代方法可以用于满足其个性化的定制需求。此外，还可以借助知识图谱开发包含成分和烹饪步骤在内的新食谱。</p>
<h2 id="35-业务需求考虑">3.5. 业务需求考虑<a hidden class="anchor" aria-hidden="true" href="#35-业务需求考虑">#</a></h2>
<h3 id="351-知识图谱与查表方案对比">3.5.1. 知识图谱与查表方案对比：<a hidden class="anchor" aria-hidden="true" href="#351-知识图谱与查表方案对比">#</a></h3>
<ul>
<li><strong>单跳查属性的问题</strong>：用知识图谱和查表的方式实现都可以，但是知识图谱构建成本和门槛更高，表格实现的性价比更好。</li>
<li>**多跳查属性的问题：**涉及到多个实体之间的关联查询，如果通过查表实现，需要在多个实体表之间进行连接或跳转，灵活性不高，数据量较大的情况下性能不佳。例：【香辣凤爪】菜谱的《作者》是男还是女？【香辣凤爪】所属《菜系》发源地？【香辣凤爪】的《烹饪方式》有什么注意事项？【万得厨】《厂家》还有其他产品吗？【蒜香烤鱼】的《包装盒》产地/厂家是哪个？</li>
<li>**查实体关系/差异的问题：**实体和属性之间的关系，或者同类实体对应属性之间的比较关系可以通过简单的查表处理实现。但无法查询到更深层次的关系，而知识图谱则能挖掘到深层次的答案。例：【万得厨】《产品》跟【扬翔】《公司》是否有关系？</li>
<li>**复杂推理查询：**知识图谱更适合于缺失属性和隐藏关系推理。常见是否型问题，例：【糖尿病人】可以吃【香辣凤爪】吗？【塑料碗】可以放入【微波炉】吗？</li>
<li>**推荐/相关实体查询：**基于知识图谱的推荐与传统推荐相比，能提高搜索推荐的准确性、多样性、可解释性和效率。</li>
</ul>
<p>具体采用哪种方案，需要根据当前业务量及用户需求来考虑，并适当考虑业务的拓展性。</p>
<p>参考链接：</p>
<ol>
<li><a href="https://mp.weixin.qq.com/s/SSXatxIZvFtqw9LXfmN3Aw">大话知识图谱&ndash;知识图谱的定义和应用场景 (qq.com)</a></li>
<li><a href="https://www.jianshu.com/p/ed36c3576d54">知识图谱应用篇（二）-问答系统 - 简书 (jianshu.com)</a></li>
<li><a href="https://www.jianshu.com/p/2e73f56babca">知识图谱应用篇（三）-知识图谱的问答场景应该如何选择？ - 简书 (jianshu.com)</a></li>
<li><a href="https://www.nebula-graph.com.cn/posts/oppo-knowledge-graph-practice-about-smart-q&a">OPPO 自研大规模知识图谱及其在数智工程中的应用 (nebula-graph.com.cn)</a></li>
<li><a href="https://mp.weixin.qq.com/s/_cFDbp6PnAEjgtDIWSBDVQ">知识结构化在阿里小蜜中的应用 (qq.com)</a></li>
<li><a href="https://www.cnblogs.com/datafuntalk/p/16278155.html">知识图谱在美团推荐场景中的应用</a></li>
<li><a href="https://mp.weixin.qq.com/s/qn8k_6GmvTsW6TF786KWUw">基于知识图谱的问答在美团智能交互场景中的应用和演进 (qq.com)</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/558587163">翻译-食品知识图谱在食品科学和工业中的应用综述（2022）</a></li>
<li><a href="https://www.cell.com/patterns/pdf/S2666-3899%5C%2822%5C%2900069-1.pdf">原文-食品知识图谱在食品科学和工业中的应用综述（2022）</a></li>
</ol>
<p><a href="/">Filter table data</a><a href="/">Create a pivot table</a><a href="/">Create a chart from data series</a></p>
<p><a href="/users/tfac-settings.action">Configure buttons visibility</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E9%BB%84%E5%A9%B7/">黄婷</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/wiki/%E5%B1%8F%E7%AB%AF%E5%8D%81%E4%B8%80%E6%9C%88%E4%BB%BD%E7%89%88%E6%9C%AC%E8%A7%84%E5%88%92/">
    <span class="title">« 上一页</span>
    <br>
    <span>屏端十一月份版本规划</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/wiki/11%E6%9C%88%E4%BB%BD%E8%99%9A%E6%8B%9F%E4%BA%BA%E4%B8%9A%E5%8A%A1%E5%AF%B9%E4%B8%87%E5%BE%97%E5%8E%A8%E8%83%BD%E5%8A%9B%E9%9C%80%E6%B1%82%E6%B8%85%E5%8D%95/">
    <span class="title">下一页 »</span>
    <br>
    <span>11月份虚拟人业务对万得厨能力需求清单</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on x"
            href="https://x.com/intent/tweet/?text=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f&amp;hashtags=%e9%bb%84%e5%a9%b7">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f&amp;title=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2&amp;summary=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f&title=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on telegram"
            href="https://telegram.me/share/url?text=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 知识图谱及其应用需求探索 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e5%8f%8a%e5%85%b6%e5%ba%94%e7%94%a8%e9%9c%80%e6%b1%82%e6%8e%a2%e7%b4%a2&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%259F%25A5%25E8%25AF%2586%25E5%259B%25BE%25E8%25B0%25B1%25E5%258F%258A%25E5%2585%25B6%25E5%25BA%2594%25E7%2594%25A8%25E9%259C%2580%25E6%25B1%2582%25E6%258E%25A2%25E7%25B4%25A2%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
