<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>图谱问答实现技术调研 | PaperMod</title>
<meta name="keywords" content="黄婷">
<meta name="description" content="黄婷">
<meta name="author" content="王宇">
<link rel="canonical" href="http://localhost:1313/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="图谱问答实现技术调研" />
<meta property="og:description" content="黄婷" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />




<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="图谱问答实现技术调研"/>
<meta name="twitter:description" content="黄婷"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "图谱问答实现技术调研",
      "item": "http://localhost:1313/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "图谱问答实现技术调研",
  "name": "图谱问答实现技术调研",
  "description": "黄婷",
  "keywords": [
    "黄婷"
  ],
  "articleBody": " 11. 概述 1.11.1. KBQA-知识图谱问答 1.21.2. KBQA所能支持的问题类型有哪些？ 1.31.3. KBQA问答流程 22. 知识图谱问答系统构建方法 2.12.1. 基于模板的语义解析方法 2.22.2. 基于语义查询图的方法 2.32.3. 基于编码解码的方法 2.42.4. 基于检索的方法 33. 图谱问答系统技术架构（达观数据为例） 3.13.1. 问句预处理 3.23.2. 实体链接和词槽提取 3.33.3. 问答意图识别 3.43.4. 常见问答策略 3.4.13.4.1. 基于检索排序的问答策略 3.4.23.4.2. 基于语法解析的问答策略 44. 美团图谱问答技术探索与实践 55. 知识图谱问答发展趋势与挑战 66. 参考文档 1. 概述 1.1. KBQA-知识图谱问答 KBQA知识图谱问答，旨在给定结构化的知识图谱结构化元组，通过解析用户自然问句，转换为查询语句，以完成单跳、多跳等问题类型。\n问题到图谱查询的转换有不同的方法可以实现。\n**语义分析：**理解问题的意图，针对不同意图匹配最可能的问题类型，从而构建这个类型问题的图谱查询，查得结果； **信息抽取：**从问题中抽取主要的实体，在图谱中获取实体的所有知识、关系条目（子图），再对结果根据问题中的约束条件匹配、排序选择结果。 1.2. KBQA所能支持的问题类型有哪些？ KBQA所能支持的问题类型是与给定的结构化知识库直接相关的，得益于知识图谱的结构特性，支持多跳、多限定、序数、是否、计数等类型。\n1.3. KBQA问答流程 对于知识图谱处理问答匹配的流程主要包括8个过程：\n**自然语言的输入：**问题文本 **问题分类器：**对输入的自然语言进行问题分类（意图识别）； **问题分析：**主要完成分词、词性标注、实体识别和实体消岐工作； **语义槽提取：**完成类别判别； **SPARQL抽取：**主要完成构造SQPARQL模板工作； **语义链接：**主要解决语义槽中待链接的自然语言表达分别链接到\u003c类别，资源，实体\u003e对应的知识图谱中的URL上； **SAPQRL查询生成：**查询生成模块以及问题类别，以及连接完成的实体，构造标准的SPARQL查询； **结果生成：**由SPARQL查询返回相应的结果，并转化成用户易于理解的形式； 基于知识图谱的智能问答，以上只是一种简单的实现方式，实际的情况远比这个要复杂，如果要达到比较好的智能问答效果，需要在语料库、技术架构、算法、业务理解等方面下功夫。\n2. 知识图谱问答系统构建方法 本节对目前主流的基于模板的语义解析方法、基于语义查询图的方法、基于编码解码的方法、基于检索的方法进行介绍，并对其进行归纳总结如下表所示。基于模板的语义解析方法其核心在于模板与规则的制定、语义查询图的核心在于如何用语义图来表示自然语言的句子结构、编解码的方法的核心在于构建编码模型捕获句子特征、基于检索的方法其核心在于句法的信息如何映射为特征图或句子特征转为空间向量。\n2.1. 基于模板的语义解析方法 语义解析方法是一种语言学方法，其思想是将非结构化的自然语言问题映射为一系列结构化逻辑形式，例如语义图和高级查询语言(如SPARQL，Cypher等)。而基于模板的语义解析方法其思想在于将问题先转换为人为预定义的规则或模板，再转换为可执行的查询。如下图所示，输入的问题首先被映射为逻辑形式，该过程通过预定义模板规则进行映射，得到实体与关系 ，再进一步转化为图数据库的可执行查询得到知识图谱中的相应的答案。\n基于模板的语义解析方法其核心在于模板的构建，其优点在于过程清晰，可解释性强，但此类方法需要结合语言学的知识，无论是自动或半自动的构建方案都需要一定的工作量。\n2.2. 基于语义查询图的方法 依赖于预定义模版的方法可扩展性有限，而且需要较专业的语言学知识，无疑带来大量的工作量，因此出现了基于神经语义分析的方法(neural semantic parsing，NSP)。它以增强解析能力和可扩展性为目的，将非结构化问题映射为语义图这种中间逻辑形式，然后再将其转换为SPARQL查询。\n下图展示了问题“小明去过广州最高的建筑物是什么?”的一个简单的查询图结构，此类查询图通常由4种类型的节点组成、用圆角矩形表示的主题实体、用圆表示的已存在变量、用阴影圆表示变量，用菱形表示聚合函数。其中主题实体是知识图谱中的现有实体，阴影圆节点x也称为答案节点，用于映射请求检索得到的实体，菱形节点限制了答案必须是最高的建筑物。得到如下逻辑形式：\n执行该查询(不包含聚合函数)将会匹配到“国际金融中心”“广州塔”等实体，再结合聚合函数可得到最终答案为“广州塔”。\n基于语义查询图的方法其核心在于如何将自然语言问句用语义图来表示并映射至知识图谱的查询，优点在于能充分利用知识，但这些方法都依赖特定构建手段，在通用性上还有待提高。\n2.3. 基于编码解码的方法 除了使用基于语义图的方法，还有一种常用的语义解析方法，即基于编解码的方法。如下图所示，自然语言问题输入编码器和解码器后，得到适用于数据库处理的逻辑表示作为输出。\n2.4. 基于检索的方法 基于检索的方法旨在将自然语言问题和知识库中的实体和关系映射为同一低维空间中的特征向量，将任务转化为问题向量与知识图谱中对应关系向量之间的相似度匹配任务。根据其特征表示技术的不同，又分为基于特征工程的方法和基于表示学习的方法。\n基于特征工程的方法特点是从依存句法分析结果提取问题词等特征并转化为问句特征图后，组合主题实体子图的候选特征图，将权重偏向于关联度较高的特征。但该方法除了对复杂问题的支持度较差以外，还需要自行定义并抽取特征，而且容易造成维度太高，计算效率低等问题。而基于表示学习方法为了解决该类问题，将问句和候选答案转换为同一语义空间的向量，将该问题转换为问句与答案的向量匹配计算问题。\n3. 图谱问答系统技术架构（达观数据为例） 图谱问答系统的整体基础框架如下图，一共分为据预处理模块、问句分析、 知识检索和答案生成四个部分。\n3.1. 问句预处理 除了常见的分词和词性标注外，还可以根据知识图谱中已有的模式、实体名称、关键属性值对问句进行纠错。例如，根据产品的别名就可以对问句中的产品别名进行纠错。\n实际场景下的领域知识图谱，更多的构建的是知识点的关联，即实体作为一个知识点，可能是一个短语或者一个语言片段，而在系统冷启动下，面对领域数据，通过句法分析提取出query中的短语，该候选短语也可以作为实体，方便后续进行实体链接。\n3.2. 实体链接和词槽提取 实体链接（entity linking）就是将问句文本的某些字符串映射到知识库中对应的实体上。实体链接是问答系统的核心问题之一，实际应用中问答中的大部分badcase可能都是实体链接出现了问题，如果实体识别一旦出错，答案就很容易出现完全不相关。一般包含以下内容：\n实体识别：首先要识别出文本中表示医疗实体的词语，如疾病、药物、器官等。这一步可以采用基于规则或基于机器学习的方法，如字典匹配、条件随机场、双向循环神经网络等。 候选实体生成：然后要从知识库中找出与文本中识别出的实体词语相对应的候选实体。这一步可以采用基于字符串相似度或基于语义相似度的方法，如编辑距离、Jaccard系数、余弦相似度等。 实体消歧：接着要从候选实体中选择出最合适的一个作为文本中实体词语所指代的真正实体。这一步可以采用基于特征或基于深度学习的方法，如支持向量机、随机森林、注意力机制等。 NIL判断：最后要判断文本中是否存在没有对应知识库中实体的指称项，即NIL指称项，并给出其类别。这一步可以采用基于规则或基于问答的方法，如正则表达式、模板匹配、BERT等。 为了解决垂直行业数据冷启动的问题，达观数据结合精确链和模糊链接相结合的方式来提高实体链接的精度。实体精确链接利用知识库中已有的知识点，将模式（schema）名称、实体名称、可遍历的枚举属性值集合构建字典树（即Trie树），通过Trie前缀树提取查询中的精确实体名称。\n在实际使用的Trie树的过程中，可做如下优化：\n以query分词结果token作为基本粒度构建Trie树，即命中的实体提及必须是由1个或者多个token组成的，比如对于query“中国平安”，Trie树种存在人物名称“国平”，分词结果为[中国，平安]，可以避免提取出 “国平”的情况。 对Trie进行性能优化，通用的Trie都是以一个字典的嵌套层级结构，这种情况下往往存在数据稀疏的现象，即造成了内存消耗比较大，另一方面也降低遍历查询的效率，针对这些问题业界也有很多Trie树的变种，如DATrie（双数组字典树）、Radix Tree（基数树），例如：在200万实体名称的数据规模情况下，Radix相比Trie可以减少一半的内存占用。 Trie树只能实现精确的根据实体名称的实体提及召回，而实际问答中用户的问题可能不包含完整的实体名称，这种情况下，需要根据NER模型抽取出Query中的实体，NER模型的候选结果和句法分析的候选名词短语构成模糊链接的词汇来源，并据此到ElasticSearch中进行检索，通过Es的文件检索，可以找到大部分具备和Query实体字符串相似的候选实体，通过可以对检索结果进行覆盖率、差异度、紧密度等各个维度对候选的结果进行相似性结果判断和过滤。除了使用NER去检索，业界也存在直接对图谱中的实体（描述）进行编码，使用向量检索去找到最相近的链接实体。\n除了实体链接，还需要对提取Query中其他的槽信息，具体的槽位信息和意图相关，槽位从类型上可以分为模式槽信息（实体类型、关系类型、属性名）、属性条件槽（属性名、条件、条件值）、统计条件槽（统计谓语：总数、最大、最小、平均等）。属性条件槽、统计条件槽一般都属于复杂问题情形。对于类型名称、统计谓词，因为相对比较可枚举，也可以以类似字典树的方式从Query中提取。因为知识图谱中实体知识点粒度和相关组合等问题，会导致候选链接的结果会互相重叠。一般而言，链接到的实体提及越长，其语义也就越明确，可靠性也更高。因此可以采用最大区间覆盖优先的筛选方法，优先保留链接更大的结果。如下图所示，有限保留“Aegis分叉型覆膜支架及输送系统”的链接结果，而忽略“支架”、“覆膜”链接结果。\n链接到多个实体或者槽需要进一步去除其中的歧义信息，例如Query：“平安银行的董事”，该问题为查询实体一度到达实体的问题，问题中的“董事”链接到董事（关系名称，企业-\u003e人物）和董事（人物名称）两个实体，对实体消岐的问题可以借助分类模型对Query 上下文进行分类判断，也可以借助知识图谱通过子图匹配的方法消除歧义。平安银行作为一个企业，通过董事关系可以查询一度实体；而董事作为一个人物，其一度的企业中无平安银行。通过槽位到子图的相关性打分，槽位组合[平安银行（企业），董事（关系名称）]比[平安银行（企业），董事（人物）]更加合理，优先选择更相关的组合作为槽提取的结果。\n3.3. 问答意图识别 KBQA的意图相比传统检索意图会更加的复杂，实际应用中，文本检索的意图一般定义为搜什么，可能会采用“玩具”、“外卖”、“电影”这种类别体系来区分， 比如“变形金刚的票价”其实搜的就是变形金刚的电影，而KBQA的意图因为答案的精准、直接特点，注定了KBQA的意图的粒度会更细、维度会更多，例如查询实体的属性、条件过滤的实体、统计类查询、对比查询等。\n**问答意图可以通过模板匹配和基于神经网络的判别模型来识别。**模板匹配通过系统内置的固定模板和自定义模板可以保证系统冷启动的基础问答效果。基于神经网络的意图判别模型需要在特定的图谱下大量的训练样本，例如使用fasttext等常见文本分类模型对Query进行意图分类。在垂直领域下，特别是用户的特定场景中，训练样本的生成和构造一直是一个较大的挑战，一种常见的方法就是配置问题模板，自动生成训练样本问题。比如对于意图“疾病的症状”，可以使用“${疾病名称|别名}的[症状|表现|症候]”模板，使用图谱的疾病实体，批量生成样本。\n3.4. 常见问答策略 结合问句分析的结果，从技术路线上主要可以分为**基于检索排序的问答策略（信息抽取）和基于语法解析（语义分析）**的问答，基于排序检索的问答结合Query和问句分析的结果，找到图谱中若干个子图，然后对这些子图进行排序，返回Top结果作为答案；基于语法解析的策略则将Query转成成一个完成图查询语句，将执行该图查询语句的结果作为答案。\n3.4.1. 基于检索排序的问答策略 类似推荐系统的召回-排序两段策略，KBQA也可以利用问句分析的结果召回子图，然后计算Query和每个子图的相关性，返回Top子图。可以看出基于检索排序的问答策略回避了语法解析的难题，一般只需要问答-答案的标注数据采用端到端的训练即可，泛化能力较强。其中比较核心的问题在于答案的表示形式。\n达观知识图谱问答系统结合知识图谱的模式，生成特定的答案文本形式。基本的主要流程如下：\n使用问句分析的实体，如“陆德明”，查询该实体的一度属性、一度实体、一度关系属性等三元组信息，谓词的判断特别重要，因此我们考虑生成只包含实体和谓词的候选三元组，即将O置空，（“陆德明出生日期”、“陆德明就职”）； 将候选三元组信息作为整个文本串进行语义编码，如“陆德明出生日期”、“陆德明就职浦东支行”，因为整个三元组JOIN成了一个字符串，所以对图谱的模式设计也至关重要，对于[陆德明，就职，浦东支行]这个SPO，如果将关系设计的开始结束实体颠倒过来，则生成的候选串就缺乏语义了（浦东支行就职陆德明语法明显不合理）； 将Query同样进行编码，计算向量距离作为相关性打分的判断依据。对于Query的编码同样也需要考虑链接的实体和实体提及的差异，如“Aegis的工序”，需要将Aegis替换成知识库中的实体名称，如“Aegis分叉型覆膜支架和输送系统的工序”，其和候选串“Aegis分叉型覆膜支架和输送系统工艺”的相似度更高，不容易被拒识。 在实际的SPO一度问答应用中，谓词即是最核心意图。对于“陆德明的生日是哪天”，陆德明的属性谓词“出生日期”作为正样本，其他实体属性”家庭住址”、关系属性“就职”等都可以作为负样本，标签为0。如此在足够的样本情况下，可以训练一个分类模型，作为上述第3步中的匹配模型。\n3.4.2. 基于语法解析的问答策略 复杂问句因为往往需要从一个多实体多关系的子图推理而来，因此一般采用将问句通过语法分析的方式转换成特定的查询语句或者查询解析树（原理类似SQL的执行计划）。相比简单的一度属性关系查询，复杂的问答包括多跳问题、约束问题、统计问题等。\n因为是需要将Query转成查询语句，一般深度学习的做法是使用如BART等生成模型，生成对应的查询语句。\n4. 美团图谱问答技术探索与实践 KBQA 是一种基于知识图谱的问答技术，其主要任务是将自然语言问题 ( NLQ ) 通过不同方法映射到结构化的查询，并在知识图谱中获取答案。相比非结构化文本问答方法利用图谱丰富的语义关联信息，能够深入理解用户问题、解决更多复杂推理类问题。\n主流的 KBQA 解决方案包括基于查询图方法 ( Semantic Parser )、基于搜索排序方法 ( Information Retrieval )。**查询图方案（语义分析）**核心思路就是将自然语言问题经过一些语义分析方式转化成中间的语义表示 ( Logical Forms )，然后再将其转化为可以在 KG 中执行的描述性语言 ( 如 SPARQL 语言 ) 在图谱中查询，这种方式优势就是可解释强，符合知识图谱的显示推理过程。**搜索排序方案（信息抽取）**首先会确定用户 Query 中的实体提及词 ( Entity Mention )，然后链接到 KG 中的主题实体 ( Topic Entity )，并将与 Topic Entity 相关的子图 ( Subgraph ) 提取出来作为候选答案集合，通过对 Query 以及 Subgraph 进行向量表示并映射到同一向量空间，通过两者相似度排序得到答案。这类方法更偏向于端到端的解决问题，但在扩展性和可解释性上不如查询图方案。在美团场景里我们采用以 Semantic Parser 方法为主的解决方案。\n知识图谱问答核心技术共分为四层，数据层、知识挖掘和知识图谱层为知识图谱构建常见架构，知识图谱问答的关注重点为上层查询理解、图查询及图排序部分。\n在对话理解阶段，美团已将用户输入的 Query 理解成领域、意图和槽位的形式，比如\"颐和园学生门票多少钱\"理解为门票意图，“颐和园\"是 travel_landmark，“学生门票\"是 ticket_type。在 KBQA 的查询理解阶段只需要解决好关系/属性检测和消歧、实体约束理解。\n对于图谱问答来说，如何检测出图中关系？一种是定义关系 Pattern，建立 Pattern 和关系的映射关系；另一种是将关系检测定义为分类任务，或者是匹配任务，每种关系提前维护好可能全的不同说法，通过计算用户 Query 与关系说法的相似度匹配来确定关系。它的一个好处就是对冷启动非常友好，而分类通常需要构建大量的训练数据集，冷启动不友好。关系检测我们采用了 Pattern 和说法匹配相结合的方式。\n约束理解我们建模为依存理解问题，相比通用的依存理解，依据美团的业务场景将关系数量缩减到只有六类，主实体、并列关系、谓词信息、主实体约束、谓词约束和无意义词。模型选择上采用比较经典的 Deep Biaffine 模型，在这里通过在输入层加入 NER 的特征，如图右上角所示，指标上有较大的提升。\n图查询排序方面，首先引入标签节点、CVT 结构，将约束关联到节点上。比如\"故宫成人票多少钱”，它的意图是问故宫价格，如图左下角所示，成人票是价格的一个约束，建模时把约束\"成人\"建在\"价格\"的节点上。在线查询时，通过一跳就能查询到价格节点，要做的事情就是约束匹配，找到一条最优的路径；再就是引入排序模型，排序解决的就是选择含约束条件的最优路径。这样常见的约束可以比较快的整理出来，不常见的约束也可以作为约束节点加进去，因排序模型解决了相似计算问题，对于未见过的约束类型也同样生效。\n5. 知识图谱问答发展趋势与挑战 知识图谱问答系统总体上可以分为Pipeline和端到端两种方案，端到端的深度学习模型首先需要一个足够完整的图谱和基于这个图谱产生足够多的样本数据，而在实际项目中比较困难。相比较而言，实际落地过程中，Pipeline的方式会更可行，可以方便对每个过程或者步骤进行控制和定向优化，如添加业务词典去提高实体链接的精度等等。\n中文知识图谱复杂问答目前很难自动化就获得一个较好的base效果，目前业界或多或少都会采用模板库的方式来解决特定问题。在垂直领域特定的图谱模式下，通过KBQA和推理可以体现出足够深度的专家经验，同时辅助一定结构化的数据降低图谱构建和维护的成本，这会是体现知识图谱问答价值的方式之一。\n当前KBQA的发展向着结合深度学习模型的方法靠拢，以解决多跳推理问题、提高模型的解释性为主要目标。\n6. 参考文档 知识图谱问答领域综述 知识图谱构建下的自动问答KBQA系统实战-文辉 【KBQA】医疗知识图谱的问答系统实现-CSDN博客 美团智能问答技术探索与实践 Filter table dataCreate a pivot tableCreate a chart from data series\nConfigure buttons visibility\n",
  "wordCount" : "237",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "王宇"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      图谱问答实现技术调研
    </h1>
    <div class="post-description">
      黄婷
    </div>
    <div class="post-meta">2 分钟&nbsp;·&nbsp;王宇&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/wiki/%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e6%a6%82%e8%bf%b0" aria-label="1. 概述">1. 概述</a><ul>
                        
                <li>
                    <a href="#11-kbqa-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94" aria-label="1.1. KBQA-知识图谱问答">1.1. KBQA-知识图谱问答</a></li>
                <li>
                    <a href="#12-kbqa%e6%89%80%e8%83%bd%e6%94%af%e6%8c%81%e7%9a%84%e9%97%ae%e9%a2%98%e7%b1%bb%e5%9e%8b%e6%9c%89%e5%93%aa%e4%ba%9b" aria-label="1.2. KBQA所能支持的问题类型有哪些？">1.2. KBQA所能支持的问题类型有哪些？</a></li>
                <li>
                    <a href="#13-kbqa%e9%97%ae%e7%ad%94%e6%b5%81%e7%a8%8b" aria-label="1.3. KBQA问答流程">1.3. KBQA问答流程</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e7%b3%bb%e7%bb%9f%e6%9e%84%e5%bb%ba%e6%96%b9%e6%b3%95" aria-label="2. 知识图谱问答系统构建方法">2. 知识图谱问答系统构建方法</a><ul>
                        
                <li>
                    <a href="#21-%e5%9f%ba%e4%ba%8e%e6%a8%a1%e6%9d%bf%e7%9a%84%e8%af%ad%e4%b9%89%e8%a7%a3%e6%9e%90%e6%96%b9%e6%b3%95" aria-label="2.1.  基于模板的语义解析方法">2.1.  基于模板的语义解析方法</a></li>
                <li>
                    <a href="#22-%e5%9f%ba%e4%ba%8e%e8%af%ad%e4%b9%89%e6%9f%a5%e8%af%a2%e5%9b%be%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="2.2. 基于语义查询图的方法">2.2. 基于语义查询图的方法</a></li>
                <li>
                    <a href="#23-%e5%9f%ba%e4%ba%8e%e7%bc%96%e7%a0%81%e8%a7%a3%e7%a0%81%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="2.3. 基于编码解码的方法">2.3. 基于编码解码的方法</a></li>
                <li>
                    <a href="#24-%e5%9f%ba%e4%ba%8e%e6%a3%80%e7%b4%a2%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="2.4. 基于检索的方法">2.4. 基于检索的方法</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e7%b3%bb%e7%bb%9f%e6%8a%80%e6%9c%af%e6%9e%b6%e6%9e%84%e8%be%be%e8%a7%82%e6%95%b0%e6%8d%ae%e4%b8%ba%e4%be%8b" aria-label="3. 图谱问答系统技术架构（达观数据为例）">3. 图谱问答系统技术架构（达观数据为例）</a><ul>
                        
                <li>
                    <a href="#31-%e9%97%ae%e5%8f%a5%e9%a2%84%e5%a4%84%e7%90%86" aria-label="3.1. 问句预处理">3.1. 问句预处理</a></li>
                <li>
                    <a href="#32-%e5%ae%9e%e4%bd%93%e9%93%be%e6%8e%a5%e5%92%8c%e8%af%8d%e6%a7%bd%e6%8f%90%e5%8f%96" aria-label="3.2. 实体链接和词槽提取">3.2. 实体链接和词槽提取</a></li>
                <li>
                    <a href="#33-%e9%97%ae%e7%ad%94%e6%84%8f%e5%9b%be%e8%af%86%e5%88%ab" aria-label="3.3. 问答意图识别">3.3. 问答意图识别</a></li>
                <li>
                    <a href="#34-%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94%e7%ad%96%e7%95%a5" aria-label="3.4. 常见问答策略">3.4. 常见问答策略</a><ul>
                        
                <li>
                    <a href="#341-%e5%9f%ba%e4%ba%8e%e6%a3%80%e7%b4%a2%e6%8e%92%e5%ba%8f%e7%9a%84%e9%97%ae%e7%ad%94%e7%ad%96%e7%95%a5" aria-label="3.4.1. 基于检索排序的问答策略">3.4.1. 基于检索排序的问答策略</a></li>
                <li>
                    <a href="#342-%e5%9f%ba%e4%ba%8e%e8%af%ad%e6%b3%95%e8%a7%a3%e6%9e%90%e7%9a%84%e9%97%ae%e7%ad%94%e7%ad%96%e7%95%a5" aria-label="3.4.2. 基于语法解析的问答策略">3.4.2. 基于语法解析的问答策略</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#4-%e7%be%8e%e5%9b%a2%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e6%8a%80%e6%9c%af%e6%8e%a2%e7%b4%a2%e4%b8%8e%e5%ae%9e%e8%b7%b5" aria-label="4. 美团图谱问答技术探索与实践">4. 美团图谱问答技术探索与实践</a></li>
                <li>
                    <a href="#5-%e7%9f%a5%e8%af%86%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%8f%91%e5%b1%95%e8%b6%8b%e5%8a%bf%e4%b8%8e%e6%8c%91%e6%88%98" aria-label="5. 知识图谱问答发展趋势与挑战">5. 知识图谱问答发展趋势与挑战</a></li>
                <li>
                    <a href="#6-%e5%8f%82%e8%80%83%e6%96%87%e6%a1%a3" aria-label="6. 参考文档">6. 参考文档</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><ul>
<li>1<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-概述">1. 概述</a>
<ul>
<li>1.1<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-KBQA-知识图谱问答">1.1. KBQA-知识图谱问答</a></li>
<li>1.2<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-KBQA所能支持的问题类型有哪些？">1.2. KBQA所能支持的问题类型有哪些？</a></li>
<li>1.3<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-KBQA问答流程">1.3. KBQA问答流程</a></li>
</ul>
</li>
<li>2<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-知识图谱问答系统构建方法">2. 知识图谱问答系统构建方法</a>
<ul>
<li>2.1<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-基于模板的语义解析方法">2.1.  基于模板的语义解析方法</a></li>
<li>2.2<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-基于语义查询图的方法">2.2. 基于语义查询图的方法</a></li>
<li>2.3<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-基于编码解码的方法">2.3. 基于编码解码的方法</a></li>
<li>2.4<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-基于检索的方法">2.4. 基于检索的方法</a></li>
</ul>
</li>
<li>3<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-图谱问答系统技术架构（达观数据为例）">3. 图谱问答系统技术架构（达观数据为例）</a>
<ul>
<li>3.1<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-问句预处理">3.1. 问句预处理</a></li>
<li>3.2<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-实体链接和词槽提取">3.2. 实体链接和词槽提取</a></li>
<li>3.3<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-问答意图识别">3.3. 问答意图识别</a></li>
<li>3.4<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-常见问答策略">3.4. 常见问答策略</a>
<ul>
<li>3.4.1<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-基于检索排序的问答策略">3.4.1. 基于检索排序的问答策略</a></li>
<li>3.4.2<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-基于语法解析的问答策略">3.4.2. 基于语法解析的问答策略</a></li>
</ul>
</li>
</ul>
</li>
<li>4<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-美团图谱问答技术探索与实践">4. 美团图谱问答技术探索与实践</a></li>
<li>5<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-知识图谱问答发展趋势与挑战">5. 知识图谱问答发展趋势与挑战</a></li>
<li>6<a href="/posts/wiki/%E5%9B%BE%E8%B0%B1%E9%97%AE%E7%AD%94%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/#id-图谱问答实现技术调研-参考文档">6. 参考文档</a></li>
</ul>
<h1 id="1-概述">1. 概述<a hidden class="anchor" aria-hidden="true" href="#1-概述">#</a></h1>
<h2 id="11-kbqa-知识图谱问答">1.1. KBQA-知识图谱问答<a hidden class="anchor" aria-hidden="true" href="#11-kbqa-知识图谱问答">#</a></h2>
<p>KBQA知识图谱问答，旨在给定结构化的知识图谱结构化元组，通过解析用户自然问句，转换为查询语句，以完成单跳、多跳等问题类型。</p>
<p><img loading="lazy" src="https://simg.baai.ac.cn/uploads/2022/12/e1f59f94d2bef0afdd01e5b24e19b21b.png" alt="图片"  />
</p>
<p><strong>问题到图谱查询的转换</strong>有不同的方法可以实现。</p>
<ul>
<li>**语义分析：**理解问题的意图，针对不同意图匹配最可能的问题类型，从而构建这个类型问题的图谱查询，查得结果；</li>
<li>**信息抽取：**从问题中抽取主要的实体，在图谱中获取实体的所有知识、关系条目（子图），再对结果根据问题中的约束条件匹配、排序选择结果。</li>
</ul>
<h2 id="12-kbqa所能支持的问题类型有哪些">1.2. KBQA所能支持的问题类型有哪些？<a hidden class="anchor" aria-hidden="true" href="#12-kbqa所能支持的问题类型有哪些">#</a></h2>
<p>KBQA所能支持的问题类型是与给定的结构化知识库直接相关的，得益于知识图谱的结构特性，支持多跳、多限定、序数、是否、计数等类型。</p>
<p><img loading="lazy" src="https://simg.baai.ac.cn/uploads/2022/12/00baa38215d06d795c508cc17761d7ed.png" alt="图片"  />
</p>
<h2 id="13-kbqa问答流程">1.3. KBQA问答流程<a hidden class="anchor" aria-hidden="true" href="#13-kbqa问答流程">#</a></h2>
<p>对于知识图谱处理问答匹配的流程主要包括8个过程：</p>
<ul>
<li>**自然语言的输入：**问题文本</li>
<li>**问题分类器：**对输入的自然语言进行问题分类（意图识别）；</li>
<li>**问题分析：**主要完成分词、词性标注、实体识别和实体消岐工作；</li>
<li>**语义槽提取：**完成类别判别；</li>
<li>**SPARQL抽取：**主要完成构造SQPARQL模板工作；</li>
<li>**语义链接：**主要解决语义槽中待链接的自然语言表达分别链接到&lt;类别，资源，实体&gt;对应的知识图谱中的URL上；</li>
<li>**SAPQRL查询生成：**查询生成模块以及问题类别，以及连接完成的实体，构造标准的SPARQL查询；</li>
<li>**结果生成：**由SPARQL查询返回相应的结果，并转化成用户易于理解的形式；</li>
</ul>
<p>基于知识图谱的智能问答，以上只是一种简单的实现方式，实际的情况远比这个要复杂，如果要达到比较好的智能问答效果，需要在语料库、技术架构、算法、业务理解等方面下功夫。</p>
<h1 id="2-知识图谱问答系统构建方法">2. 知识图谱问答系统构建方法<a hidden class="anchor" aria-hidden="true" href="#2-知识图谱问答系统构建方法">#</a></h1>
<p>本节对目前主流的<strong>基于模板的语义解析方法、基于语义查询图的方法、基于编码解码的方法、基于检索的方法</strong>进行介绍，并对其进行归纳总结如下表所示。基于模板的语义解析方法其核心在于模板与规则的制定、语义查询图的核心在于如何用语义图来表示自然语言的句子结构、编解码的方法的核心在于构建编码模型捕获句子特征、基于检索的方法其核心在于句法的信息如何映射为特征图或句子特征转为空间向量。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/v2-ce88dcffadc46a0764b978c0cdb8b115_r.jpg" alt=""  />
</p>
<h2 id="21-基于模板的语义解析方法">2.1.  基于模板的语义解析方法<a hidden class="anchor" aria-hidden="true" href="#21-基于模板的语义解析方法">#</a></h2>
<p><strong>语义解析方法</strong>是一种语言学方法，其思想是<strong>将非结构化的自然语言问题映射为一系列结构化逻辑形式</strong>，例如语义图和高级查询语言(如SPARQL，Cypher等)。而<strong>基于模板的语义解析方法其思想在于将问题先转换为人为预定义的规则或模板，再转换为可执行的查询</strong>。如下图所示，输入的问题首先被映射为逻辑形式，该过程通过预定义模板规则进行映射，得到实体与关系 &lt;E1,Relation,E2&gt;&lt;E1,Relation,E2&gt; ，再进一步转化为图数据库的可执行查询得到知识图谱中的相应的答案。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/v2-4d73e9217b23a320c592704a97c72c4c_r.jpg" alt=""  />
</p>
<p>基于模板的语义解析方法其核心在于模板的构建，其优点在于过程清晰，可解释性强，但此类方法需要结合语言学的知识，无论是自动或半自动的构建方案都需要一定的工作量。</p>
<h2 id="22-基于语义查询图的方法">2.2. 基于语义查询图的方法<a hidden class="anchor" aria-hidden="true" href="#22-基于语义查询图的方法">#</a></h2>
<p>依赖于预定义模版的方法可扩展性有限，而且需要较专业的语言学知识，无疑带来大量的工作量，因此出现了基于神经语义分析的方法(neural semantic parsing，NSP)。它以增强解析能力和可扩展性为目的，<strong>将非结构化问题映射为语义图这种中间逻辑形式，然后再将其转换为SPARQL查询。</strong></p>
<p>下图展示了问题“小明去过广州最高的建筑物是什么?”的一个简单的查询图结构，此类查询图通常由4种类型的节点组成、用圆角矩形表示的主题实体、用圆表示的已存在变量、用阴影圆表示变量，用菱形表示聚合函数。其中主题实体是知识图谱中的现有实体，阴影圆节点x也称为答案节点，用于映射请求检索得到的实体，菱形节点限制了答案必须是最高的建筑物。得到如下逻辑形式：</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/v2-e4852caf9173355bbd97f83092b9161c_r.jpg" alt=""  />
</p>
<p>执行该查询(不包含聚合函数)将会匹配到“国际金融中心”“广州塔”等实体，再结合聚合函数可得到最终答案为“广州塔”。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/v2-7483964425e8751dd383358b922c5245_r.jpg" alt=""  />
</p>
<p>基于语义查询图的方法其核心在于如何将自然语言问句用语义图来表示并映射至知识图谱的查询，优点在于能充分利用知识，但这些方法都依赖特定构建手段，在通用性上还有待提高。</p>
<h2 id="23-基于编码解码的方法">2.3. 基于编码解码的方法<a hidden class="anchor" aria-hidden="true" href="#23-基于编码解码的方法">#</a></h2>
<p>除了使用基于语义图的方法，还有一种常用的语义解析方法，即基于编解码的方法。如下图所示，自然语言问题输入编码器和解码器后，得到适用于数据库处理的逻辑表示作为输出。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/v2-a9d07653fe38988749dbfe860447717c_r.jpg" alt=""  />
</p>
<h2 id="24-基于检索的方法">2.4. 基于检索的方法<a hidden class="anchor" aria-hidden="true" href="#24-基于检索的方法">#</a></h2>
<p><strong>基于检索的方法旨在将自然语言问题和知识库中的实体和关系映射为同一低维空间中的特征向量，将任务转化为问题向量与知识图谱中对应关系向量之间的相似度匹配任务。<strong>根据其特征表示技术的不同，又分为</strong>基于特征工程的方法和基于表示学习的方法</strong>。</p>
<p>基于特征工程的方法特点是从依存句法分析结果提取问题词等特征并转化为问句特征图后，组合主题实体子图的候选特征图，将权重偏向于关联度较高的特征。但该方法除了对复杂问题的支持度较差以外，还需要自行定义并抽取特征，而且容易造成维度太高，计算效率低等问题。而基于表示学习方法为了解决该类问题，将问句和候选答案转换为同一语义空间的向量，将该问题转换为问句与答案的向量匹配计算问题。</p>
<h1 id="3-图谱问答系统技术架构达观数据为例">3. 图谱问答系统技术架构（达观数据为例）<a hidden class="anchor" aria-hidden="true" href="#3-图谱问答系统技术架构达观数据为例">#</a></h1>
<p>图谱问答系统的整体基础框架如下图，一共分为<strong>据预处理模块、问句分析、 知识检索和答案生成四个部分</strong>。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_16-41-35.png?version=1&amp;modificationDate=1695804095765&amp;api=v2" alt=""  />
</p>
<h2 id="31-问句预处理">3.1. 问句预处理<a hidden class="anchor" aria-hidden="true" href="#31-问句预处理">#</a></h2>
<p>除了常见的分词和词性标注外，还可以根据知识图谱中已有的模式、实体名称、关键属性值对问句进行纠错。例如，根据产品的别名就可以对问句中的产品别名进行纠错。</p>
<p>实际场景下的领域知识图谱，更多的构建的是知识点的关联，即实体作为一个知识点，可能是一个短语或者一个语言片段，而在系统冷启动下，面对领域数据，通过句法分析提取出query中的短语，该候选短语也可以作为实体，方便后续进行实体链接。</p>
<h2 id="32-实体链接和词槽提取">3.2. 实体链接和词槽提取<a hidden class="anchor" aria-hidden="true" href="#32-实体链接和词槽提取">#</a></h2>
<p><strong>实体链接（entity linking）就是将问句文本的某些字符串映射到知识库中对应的实体上</strong>。实体链接是问答系统的核心问题之一，实际应用中问答中的大部分badcase可能都是实体链接出现了问题，如果实体识别一旦出错，答案就很容易出现完全不相关。一般包含以下内容：</p>
<ul>
<li><strong>实体识别：<strong>首先要识别出文本中表示医疗实体的词语，如疾病、药物、器官等。这一步可以采用</strong>基于规则或基于机器学习的方法</strong>，如字典匹配、条件随机场、双向循环神经网络等。</li>
<li><strong>候选实体生成：<strong>然后要从知识库中找出与文本中识别出的实体词语相对应的候选实体。这一步可以采用</strong>基于字符串相似度或基于语义相似度的方法</strong>，如编辑距离、Jaccard系数、余弦相似度等。</li>
<li><strong>实体消歧：<strong>接着要从候选实体中选择出最合适的一个作为文本中实体词语所指代的真正实体。这一步可以采用</strong>基于特征或基于深度学习的方法</strong>，如支持向量机、随机森林、注意力机制等。</li>
<li><strong>NIL判断：<strong>最后要判断文本中是否存在没有对应知识库中实体的指称项，即NIL指称项，并给出其类别。这一步可以采用</strong>基于规则或基于问答的方法</strong>，如正则表达式、模板匹配、BERT等。</li>
</ul>
<p>为了解决垂直行业数据冷启动的问题，达观数据结合精确链和模糊链接相结合的方式来提高实体链接的精度。实体精确链接利用知识库中已有的知识点，将模式（schema）名称、实体名称、可遍历的枚举属性值集合构建字典树（即Trie树），通过Trie前缀树提取查询中的精确实体名称。</p>
<p>在实际使用的Trie树的过程中，可做如下优化：</p>
<ul>
<li>以query分词结果token作为基本粒度构建Trie树，即命中的实体提及必须是由1个或者多个token组成的，比如对于query“中国平安”，Trie树种存在人物名称“国平”，分词结果为[中国，平安]，可以避免提取出 “国平”的情况。</li>
<li>对Trie进行性能优化，通用的Trie都是以一个字典的嵌套层级结构，这种情况下往往存在数据稀疏的现象，即造成了内存消耗比较大，另一方面也降低遍历查询的效率，针对这些问题业界也有很多Trie树的变种，如DATrie（双数组字典树）、Radix Tree（基数树），例如：在200万实体名称的数据规模情况下，Radix相比Trie可以减少一半的内存占用。</li>
</ul>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_16-49-18.png?version=1&amp;modificationDate=1695804558706&amp;api=v2" alt=""  />
</p>
<p>Trie树只能实现精确的根据实体名称的实体提及召回，而实际问答中用户的问题可能不包含完整的实体名称，这种情况下，需要根据NER模型抽取出Query中的实体，NER模型的候选结果和句法分析的候选名词短语构成模糊链接的词汇来源，并据此到ElasticSearch中进行检索，通过Es的文件检索，可以找到大部分具备和Query实体字符串相似的候选实体，通过可以对检索结果进行覆盖率、差异度、紧密度等各个维度对候选的结果进行相似性结果判断和过滤。除了使用NER去检索，业界也存在直接对图谱中的实体（描述）进行编码，使用向量检索去找到最相近的链接实体。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_16-52-6.png?version=1&amp;modificationDate=1695804726402&amp;api=v2" alt=""  />
</p>
<p>除了实体链接，还需要对提取Query中其他的槽信息，具体的槽位信息和意图相关，槽位从类型上可以分为模式槽信息（实体类型、关系类型、属性名）、属性条件槽（属性名、条件、条件值）、统计条件槽（统计谓语：总数、最大、最小、平均等）。属性条件槽、统计条件槽一般都属于复杂问题情形。对于类型名称、统计谓词，因为相对比较可枚举，也可以以类似字典树的方式从Query中提取。因为知识图谱中实体知识点粒度和相关组合等问题，会导致候选链接的结果会互相重叠。一般而言，链接到的实体提及越长，其语义也就越明确，可靠性也更高。因此可以采用最大区间覆盖优先的筛选方法，优先保留链接更大的结果。如下图所示，有限保留“Aegis分叉型覆膜支架及输送系统”的链接结果，而忽略“支架”、“覆膜”链接结果。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_16-52-42.png?version=1&amp;modificationDate=1695804762608&amp;api=v2" alt=""  />
</p>
<p>链接到多个实体或者槽需要进一步去除其中的歧义信息，例如Query：“平安银行的董事”，该问题为查询实体一度到达实体的问题，问题中的“董事”链接到董事（关系名称，企业-&gt;人物）和董事（人物名称）两个实体，对实体消岐的问题可以借助分类模型对Query 上下文进行分类判断，也可以借助知识图谱通过子图匹配的方法消除歧义。平安银行作为一个企业，通过董事关系可以查询一度实体；而董事作为一个人物，其一度的企业中无平安银行。通过槽位到子图的相关性打分，槽位组合[平安银行（企业），董事（关系名称）]比[平安银行（企业），董事（人物）]更加合理，优先选择更相关的组合作为槽提取的结果。</p>
<h2 id="33-问答意图识别">3.3. 问答意图识别<a hidden class="anchor" aria-hidden="true" href="#33-问答意图识别">#</a></h2>
<p>KBQA的意图相比传统检索意图会更加的复杂，实际应用中，文本检索的意图一般定义为搜什么，可能会采用“玩具”、“外卖”、“电影”这种类别体系来区分， 比如“变形金刚的票价”其实搜的就是变形金刚的电影，而KBQA的意图因为答案的精准、直接特点，注定了KBQA的意图的粒度会更细、维度会更多，例如查询实体的属性、条件过滤的实体、统计类查询、对比查询等。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_16-53-42.png?version=1&amp;modificationDate=1695804822808&amp;api=v2" alt=""  />
</p>
<p>**问答意图可以通过模板匹配和基于神经网络的判别模型来识别。**模板匹配通过系统内置的固定模板和自定义模板可以保证系统冷启动的基础问答效果。基于神经网络的意图判别模型需要在特定的图谱下大量的训练样本，例如使用fasttext等常见文本分类模型对Query进行意图分类。在垂直领域下，特别是用户的特定场景中，训练样本的生成和构造一直是一个较大的挑战，一种常见的方法就是配置问题模板，自动生成训练样本问题。比如对于意图“疾病的症状”，可以使用“${疾病名称|别名}的[症状|表现|症候]”模板，使用图谱的疾病实体，批量生成样本。</p>
<h2 id="34-常见问答策略">3.4. 常见问答策略<a hidden class="anchor" aria-hidden="true" href="#34-常见问答策略">#</a></h2>
<p>结合问句分析的结果，从技术路线上主要可以分为**基于检索排序的问答策略（信息抽取）和基于语法解析（语义分析）**的问答，基于排序检索的问答结合Query和问句分析的结果，找到图谱中若干个子图，然后对这些子图进行排序，返回Top结果作为答案；基于语法解析的策略则将Query转成成一个完成图查询语句，将执行该图查询语句的结果作为答案。</p>
<h3 id="341-基于检索排序的问答策略">3.4.1. 基于检索排序的问答策略<a hidden class="anchor" aria-hidden="true" href="#341-基于检索排序的问答策略">#</a></h3>
<p>类似推荐系统的召回-排序两段策略，KBQA也可以利用问句分析的结果召回子图，然后计算Query和每个子图的相关性，返回Top子图。可以看出基于检索排序的问答策略回避了语法解析的难题，一般只需要问答-答案的标注数据采用端到端的训练即可，泛化能力较强。其中比较核心的问题在于答案的表示形式。</p>
<p>达观知识图谱问答系统结合知识图谱的模式，生成特定的答案文本形式。基本的主要流程如下：</p>
<ol>
<li>使用问句分析的实体，如“陆德明”，查询该实体的一度属性、一度实体、一度关系属性等三元组信息，谓词的判断特别重要，因此我们考虑生成只包含实体和谓词的候选三元组，即将O置空，（“陆德明出生日期”、“陆德明就职”）；</li>
<li>将候选三元组信息作为整个文本串进行语义编码，如“陆德明出生日期”、“陆德明就职浦东支行”，因为整个三元组JOIN成了一个字符串，所以对图谱的模式设计也至关重要，对于[陆德明，就职，浦东支行]这个SPO，如果将关系设计的开始结束实体颠倒过来，则生成的候选串就缺乏语义了（浦东支行就职陆德明语法明显不合理）；</li>
<li>将Query同样进行编码，计算向量距离作为相关性打分的判断依据。对于Query的编码同样也需要考虑链接的实体和实体提及的差异，如“Aegis的工序”，需要将Aegis替换成知识库中的实体名称，如“Aegis分叉型覆膜支架和输送系统的工序”，其和候选串“Aegis分叉型覆膜支架和输送系统工艺”的相似度更高，不容易被拒识。</li>
</ol>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_16-57-28.png?version=1&amp;modificationDate=1695805048996&amp;api=v2" alt=""  />
</p>
<p>在实际的SPO一度问答应用中，谓词即是最核心意图。对于“陆德明的生日是哪天”，陆德明的属性谓词“出生日期”作为正样本，其他实体属性”家庭住址”、关系属性“就职”等都可以作为负样本，标签为0。如此在足够的样本情况下，可以训练一个分类模型，作为上述第3步中的匹配模型。</p>
<h3 id="342-基于语法解析的问答策略">3.4.2. 基于语法解析的问答策略<a hidden class="anchor" aria-hidden="true" href="#342-基于语法解析的问答策略">#</a></h3>
<p>复杂问句因为往往需要从一个多实体多关系的子图推理而来，因此一般采用将问句通过语法分析的方式转换成特定的查询语句或者查询解析树（原理类似SQL的执行计划）。相比简单的一度属性关系查询，复杂的问答包括多跳问题、约束问题、统计问题等。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-27_17-0-10.png?version=1&amp;modificationDate=1695805211448&amp;api=v2" alt=""  />
</p>
<p>因为是需要将Query转成查询语句，一般深度学习的做法是使用如BART等生成模型，生成对应的查询语句。</p>
<h1 id="4-美团图谱问答技术探索与实践">4. 美团图谱问答技术探索与实践<a hidden class="anchor" aria-hidden="true" href="#4-美团图谱问答技术探索与实践">#</a></h1>
<p>KBQA 是一种基于知识图谱的问答技术，其主要任务是将自然语言问题 ( NLQ ) 通过不同方法映射到结构化的查询，并在知识图谱中获取答案。相比非结构化文本问答方法利用图谱丰富的语义关联信息，能够深入理解用户问题、解决更多复杂推理类问题。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-28_9-17-36.png?version=1&amp;modificationDate=1695863856411&amp;api=v2" alt=""  />
</p>
<p>主流的 KBQA 解决方案包括基于查询图方法 ( Semantic Parser )、基于搜索排序方法 ( Information Retrieval )。**查询图方案（语义分析）**核心思路就是将自然语言问题经过一些语义分析方式转化成中间的语义表示 ( Logical Forms )，然后再将其转化为可以在 KG 中执行的描述性语言 ( 如 SPARQL 语言 ) 在图谱中查询，这种方式优势就是可解释强，符合知识图谱的显示推理过程。**搜索排序方案（信息抽取）**首先会确定用户 Query 中的实体提及词 ( Entity Mention )，然后链接到 KG 中的主题实体 ( Topic Entity )，并将与 Topic Entity 相关的子图 ( Subgraph ) 提取出来作为候选答案集合，通过对 Query 以及 Subgraph 进行向量表示并映射到同一向量空间，通过两者相似度排序得到答案。这类方法更偏向于端到端的解决问题，但在扩展性和可解释性上不如查询图方案。在美团场景里我们采用以 Semantic Parser 方法为主的解决方案。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-28_9-18-4.png?version=1&amp;modificationDate=1695863884548&amp;api=v2" alt=""  />
</p>
<p>知识图谱问答核心技术共分为四层，数据层、知识挖掘和知识图谱层为知识图谱构建常见架构，知识图谱问答的关注重点为上层查询理解、图查询及图排序部分。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-28_9-18-26.png?version=1&amp;modificationDate=1695863907049&amp;api=v2" alt=""  />
</p>
<p>在对话理解阶段，美团已将用户输入的 Query 理解成领域、意图和槽位的形式，比如&quot;颐和园学生门票多少钱&quot;理解为门票意图，&ldquo;颐和园&quot;是 travel_landmark，&ldquo;学生门票&quot;是 ticket_type。在 KBQA 的查询理解阶段只需要解决好关系/属性检测和消歧、实体约束理解。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-28_9-18-59.png?version=1&amp;modificationDate=1695863939301&amp;api=v2" alt=""  />
</p>
<p>对于图谱问答来说，如何检测出图中关系？一种是定义关系 Pattern，建立 Pattern 和关系的映射关系；另一种是将关系检测定义为分类任务，或者是匹配任务，每种关系提前维护好可能全的不同说法，通过计算用户 Query 与关系说法的相似度匹配来确定关系。它的一个好处就是对冷启动非常友好，而分类通常需要构建大量的训练数据集，冷启动不友好。关系检测我们采用了 Pattern 和说法匹配相结合的方式。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-28_9-19-30.png?version=1&amp;modificationDate=1695863971025&amp;api=v2" alt=""  />
</p>
<p>约束理解我们建模为依存理解问题，相比通用的依存理解，依据美团的业务场景将关系数量缩减到只有六类，主实体、并列关系、谓词信息、主实体约束、谓词约束和无意义词。模型选择上采用比较经典的 Deep Biaffine 模型，在这里通过在输入层加入 NER 的特征，如图右上角所示，指标上有较大的提升。</p>
<p><img loading="lazy" src="/download/attachments/109718666/image2023-9-28_9-20-0.png?version=1&amp;modificationDate=1695864000571&amp;api=v2" alt=""  />
</p>
<p>图查询排序方面，首先引入标签节点、CVT 结构，将约束关联到节点上。比如&quot;故宫成人票多少钱&rdquo;，它的意图是问故宫价格，如图左下角所示，成人票是价格的一个约束，建模时把约束&quot;成人&quot;建在&quot;价格&quot;的节点上。在线查询时，通过一跳就能查询到价格节点，要做的事情就是约束匹配，找到一条最优的路径；再就是引入排序模型，排序解决的就是选择含约束条件的最优路径。这样常见的约束可以比较快的整理出来，不常见的约束也可以作为约束节点加进去，因排序模型解决了相似计算问题，对于未见过的约束类型也同样生效。</p>
<h1 id="5-知识图谱问答发展趋势与挑战">5. 知识图谱问答发展趋势与挑战<a hidden class="anchor" aria-hidden="true" href="#5-知识图谱问答发展趋势与挑战">#</a></h1>
<p>知识图谱问答系统总体上可以分为Pipeline和端到端两种方案，端到端的深度学习模型首先需要一个足够完整的图谱和基于这个图谱产生足够多的样本数据，而在实际项目中比较困难。相比较而言，实际落地过程中，Pipeline的方式会更可行，可以方便对每个过程或者步骤进行控制和定向优化，如添加业务词典去提高实体链接的精度等等。</p>
<p>中文知识图谱复杂问答目前很难自动化就获得一个较好的base效果，目前业界或多或少都会采用模板库的方式来解决特定问题。在垂直领域特定的图谱模式下，通过KBQA和推理可以体现出足够深度的专家经验，同时辅助一定结构化的数据降低图谱构建和维护的成本，这会是体现知识图谱问答价值的方式之一。</p>
<p>当前KBQA的发展向着结合深度学习模型的方法靠拢，以解决多跳推理问题、提高模型的解释性为主要目标。</p>
<h1 id="6-参考文档">6. 参考文档<a hidden class="anchor" aria-hidden="true" href="#6-参考文档">#</a></h1>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/567003004">知识图谱问答领域综述</a></li>
<li><a href="https://www.datagrand.com/blog/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E6%9E%84%E5%BB%BA%E4%B8%8B%E7%9A%84%E8%87%AA%E5%8A%A8%E9%97%AE%E7%AD%94kbqa%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98-%E6%96%87%E8%BE%89.html">知识图谱构建下的自动问答KBQA系统实战-文辉</a></li>
<li><a href="https://blog.csdn.net/sikh_0529/article/details/129318391">【KBQA】医疗知识图谱的问答系统实现-CSDN博客</a></li>
<li><a href="https://www.infoq.cn/article/bvmbionj6xwgykuof3dq">美团智能问答技术探索与实践</a></li>
</ol>
<p><a href="/">Filter table data</a><a href="/">Create a pivot table</a><a href="/">Create a chart from data series</a></p>
<p><a href="/users/tfac-settings.action">Configure buttons visibility</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E9%BB%84%E5%A9%B7/">黄婷</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/wiki/0721%E7%89%88%E6%9C%ACh5%E7%AB%AF%E8%99%9A%E6%8B%9F%E4%BA%BA%E6%99%BA%E8%83%BD%E5%AE%A2%E6%9C%8D%E9%97%AE%E9%A2%98%E7%99%BB%E8%AE%B0%E8%A1%A8/">
    <span class="title">« 上一页</span>
    <br>
    <span>0721版本H5端虚拟人智能客服问题登记表</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/wiki/2023~~%E4%B8%83%E6%9C%88%E4%BB%BD/">
    <span class="title">下一页 »</span>
    <br>
    <span>2023~~七月份</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on x"
            href="https://x.com/intent/tweet/?text=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f&amp;hashtags=%e9%bb%84%e5%a9%b7">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f&amp;title=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94&amp;summary=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f&title=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on telegram"
            href="https://telegram.me/share/url?text=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 图谱问答实现技术调研 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e5%9b%be%e8%b0%b1%e9%97%ae%e7%ad%94%e5%ae%9e%e7%8e%b0%e6%8a%80%e6%9c%af%e8%b0%83%e7%a0%94&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E5%259B%25BE%25E8%25B0%25B1%25E9%2597%25AE%25E7%25AD%2594%25E5%25AE%259E%25E7%258E%25B0%25E6%258A%2580%25E6%259C%25AF%25E8%25B0%2583%25E7%25A0%2594%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
