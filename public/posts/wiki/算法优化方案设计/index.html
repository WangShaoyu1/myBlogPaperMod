<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>算法优化方案设计 | PaperMod</title>
<meta name="keywords" content="烹饪方案预测语音技能">
<meta name="description" content="烹饪方案预测语音技能">
<meta name="author" content="王宇">
<link rel="canonical" href="http://localhost:1313/posts/wiki/%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/wiki/%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="算法优化方案设计" />
<meta property="og:description" content="烹饪方案预测语音技能" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/wiki/%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />




<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="算法优化方案设计"/>
<meta name="twitter:description" content="烹饪方案预测语音技能"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "算法优化方案设计",
      "item": "http://localhost:1313/posts/wiki/%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "算法优化方案设计",
  "name": "算法优化方案设计",
  "description": "烹饪方案预测语音技能",
  "keywords": [
    "烹饪方案预测语音技能"
  ],
  "articleBody": "根据算法优化及烹饪业务调研内容来看，当前算法优化存在两大瓶颈：数据和建模。本文重点从这两大方面入手，给出算法优化的整体解决方案。\n1. 数据优化方案 1.1. 增加训练数据 可以根据业务情况持续补充高质量的菜品烹饪数据到训练集中，但是，对算法而言，重点需要增加以下几方面的数据，用于算法学习，从而修正算法预测误差：\n补充小重量（小于200 g）和大重量（大于1000 g）菜品的烹饪数据。下表（左）统计了当前训练的1144条数据中，不同重量范围的食谱数，由此可以看出重量分布是严重失衡的。算法的训练数据应尽可能均衡，故认为需要补充不同重量范围的数据，初步评估最少的数据需求如下表（右）所示（总共310道）。 针对训练数据中缺失的食材，补充对应菜品的烹饪数据。可以重点参考当前UGC食谱中出现的食材，经统计，目前平台UGC食谱中有140个主要食材有对应的营养成分数据，但未用于训练（对应着310道食谱），可以通过人工复验这些食谱，来补充对应的训练数据（至少100道）。 针对加水较多的烹饪方式（粥、汤类）和算法预测误差较大的菜品，补充对应的烹饪数据。当前训练数据中有18道粥类食谱，172道汤类食谱，认为粥类食谱至少还需补充20道，汤类食谱则需要补充不同种类的汤面和汤粉的烹饪数据（至少20道）。至于算法预测误差较大的菜品，随着算法应用增多而持续增加，目前发现不多（7道：烤五花肉，烤火腿肠、烤板栗、荷包蛋、蒸鸡蛋、豆芽炒瘦肉、芦笋口蘑青椒炒虾仁）。 1.2. 补充关键特征 对于烹饪场景而言，当前缺失的关键特征有：烹饪方式、食材大小、形状和口感。初步认为可以通过以下方式补充对应的特征数据：\n1.2.1. 烹饪方式 烹饪方式是对一道菜的整体烹饪过程而言，收集和使用均较为方便，只需要根据统一的烹饪方式标准为每道菜选择对应的烹饪方式就行。当然，首先要建立统一的烹饪方式区分标准，要求通俗易懂、容易推广且能给算法提供足够有用的信息。\n目前，考虑到水对算法预测结果影响较大，将烹饪方式分为粥（水全程参与）、汤（水全程参与）、焖炖（水全程参与）、煮（涵盖烤、煎、炒、蒸等方式，水少量参与或没有，通常小于总量的30%，可全程或部分参与）。因实际烹饪过程比较复杂，并不一定是纯粹的烹饪方式，而且还会有淖水的情况出现（通常淖水后水会倒掉，食材清洗冷却后再烹饪），故还需要区分以下几种混合烹饪方式：粥，淖水；汤，淖水；焖炖，淖水；煮，淖水（大部分水淖水后倒掉，少部分水参与煮的过程）；汤，煮；粥，煮（主要是做汤、粥，但部分食材为煮或焖炖）。\n以上烹饪方式划分标准是根据个人经验做出的，不一定是最合适的。如果有条件，应该开展“不同烹饪方式对烹饪参数的影响”研究，收集多类相同食材在不同烹饪方式（水含量不同）下的烹饪数据，通过详细的数据分析，来确定对算法最有利的划分方式。\n1.2.2. 食材大小和形状 对于食材的大小和形状特征，现有技术条件无法精细化的收集菜品中每个食材的数据，但此特征对菜品烹饪效果影响较大，故需要考虑给出一个较为可行的解决方案。\n或许可以将食材大小和形状作为每一类食材的综合特征，取值标准大概包含：流体、丝（较细，直径2 mm以内）、细条（直径1 cm以内）、粗条（直径大于1 cm）、薄片（厚1 mm以内）、常规片（厚1 cm以内）、厚片(1-3 cm)、粉末（2 mm以内）、颗粒（小于1 cm）、小块（1-3 cm）、中块（3-5 cm）、大块（大于5 cm）、半个、整个。这个标准基于个人经验给出，不完全合理，如果有条件，应该开展“食材大小和形状对烹饪参数的影响”研究，收集多类相同食材在不同大小和形状下的烹饪数据，通过详细的数据分析，来确定对算法最有利的划分标准。\n这样处理虽然选择和使用特征都比较方便，但是存在一个问题：食材如何分类？若与食材按照烹饪时长分类建模（详见下文菜品建模的内容）的标准统一，则要把食材分类结果告知用户，且可能会出现同类食材在大小和形状上差异较大的问题，而且过多的类别会造成特征稀疏的情况，故这种方式收集和处理数据太麻烦；或许，可以采用下面这种更方便简洁的分类方式：\n**蔬菜类：**根菜类（胡萝卜，白萝卜，马蹄，马铃薯，红薯，芋头，山药）、茎菜类（菜心，莴笋，西芹，芹菜，莲藕，蒜苗，豆芽，豌豆苗，蕨菜，洋葱）、叶菜类（小白菜，上海青，生菜，娃娃菜，香菜，菠菜，香葱，韭菜，韭黄，人参菜，枸杞叶）、花菜类（西兰花）、果菜类（番茄，红灯笼椒，青椒，茄子，丝瓜，青瓜，冬瓜，南瓜，西葫芦，秋葵，枸杞）、鲜豆类（四季豆，豆角，荷兰豆） **菌藻类：**菌类（香菇，金针菇，杏鲍菇，茶树菇，木耳）、藻类（紫菜，海带，裙带菜） 肉类：禽肉类（鸡，鸭，鹅，鸽）、畜肉类（猪肉，牛肉，羊肉，排骨） **水产类：**鱼类（草鱼，鲈鱼，鲫鱼）、虾类（虾仁，鲜虾，虾皮）、蟹类（花蟹，大闸蟹）、贝类（花甲，田螺，鲍鱼，生蚝）、其他（鱿鱼，墨鱼，甲鱼，八爪鱼） **蛋奶豆制品：**蛋类（鸡，鸭，鹅，鹌鹑蛋）、干豆类（豆腐，腐竹，千张） **主食杂粮类：谷物类（**稻米，小米，玉米等）、面类、粉类、饺子 1.2.3. 口感 口感可以是一道菜整体的口感，也可以是菜中每个食材具体的口感，但对算法来说，无法针对单一食材优化，所以更关注整体的口感特征（主要指食物的硬度和熟度）。因口感的评价具有主观性，难以收集到统一标准的数据。目前想到的方法是由专人为训练数据集标注口感，这意味着用户通过选择口感得到的烹饪方案，是基于我们内部定义的口感标准来推荐的。\n初步认为硬度的取值标准大概包含：稀（常见与粥类）、烂、软、适中、稍硬（脆、有嚼劲）、硬。这个标准基于个人经验给出，不完全合适，如果有条件，应该开展“食材硬度对烹饪参数的影响”研究，收集多类相同食材在不同硬度下的烹饪数据，通过详细的数据分析，来确定对算法最有利的划分标准。数据量足够大的情况下，也可以考虑开发一个算法专门为不同的食谱标注硬度特征。\n熟度的取值标准难以统一量化，且涉及到食品安全问题，大部分食材都是要求10分熟；只有少数食材有特殊的熟度要求，常见的是牛排，但不同食材之间的熟度标准无法直接参考。如果要做，需要针对这些有熟度要求的食材分别建立标准，并收集对应的烹饪数据，供算法学习。\n1.3. 提高数据准确性 基于成分建模菜品的算法方案，高度依赖于食材的营养成分数据。因营养成分并不能完全代表食材的烹饪特性，故此方案并非最优。若仍然采用该方案，则要想办法提升数据的准确性，修正误差较大的数据，同时，补充缺失的食材营养成分数据。\n当然，也可以考虑基于食材的烹饪特性建模菜品，食材根据烹饪时长划分，这要求收集不同食材的烹饪数据，具体见下文菜品建模的内容。\n2. 建模优化方案 根据当前调研的建模瓶颈来看，可以从菜品建模和烹饪建模两方面进行优化。\n菜品建模：即如何能更好的刻画一道菜的烹饪特性。目前，根据菜谱中主食材的营养成分（水分、蛋白质、脂肪和碳水化合物）含量计算得到的整体营养成分含量来建模菜品，不能完全满足以烹饪为目标的场景需求。采用食材的烹饪时长来建模会是更佳选择，即将食材按照烹饪所需热量分类。根据菜谱的整体烹饪方法和口感，及其中每类主食材的含量、大小和形状能更精准的建模。同时，也能根据不同用户的喜好，给出精准的推荐结果。 烹饪建模：即用什么方式能更贴近真实的烹饪过程。目前，将烹饪过程统一为：由常温（20度）升温到100度，并经历一段完全熟化的过程，与真实的烹饪过程差异较大。当然，这部分受限于当前所用1.5版万得厨硬件条件，优化空间不大。仅考虑捕捉食谱烹饪前的炉内温度，来确定初始温度，同时根据烹饪前的炉内电压，给出功率补偿方案。 因此，建模优化的重点放在菜品建模上，但考虑到相关数据收集需要人力、物力和时间，且具体方案也需要在实践中进行验证和优化，故从落地难度上，给出由易到难的3种优化方案，期望最终能从简易优化过渡到精细化优化方案。不同方案之间的区别如下表所示：\n对比项\n菜品建模简要优化方案\n菜品建模过渡优化方案\n菜品建模精细化优化方案\n对比项\n菜品建模简要优化方案\n菜品建模过渡优化方案\n菜品建模精细化优化方案\n所用特征\n食材重量、营养成分、菜品口感和烹饪方式\n基础特征：食材重量、菜品口感和烹饪方式\n基础特征：食材重量、大小和形状、菜品口感和烹饪方式\n候选特征：食材营养成分\n所需数据\n菜谱烹饪数据\n单一食材烹饪数据\n组合菜谱烹饪数据\n单一食材烹饪数据\n组合菜谱烹饪数据\n3. 菜品建模精细化优化方案 3.1. 数据收集 3.1.1. 建立单一食材分类数据 在统一烹饪方式和口感的前提下，保证食材重量、大小和形状基本一致，根据单一食材烹饪所需热量，对食材进行分类（预计热量相差10%以内的为一类）。此部分食材数据决定了算法能支持的食材范围，数据量多的情况下或许可以单独开发一个食材分类算法。\n3.1.2. 收集各类菜谱的烹饪数据 在不同的烹饪方式和口感下，收集每类食材合理搭配情况下的菜谱烹饪数据，记录菜谱中每类食材的含量、大小和形状（此部分数据要能覆盖常见菜谱的食材搭配）。\n3.2. 算法建模 3.2.1. 菜品建模 算法根据菜谱中每类食材的重量、大小和形状表征一道菜的初始状态，烹饪方式和口感作为整体的独立特征。\n因食品成分影响微波加热的介电特性，故作为算法的特征有一定的价值，可作为候选特征。\n3.2.2. 算法训练 单一食材和菜谱的烹饪数据均可作为算法的训练数据，可增加一个标签用于区分这两类数据（也许是一个特征，也有可能需要两个不同的模型）。\n3.2.3. 算法预测 根据用户输入的整体烹饪方式和口感，以及每个食材的重量和每类食材的形态，算法便能给出精细化的推荐结果。\n4. 菜品建模简要优化方案 4.1. 新增烹饪方式和口感特征 在原有菜谱食材清单数据基础上，新增菜谱的整体烹饪方式和口感特征。\n4.2. 算法建模 4.2.1. 菜品建模 在原有食材营养成分建模菜品基础上，烹饪方式和口感作为整体的独立特征。\n4.2.2. 算法训练 各类菜谱的烹饪数据作为算法的训练数据。\n4.2.3. 算法预测 根据用户输入的整体烹饪方式和口感，以及每个食材的重量，算法便能根据不同的烹饪方式和口感给出推荐结果。\n5. 菜品建模过渡优化方案 5.1. 数据收集 5.1.1. 建立单一食材分类数据（不考虑形态） 在不同烹饪方式和口感下，收集单一食材在不同重量下所需的烹饪热量，并根据热量差对食材进行分类。因不考虑食材形态，故可将食材最常见的形态作为数据收集的标准形态，但仍要记录食材的形态数据，方便精细化优化方案使用。\n5.1.2. 新增烹饪方式和口感特征 在原有菜谱食材清单数据基础上，新增菜谱的整体烹饪方式和口感特征。\n5.2. 算法建模 5.2.1. 菜品建模 算法根据菜谱的食材清单数据和食材分类数据，计算得到每类食材的重量，用于表征一道菜的初始状态，烹饪方式和口感作为整体的独立特征。\n5.2.2. 算法训练 单一食材和菜谱的烹饪数据均可作为算法的训练数据，可增加一个标签用于区分这两类数据。\n5.2.3. 算法预测 根据用户输入的整体烹饪方式和口感，以及每个食材的重量，算法便能给出较为精细化的推荐结果。\n6. 单一食材烹饪数据需求 通过分析当前训练数据集中的常见食材及其类别，抽取出单一食材烹饪数据需求如下表所示（共117个食材）。对每个食材，在统一口感及常见烹饪方式下（如：加水不超过30%，加水50%，加水70%等），应尽可能多收集几组重量（50， 200，500 g等），及不同大小和形状下（1-4种）的烹饪数据。从而能根据这些数据初步分析不同烹饪方式和重量对食材烹饪所需热量的影响，但是这意味着可能需要做2000道菜。\n大类\n小类\n食材名称\n食材数目\n备注\n大类\n小类\n食材名称\n食材数目\n备注\n肉类\n畜肉类\n排骨,猪肉,五花肉,牛肉,肥牛,牛百叶,羊肉,羊排\n8\n形状可取片和块，排骨和羊排可尝试大重量（1-3 kg）。\n肉类\n禽肉类\n鸡肉,鸡腿,鸡翅中,鸭肉,鸭腿,鹅肉\n6\n形状可取块和整个，可尝试大重量（1-3 kg）。\n菌藻类\n菌类\n香菇,金针菇,口蘑,杏鲍菇,茶树菇,木耳\n6\n形状可取块和整个。\n菌藻类\n藻类\n紫菜,海带,裙带菜\n3\n形状可取片和块。\n蔬菜类\n叶菜\n小白菜,上海青,生菜,娃娃菜,空心菜,包菜,莴笋叶,油麦菜,红薯叶,香菜,菠菜,香葱,韭菜,韭黄,人参菜,枸杞叶\n16\n形状可取片和块。\n蔬菜类\n茎菜\n菜心,莴笋,西芹,芹菜,莲藕,蒜苗,黄豆芽,豌豆苗,绿豆芽,蕨菜,洋葱\n11\n形状可取条、片和块。\n蔬菜类\n根菜类\n胡萝卜,白萝卜,马蹄,土豆,红薯,紫薯,芋头,山药\n8\n形状可取条、片、块和整个，可尝试大重量（1-3 kg）。\n蔬菜类\n果菜类\n番茄,红灯笼椒,青椒,茄子,丝瓜,青瓜,冬瓜,南瓜,西葫芦,秋葵,枸杞\n11\n形状可取条、片、块和整个，南瓜可尝试大重量（1-3 kg）。\n蔬菜类\n花菜类\n西兰花\n1\n形状为块。\n蔬菜类\n鲜豆类\n四季豆,豆角,荷兰豆,蚕豆\n4\n形状可取块和颗粒。\n蛋奶豆制品\n蛋类\n鸡蛋,鸡蛋黄,鸡蛋液,鸭蛋,鹌鹑蛋\n5\n形状可取流体和整个。\n蛋奶豆制品\n干豆类\n豆腐,腐竹,千张\n3\n形状可取片和块。\n主食杂粮类\n谷物类\n小米,大米,糯米,黑米,东北大米,甜玉米粒,甜玉米,糯玉米\n8\n形状可取颗粒和块，甜玉米和糯玉米可尝试大重量（1-3 kg）。\n主食杂粮类\n面类\n玉米面\n1\n形状为条。\n主食杂粮类\n粉类\n糯米粉,米粉\n2\n形状为条。\n水产类\n其他\n鱿鱼,墨鱼,甲鱼,八爪鱼\n4\n形状可取块。\n水产类\n虾\n虾仁,鲜虾,虾皮,小龙虾\n4\n形状可块和整个。\n水产类\n蟹\n花蟹,大闸蟹\n2\n形状可块和整个。\n水产类\n贝\n花甲,田螺,鲍鱼,生蚝\n4\n形状为整个。\n水产类\n鱼\n鱼头,泥鳅,草鱼,鲈鱼,鲫鱼,罗非鱼,带鱼,龙利鱼,三文鱼,鲶鱼\n10\n形状可取片、块、半个和整个，可尝试大重量（1-3 kg）。\nFilter table dataCreate a pivot tableCreate a chart from data series\nConfigure buttons visibility\n",
  "wordCount" : "269",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "王宇"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/wiki/%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      算法优化方案设计
    </h1>
    <div class="post-description">
      烹饪方案预测语音技能
    </div>
    <div class="post-meta">2 分钟&nbsp;·&nbsp;王宇&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/wiki/%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e6%95%b0%e6%8d%ae%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88" aria-label="1. 数据优化方案">1. 数据优化方案</a><ul>
                        
                <li>
                    <a href="#11-%e5%a2%9e%e5%8a%a0%e8%ae%ad%e7%bb%83%e6%95%b0%e6%8d%ae" aria-label="1.1. 增加训练数据">1.1. 增加训练数据</a></li>
                <li>
                    <a href="#12-%e8%a1%a5%e5%85%85%e5%85%b3%e9%94%ae%e7%89%b9%e5%be%81" aria-label="1.2. 补充关键特征">1.2. 补充关键特征</a><ul>
                        
                <li>
                    <a href="#121-%e7%83%b9%e9%a5%aa%e6%96%b9%e5%bc%8f" aria-label="1.2.1. 烹饪方式">1.2.1. 烹饪方式</a></li>
                <li>
                    <a href="#122-%e9%a3%9f%e6%9d%90%e5%a4%a7%e5%b0%8f%e5%92%8c%e5%bd%a2%e7%8a%b6" aria-label="1.2.2. 食材大小和形状">1.2.2. 食材大小和形状</a></li>
                <li>
                    <a href="#123-%e5%8f%a3%e6%84%9f" aria-label="1.2.3. 口感">1.2.3. 口感</a></li></ul>
                </li>
                <li>
                    <a href="#13-%e6%8f%90%e9%ab%98%e6%95%b0%e6%8d%ae%e5%87%86%e7%a1%ae%e6%80%a7" aria-label="1.3. 提高数据准确性">1.3. 提高数据准确性</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e5%bb%ba%e6%a8%a1%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88" aria-label="2. 建模优化方案">2. 建模优化方案</a></li>
                <li>
                    <a href="#3-%e8%8f%9c%e5%93%81%e5%bb%ba%e6%a8%a1%e7%b2%be%e7%bb%86%e5%8c%96%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88" aria-label="3. 菜品建模精细化优化方案">3. 菜品建模精细化优化方案</a><ul>
                        
                <li>
                    <a href="#31-%e6%95%b0%e6%8d%ae%e6%94%b6%e9%9b%86" aria-label="3.1. 数据收集">3.1. 数据收集</a><ul>
                        
                <li>
                    <a href="#311-%e5%bb%ba%e7%ab%8b%e5%8d%95%e4%b8%80%e9%a3%9f%e6%9d%90%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae" aria-label="3.1.1. 建立单一食材分类数据">3.1.1. 建立单一食材分类数据</a></li>
                <li>
                    <a href="#312-%e6%94%b6%e9%9b%86%e5%90%84%e7%b1%bb%e8%8f%9c%e8%b0%b1%e7%9a%84%e7%83%b9%e9%a5%aa%e6%95%b0%e6%8d%ae" aria-label="3.1.2. 收集各类菜谱的烹饪数据">3.1.2. 收集各类菜谱的烹饪数据</a></li></ul>
                </li>
                <li>
                    <a href="#32-%e7%ae%97%e6%b3%95%e5%bb%ba%e6%a8%a1" aria-label="3.2. 算法建模">3.2. 算法建模</a><ul>
                        
                <li>
                    <a href="#321-%e8%8f%9c%e5%93%81%e5%bb%ba%e6%a8%a1" aria-label="3.2.1. 菜品建模">3.2.1. 菜品建模</a></li>
                <li>
                    <a href="#322-%e7%ae%97%e6%b3%95%e8%ae%ad%e7%bb%83" aria-label="3.2.2. 算法训练">3.2.2. 算法训练</a></li>
                <li>
                    <a href="#323-%e7%ae%97%e6%b3%95%e9%a2%84%e6%b5%8b" aria-label="3.2.3. 算法预测">3.2.3. 算法预测</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#4-%e8%8f%9c%e5%93%81%e5%bb%ba%e6%a8%a1%e7%ae%80%e8%a6%81%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88" aria-label="4. 菜品建模简要优化方案">4. 菜品建模简要优化方案</a><ul>
                        
                <li>
                    <a href="#41-%e6%96%b0%e5%a2%9e%e7%83%b9%e9%a5%aa%e6%96%b9%e5%bc%8f%e5%92%8c%e5%8f%a3%e6%84%9f%e7%89%b9%e5%be%81" aria-label="4.1. 新增烹饪方式和口感特征">4.1. 新增烹饪方式和口感特征</a></li>
                <li>
                    <a href="#42-%e7%ae%97%e6%b3%95%e5%bb%ba%e6%a8%a1" aria-label="4.2. 算法建模">4.2. 算法建模</a><ul>
                        
                <li>
                    <a href="#421-%e8%8f%9c%e5%93%81%e5%bb%ba%e6%a8%a1" aria-label="4.2.1. 菜品建模">4.2.1. 菜品建模</a></li>
                <li>
                    <a href="#422-%e7%ae%97%e6%b3%95%e8%ae%ad%e7%bb%83" aria-label="4.2.2. 算法训练">4.2.2. 算法训练</a></li>
                <li>
                    <a href="#423-%e7%ae%97%e6%b3%95%e9%a2%84%e6%b5%8b" aria-label="4.2.3. 算法预测">4.2.3. 算法预测</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#5-%e8%8f%9c%e5%93%81%e5%bb%ba%e6%a8%a1%e8%bf%87%e6%b8%a1%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88" aria-label="5. 菜品建模过渡优化方案">5. 菜品建模过渡优化方案</a><ul>
                        
                <li>
                    <a href="#51-%e6%95%b0%e6%8d%ae%e6%94%b6%e9%9b%86" aria-label="5.1. 数据收集">5.1. 数据收集</a><ul>
                        
                <li>
                    <a href="#511-%e5%bb%ba%e7%ab%8b%e5%8d%95%e4%b8%80%e9%a3%9f%e6%9d%90%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e4%b8%8d%e8%80%83%e8%99%91%e5%bd%a2%e6%80%81" aria-label="5.1.1. 建立单一食材分类数据（不考虑形态）">5.1.1. 建立单一食材分类数据（不考虑形态）</a></li>
                <li>
                    <a href="#512-%e6%96%b0%e5%a2%9e%e7%83%b9%e9%a5%aa%e6%96%b9%e5%bc%8f%e5%92%8c%e5%8f%a3%e6%84%9f%e7%89%b9%e5%be%81" aria-label="5.1.2. 新增烹饪方式和口感特征">5.1.2. 新增烹饪方式和口感特征</a></li></ul>
                </li>
                <li>
                    <a href="#52-%e7%ae%97%e6%b3%95%e5%bb%ba%e6%a8%a1" aria-label="5.2. 算法建模">5.2. 算法建模</a><ul>
                        
                <li>
                    <a href="#521-%e8%8f%9c%e5%93%81%e5%bb%ba%e6%a8%a1" aria-label="5.2.1. 菜品建模">5.2.1. 菜品建模</a></li>
                <li>
                    <a href="#522-%e7%ae%97%e6%b3%95%e8%ae%ad%e7%bb%83" aria-label="5.2.2. 算法训练">5.2.2. 算法训练</a></li>
                <li>
                    <a href="#523-%e7%ae%97%e6%b3%95%e9%a2%84%e6%b5%8b" aria-label="5.2.3. 算法预测">5.2.3. 算法预测</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#6-%e5%8d%95%e4%b8%80%e9%a3%9f%e6%9d%90%e7%83%b9%e9%a5%aa%e6%95%b0%e6%8d%ae%e9%9c%80%e6%b1%82" aria-label="6. 单一食材烹饪数据需求">6. 单一食材烹饪数据需求</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>根据<a href="/pages/viewpage.action?pageId=109725552">算法优化及烹饪业务调研</a>内容来看，当前算法优化存在两大瓶颈：数据和建模。本文重点从这两大方面入手，给出算法优化的整体解决方案。</p>
<h1 id="1-数据优化方案">1. 数据优化方案<a hidden class="anchor" aria-hidden="true" href="#1-数据优化方案">#</a></h1>
<h2 id="11-增加训练数据">1.1. 增加训练数据<a hidden class="anchor" aria-hidden="true" href="#11-增加训练数据">#</a></h2>
<p>可以根据业务情况持续补充高质量的菜品烹饪数据到训练集中，但是，对算法而言，重点需要增加以下几方面的数据，用于算法学习，从而修正算法预测误差：</p>
<ul>
<li>补充小重量（小于200 g）和大重量（大于1000 g）菜品的烹饪数据。下表（左）统计了当前训练的1144条数据中，不同重量范围的食谱数，由此可以看出重量分布是严重失衡的。算法的训练数据应尽可能均衡，故认为需要补充不同重量范围的数据，初步评估最少的数据需求如下表（右）所示（总共310道）。</li>
</ul>
<p>                                <img loading="lazy" src="/download/thumbnails/109726639/image2023-10-27_17-26-35.png?version=1&amp;modificationDate=1698398795736&amp;api=v2" alt=""  />
                  <img loading="lazy" src="/download/thumbnails/109726639/image2023-10-27_17-41-40.png?version=1&amp;modificationDate=1698399700342&amp;api=v2" alt=""  />
</p>
<ul>
<li>针对训练数据中缺失的食材，补充对应菜品的烹饪数据。可以重点参考当前UGC食谱中出现的食材，经统计，目前平台UGC食谱中有140个主要食材有对应的营养成分数据，但未用于训练（对应着310道食谱），可以通过人工复验这些食谱，来补充对应的训练数据（至少100道）。</li>
<li>针对加水较多的烹饪方式（粥、汤类）和算法预测误差较大的菜品，补充对应的烹饪数据。当前训练数据中有18道粥类食谱，172道汤类食谱，认为粥类食谱至少还需补充20道，汤类食谱则需要补充不同种类的汤面和汤粉的烹饪数据（至少20道）。至于算法预测误差较大的菜品，随着算法应用增多而持续增加，目前发现不多（7道：烤五花肉，烤火腿肠、烤板栗、荷包蛋、蒸鸡蛋、豆芽炒瘦肉、芦笋口蘑青椒炒虾仁）。</li>
</ul>
<h2 id="12-补充关键特征">1.2. 补充关键特征<a hidden class="anchor" aria-hidden="true" href="#12-补充关键特征">#</a></h2>
<p>对于烹饪场景而言，当前缺失的关键特征有：烹饪方式、食材大小、形状和口感。初步认为可以通过以下方式补充对应的特征数据：</p>
<h3 id="121-烹饪方式">1.2.1. 烹饪方式<a hidden class="anchor" aria-hidden="true" href="#121-烹饪方式">#</a></h3>
<p>烹饪方式是对一道菜的整体烹饪过程而言，收集和使用均较为方便，只需要根据统一的烹饪方式标准为每道菜选择对应的烹饪方式就行。当然，首先要建立统一的烹饪方式区分标准，要求通俗易懂、容易推广且能给算法提供足够有用的信息。</p>
<p>目前，考虑到水对算法预测结果影响较大，将烹饪方式分为粥（水全程参与）、汤（水全程参与）、焖炖（水全程参与）、煮（涵盖烤、煎、炒、蒸等方式，水少量参与或没有，通常小于总量的30%，可全程或部分参与）。因实际烹饪过程比较复杂，并不一定是纯粹的烹饪方式，而且还会有淖水的情况出现（通常淖水后水会倒掉，食材清洗冷却后再烹饪），故还需要区分以下几种混合烹饪方式：粥，淖水；汤，淖水；焖炖，淖水；煮，淖水（大部分水淖水后倒掉，少部分水参与煮的过程）；汤，煮；粥，煮（主要是做汤、粥，但部分食材为煮或焖炖）。</p>
<p>以上烹饪方式划分标准是根据个人经验做出的，不一定是最合适的。如果有条件，应该开展“不同烹饪方式对烹饪参数的影响”研究，收集多类相同食材在不同烹饪方式（水含量不同）下的烹饪数据，通过详细的数据分析，来确定对算法最有利的划分方式。</p>
<h3 id="122-食材大小和形状">1.2.2. 食材大小和形状<a hidden class="anchor" aria-hidden="true" href="#122-食材大小和形状">#</a></h3>
<p>对于食材的大小和形状特征，现有技术条件无法精细化的收集菜品中每个食材的数据，但此特征对菜品烹饪效果影响较大，故需要考虑给出一个较为可行的解决方案。</p>
<p>或许可以将食材大小和形状作为每一类食材的综合特征，取值标准大概包含：流体、丝（较细，直径2 mm以内）、细条（直径1 cm以内）、粗条（直径大于1 cm）、薄片（厚1 mm以内）、常规片（厚1 cm以内）、厚片(1-3 cm)、粉末（2 mm以内）、颗粒（小于1 cm）、小块（1-3 cm）、中块（3-5 cm）、大块（大于5 cm）、半个、整个。这个标准基于个人经验给出，不完全合理，如果有条件，应该开展“食材大小和形状对烹饪参数的影响”研究，收集多类相同食材在不同大小和形状下的烹饪数据，通过详细的数据分析，来确定对算法最有利的划分标准。</p>
<p>这样处理虽然选择和使用特征都比较方便，但是存在一个问题：食材如何分类？若与食材按照烹饪时长分类建模（详见下文菜品建模的内容）的标准统一，则要把食材分类结果告知用户，且可能会出现同类食材在大小和形状上差异较大的问题，而且过多的类别会造成特征稀疏的情况，故这种方式收集和处理数据太麻烦；或许，可以采用下面这种更方便简洁的分类方式：</p>
<ul>
<li>**蔬菜类：**根菜类（胡萝卜，白萝卜，马蹄，马铃薯，红薯，芋头，山药）、茎菜类（菜心，莴笋，西芹，芹菜，莲藕，蒜苗，豆芽，豌豆苗，蕨菜，洋葱）、叶菜类（小白菜，上海青，生菜，娃娃菜，香菜，菠菜，香葱，韭菜，韭黄，人参菜，枸杞叶）、花菜类（西兰花）、果菜类（番茄，红灯笼椒，青椒，茄子，丝瓜，青瓜，冬瓜，南瓜，西葫芦，秋葵，枸杞）、鲜豆类（四季豆，豆角，荷兰豆）</li>
<li>**菌藻类：**菌类（香菇，金针菇，杏鲍菇，茶树菇，木耳）、藻类（紫菜，海带，裙带菜）</li>
<li>肉类：禽肉类（鸡，鸭，鹅，鸽）、畜肉类（猪肉，牛肉，羊肉，排骨）</li>
<li>**水产类：**鱼类（草鱼，鲈鱼，鲫鱼）、虾类（虾仁，鲜虾，虾皮）、蟹类（花蟹，大闸蟹）、贝类（花甲，田螺，鲍鱼，生蚝）、其他（鱿鱼，墨鱼，甲鱼，八爪鱼）</li>
<li>**蛋奶豆制品：**蛋类（鸡，鸭，鹅，鹌鹑蛋）、干豆类（豆腐，腐竹，千张）</li>
<li>**主食杂粮类：<strong>谷物类</strong>（**稻米，小米，玉米等）、面类、粉类、饺子</li>
</ul>
<h3 id="123-口感">1.2.3. 口感<a hidden class="anchor" aria-hidden="true" href="#123-口感">#</a></h3>
<p>口感可以是一道菜整体的口感，也可以是菜中每个食材具体的口感，但对算法来说，无法针对单一食材优化，所以更关注整体的口感特征（主要指食物的硬度和熟度）。因口感的评价具有主观性，难以收集到统一标准的数据。目前想到的方法是由专人为训练数据集标注口感，这意味着用户通过选择口感得到的烹饪方案，是基于我们内部定义的口感标准来推荐的。</p>
<p>初步认为硬度的取值标准大概包含：稀（常见与粥类）、烂、软、适中、稍硬（脆、有嚼劲）、硬。这个标准基于个人经验给出，不完全合适，如果有条件，应该开展“食材硬度对烹饪参数的影响”研究，收集多类相同食材在不同硬度下的烹饪数据，通过详细的数据分析，来确定对算法最有利的划分标准。数据量足够大的情况下，也可以考虑开发一个算法专门为不同的食谱标注硬度特征。</p>
<p>熟度的取值标准难以统一量化，且涉及到食品安全问题，大部分食材都是要求10分熟；只有少数食材有特殊的熟度要求，常见的是牛排，但不同食材之间的熟度标准无法直接参考。如果要做，需要针对这些有熟度要求的食材分别建立标准，并收集对应的烹饪数据，供算法学习。</p>
<h2 id="13-提高数据准确性">1.3. 提高数据准确性<a hidden class="anchor" aria-hidden="true" href="#13-提高数据准确性">#</a></h2>
<p>基于成分建模菜品的算法方案，高度依赖于食材的营养成分数据。因营养成分并不能完全代表食材的烹饪特性，故此方案并非最优。若仍然采用该方案，则要想办法提升数据的准确性，修正误差较大的数据，同时，补充缺失的食材营养成分数据。</p>
<p>当然，也可以考虑基于食材的烹饪特性建模菜品，食材根据烹饪时长划分，这要求收集不同食材的烹饪数据，具体见下文菜品建模的内容。</p>
<h1 id="2-建模优化方案">2. 建模优化方案<a hidden class="anchor" aria-hidden="true" href="#2-建模优化方案">#</a></h1>
<p>根据当前调研的建模瓶颈来看，可以从菜品建模和烹饪建模两方面进行优化。</p>
<ul>
<li>菜品建模：即如何能更好的刻画一道菜的烹饪特性。目前，根据菜谱中主食材的营养成分（水分、蛋白质、脂肪和碳水化合物）含量计算得到的整体营养成分含量来建模菜品，不能完全满足以烹饪为目标的场景需求。采用食材的烹饪时长来建模会是更佳选择，即将食材按照烹饪所需热量分类。根据菜谱的整体烹饪方法和口感，及其中每类主食材的含量、大小和形状能更精准的建模。同时，也能根据不同用户的喜好，给出精准的推荐结果。</li>
<li>烹饪建模：即用什么方式能更贴近真实的烹饪过程。目前，将烹饪过程统一为：由常温（20度）升温到100度，并经历一段完全熟化的过程，与真实的烹饪过程差异较大。当然，这部分受限于当前所用1.5版万得厨硬件条件，优化空间不大。仅考虑捕捉食谱烹饪前的炉内温度，来确定初始温度，同时根据烹饪前的炉内电压，给出功率补偿方案。</li>
</ul>
<p>因此，建模优化的重点放在菜品建模上，但考虑到相关数据收集需要人力、物力和时间，且具体方案也需要在实践中进行验证和优化，故从落地难度上，给出由易到难的3种优化方案，期望最终能从简易优化过渡到精细化优化方案。不同方案之间的区别如下表所示：</p>
<p>对比项</p>
<p>菜品建模简要优化方案</p>
<p>菜品建模过渡优化方案</p>
<p>菜品建模精细化优化方案</p>
<p>对比项</p>
<p>菜品建模简要优化方案</p>
<p>菜品建模过渡优化方案</p>
<p>菜品建模精细化优化方案</p>
<p>所用特征</p>
<p>食材重量、营养成分、菜品口感和烹饪方式</p>
<p>基础特征：食材重量、菜品口感和烹饪方式</p>
<p>基础特征：食材重量、大小和形状、菜品口感和烹饪方式</p>
<p>候选特征：食材营养成分</p>
<p>所需数据</p>
<p>菜谱烹饪数据</p>
<p>单一食材烹饪数据</p>
<p>组合菜谱烹饪数据</p>
<p>单一食材烹饪数据</p>
<p>组合菜谱烹饪数据</p>
<h1 id="3-菜品建模精细化优化方案">3. 菜品建模精细化优化方案<a hidden class="anchor" aria-hidden="true" href="#3-菜品建模精细化优化方案">#</a></h1>
<h2 id="31-数据收集">3.1. 数据收集<a hidden class="anchor" aria-hidden="true" href="#31-数据收集">#</a></h2>
<h3 id="311-建立单一食材分类数据">3.1.1. 建立单一食材分类数据<a hidden class="anchor" aria-hidden="true" href="#311-建立单一食材分类数据">#</a></h3>
<p>在统一烹饪方式和口感的前提下，保证食材重量、大小和形状基本一致，根据单一食材烹饪所需热量，对食材进行分类（预计热量相差10%以内的为一类）。此部分食材数据决定了算法能支持的食材范围，数据量多的情况下或许可以单独开发一个食材分类算法。</p>
<h3 id="312-收集各类菜谱的烹饪数据">3.1.2. 收集各类菜谱的烹饪数据<a hidden class="anchor" aria-hidden="true" href="#312-收集各类菜谱的烹饪数据">#</a></h3>
<p>在不同的烹饪方式和口感下，收集每类食材合理搭配情况下的菜谱烹饪数据，记录菜谱中每类食材的含量、大小和形状（此部分数据要能覆盖常见菜谱的食材搭配）。</p>
<h2 id="32-算法建模">3.2. 算法建模<a hidden class="anchor" aria-hidden="true" href="#32-算法建模">#</a></h2>
<h3 id="321-菜品建模">3.2.1. 菜品建模<a hidden class="anchor" aria-hidden="true" href="#321-菜品建模">#</a></h3>
<p>算法根据菜谱中每类食材的重量、大小和形状表征一道菜的初始状态，烹饪方式和口感作为整体的独立特征。</p>
<p>因食品成分影响微波加热的介电特性，故作为算法的特征有一定的价值，可作为候选特征。</p>
<h3 id="322-算法训练">3.2.2. 算法训练<a hidden class="anchor" aria-hidden="true" href="#322-算法训练">#</a></h3>
<p>单一食材和菜谱的烹饪数据均可作为算法的训练数据，可增加一个标签用于区分这两类数据（也许是一个特征，也有可能需要两个不同的模型）。</p>
<h3 id="323-算法预测">3.2.3. 算法预测<a hidden class="anchor" aria-hidden="true" href="#323-算法预测">#</a></h3>
<p>根据用户输入的整体烹饪方式和口感，以及每个食材的重量和每类食材的形态，算法便能给出精细化的推荐结果。</p>
<h1 id="4-菜品建模简要优化方案">4. 菜品建模简要优化方案<a hidden class="anchor" aria-hidden="true" href="#4-菜品建模简要优化方案">#</a></h1>
<h2 id="41-新增烹饪方式和口感特征">4.1. 新增烹饪方式和口感特征<a hidden class="anchor" aria-hidden="true" href="#41-新增烹饪方式和口感特征">#</a></h2>
<p>在原有菜谱食材清单数据基础上，新增菜谱的整体烹饪方式和口感特征。</p>
<h2 id="42-算法建模">4.2. 算法建模<a hidden class="anchor" aria-hidden="true" href="#42-算法建模">#</a></h2>
<h3 id="421-菜品建模">4.2.1. 菜品建模<a hidden class="anchor" aria-hidden="true" href="#421-菜品建模">#</a></h3>
<p>在原有食材营养成分建模菜品基础上，烹饪方式和口感作为整体的独立特征。</p>
<h3 id="422-算法训练">4.2.2. 算法训练<a hidden class="anchor" aria-hidden="true" href="#422-算法训练">#</a></h3>
<p>各类菜谱的烹饪数据作为算法的训练数据。</p>
<h3 id="423-算法预测">4.2.3. 算法预测<a hidden class="anchor" aria-hidden="true" href="#423-算法预测">#</a></h3>
<p>根据用户输入的整体烹饪方式和口感，以及每个食材的重量，算法便能根据不同的烹饪方式和口感给出推荐结果。</p>
<h1 id="5-菜品建模过渡优化方案">5. 菜品建模过渡优化方案<a hidden class="anchor" aria-hidden="true" href="#5-菜品建模过渡优化方案">#</a></h1>
<h2 id="51-数据收集">5.1. 数据收集<a hidden class="anchor" aria-hidden="true" href="#51-数据收集">#</a></h2>
<h3 id="511-建立单一食材分类数据不考虑形态">5.1.1. 建立单一食材分类数据（不考虑形态）<a hidden class="anchor" aria-hidden="true" href="#511-建立单一食材分类数据不考虑形态">#</a></h3>
<p>在不同烹饪方式和口感下，收集单一食材在不同重量下所需的烹饪热量，并根据热量差对食材进行分类。因不考虑食材形态，故可将食材最常见的形态作为数据收集的标准形态，但仍要记录食材的形态数据，方便精细化优化方案使用。</p>
<h3 id="512-新增烹饪方式和口感特征">5.1.2. 新增烹饪方式和口感特征<a hidden class="anchor" aria-hidden="true" href="#512-新增烹饪方式和口感特征">#</a></h3>
<p>在原有菜谱食材清单数据基础上，新增菜谱的整体烹饪方式和口感特征。</p>
<h2 id="52-算法建模">5.2. 算法建模<a hidden class="anchor" aria-hidden="true" href="#52-算法建模">#</a></h2>
<h3 id="521-菜品建模">5.2.1. 菜品建模<a hidden class="anchor" aria-hidden="true" href="#521-菜品建模">#</a></h3>
<p>算法根据菜谱的食材清单数据和食材分类数据，计算得到每类食材的重量，用于表征一道菜的初始状态，烹饪方式和口感作为整体的独立特征。</p>
<h3 id="522-算法训练">5.2.2. 算法训练<a hidden class="anchor" aria-hidden="true" href="#522-算法训练">#</a></h3>
<p>单一食材和菜谱的烹饪数据均可作为算法的训练数据，可增加一个标签用于区分这两类数据。</p>
<h3 id="523-算法预测">5.2.3. 算法预测<a hidden class="anchor" aria-hidden="true" href="#523-算法预测">#</a></h3>
<p>根据用户输入的整体烹饪方式和口感，以及每个食材的重量，算法便能给出较为精细化的推荐结果。</p>
<h1 id="6-单一食材烹饪数据需求">6. 单一食材烹饪数据需求<a hidden class="anchor" aria-hidden="true" href="#6-单一食材烹饪数据需求">#</a></h1>
<p>通过分析当前训练数据集中的常见食材及其类别，抽取出单一食材烹饪数据需求如下表所示（共117个食材）。对每个食材，在统一口感及常见烹饪方式下（如：加水不超过30%，加水50%，加水70%等），应尽可能多收集几组重量（50， 200，500 g等），及不同大小和形状下（1-4种）的烹饪数据。从而能根据这些数据初步分析不同烹饪方式和重量对食材烹饪所需热量的影响，但是这意味着可能需要做2000道菜。</p>
<p>大类</p>
<p>小类</p>
<p>食材名称</p>
<p>食材数目</p>
<p>备注</p>
<p>大类</p>
<p>小类</p>
<p>食材名称</p>
<p>食材数目</p>
<p>备注</p>
<p>肉类</p>
<p>畜肉类</p>
<p>排骨,猪肉,五花肉,牛肉,肥牛,牛百叶,羊肉,羊排</p>
<p>8</p>
<p>形状可取片和块，排骨和羊排可尝试大重量（1-3 kg）。</p>
<p>肉类</p>
<p>禽肉类</p>
<p>鸡肉,鸡腿,鸡翅中,鸭肉,鸭腿,鹅肉</p>
<p>6</p>
<p>形状可取块和整个，可尝试大重量（1-3 kg）。</p>
<p>菌藻类</p>
<p>菌类</p>
<p>香菇,金针菇,口蘑,杏鲍菇,茶树菇,木耳</p>
<p>6</p>
<p>形状可取块和整个。</p>
<p>菌藻类</p>
<p>藻类</p>
<p>紫菜,海带,裙带菜</p>
<p>3</p>
<p>形状可取片和块。</p>
<p>蔬菜类</p>
<p>叶菜</p>
<p>小白菜,上海青,生菜,娃娃菜,空心菜,包菜,莴笋叶,油麦菜,红薯叶,香菜,菠菜,香葱,韭菜,韭黄,人参菜,枸杞叶</p>
<p>16</p>
<p>形状可取片和块。</p>
<p>蔬菜类</p>
<p>茎菜</p>
<p>菜心,莴笋,西芹,芹菜,莲藕,蒜苗,黄豆芽,豌豆苗,绿豆芽,蕨菜,洋葱</p>
<p>11</p>
<p>形状可取条、片和块。</p>
<p>蔬菜类</p>
<p>根菜类</p>
<p>胡萝卜,白萝卜,马蹄,土豆,红薯,紫薯,芋头,山药</p>
<p>8</p>
<p>形状可取条、片、块和整个，可尝试大重量（1-3 kg）。</p>
<p>蔬菜类</p>
<p>果菜类</p>
<p>番茄,红灯笼椒,青椒,茄子,丝瓜,青瓜,冬瓜,南瓜,西葫芦,秋葵,枸杞</p>
<p>11</p>
<p>形状可取条、片、块和整个，南瓜可尝试大重量（1-3 kg）。</p>
<p>蔬菜类</p>
<p>花菜类</p>
<p>西兰花</p>
<p>1</p>
<p>形状为块。</p>
<p>蔬菜类</p>
<p>鲜豆类</p>
<p>四季豆,豆角,荷兰豆,蚕豆</p>
<p>4</p>
<p>形状可取块和颗粒。</p>
<p>蛋奶豆制品</p>
<p>蛋类</p>
<p>鸡蛋,鸡蛋黄,鸡蛋液,鸭蛋,鹌鹑蛋</p>
<p>5</p>
<p>形状可取流体和整个。</p>
<p>蛋奶豆制品</p>
<p>干豆类</p>
<p>豆腐,腐竹,千张</p>
<p>3</p>
<p>形状可取片和块。</p>
<p>主食杂粮类</p>
<p>谷物类</p>
<p>小米,大米,糯米,黑米,东北大米,甜玉米粒,甜玉米,糯玉米</p>
<p>8</p>
<p>形状可取颗粒和块，甜玉米和糯玉米可尝试大重量（1-3 kg）。</p>
<p>主食杂粮类</p>
<p>面类</p>
<p>玉米面</p>
<p>1</p>
<p>形状为条。</p>
<p>主食杂粮类</p>
<p>粉类</p>
<p>糯米粉,米粉</p>
<p>2</p>
<p>形状为条。</p>
<p>水产类</p>
<p>其他</p>
<p>鱿鱼,墨鱼,甲鱼,八爪鱼</p>
<p>4</p>
<p>形状可取块。</p>
<p>水产类</p>
<p>虾</p>
<p>虾仁,鲜虾,虾皮,小龙虾</p>
<p>4</p>
<p>形状可块和整个。</p>
<p>水产类</p>
<p>蟹</p>
<p>花蟹,大闸蟹</p>
<p>2</p>
<p>形状可块和整个。</p>
<p>水产类</p>
<p>贝</p>
<p>花甲,田螺,鲍鱼,生蚝</p>
<p>4</p>
<p>形状为整个。</p>
<p>水产类</p>
<p>鱼</p>
<p>鱼头,泥鳅,草鱼,鲈鱼,鲫鱼,罗非鱼,带鱼,龙利鱼,三文鱼,鲶鱼</p>
<p>10</p>
<p>形状可取片、块、半个和整个，可尝试大重量（1-3 kg）。</p>
<p><a href="/">Filter table data</a><a href="/">Create a pivot table</a><a href="/">Create a chart from data series</a></p>
<p><a href="/users/tfac-settings.action">Configure buttons visibility</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E7%83%B9%E9%A5%AA%E6%96%B9%E6%A1%88%E9%A2%84%E6%B5%8B%E8%AF%AD%E9%9F%B3%E6%8A%80%E8%83%BD/">烹饪方案预测语音技能</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/wiki/%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96%E5%8F%8A%E7%83%B9%E9%A5%AA%E4%B8%9A%E5%8A%A1%E8%B0%83%E7%A0%94/">
    <span class="title">« 上一页</span>
    <br>
    <span>算法优化及烹饪业务调研</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/wiki/%E6%AF%94%E7%83%AD%E5%AE%B9%E9%A2%84%E6%B5%8B%E7%AE%97%E6%B3%95/">
    <span class="title">下一页 »</span>
    <br>
    <span>比热容预测算法</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on x"
            href="https://x.com/intent/tweet/?text=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f&amp;hashtags=%e7%83%b9%e9%a5%aa%e6%96%b9%e6%a1%88%e9%a2%84%e6%b5%8b%e8%af%ad%e9%9f%b3%e6%8a%80%e8%83%bd">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f&amp;title=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1&amp;summary=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f&title=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on telegram"
            href="https://telegram.me/share/url?text=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 算法优化方案设计 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2f%25E7%25AE%2597%25E6%25B3%2595%25E4%25BC%2598%25E5%258C%2596%25E6%2596%25B9%25E6%25A1%2588%25E8%25AE%25BE%25E8%25AE%25A1%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
