<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>oppo强大语音助手小布背后的故事 | PaperMod</title>
<meta name="keywords" content="二、产品理念和PRD">
<meta name="description" content="二、产品理念和PRD">
<meta name="author" content="王宇">
<link rel="canonical" href="http://localhost:1313/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="oppo强大语音助手小布背后的故事" />
<meta property="og:description" content="二、产品理念和PRD" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />




<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="oppo强大语音助手小布背后的故事"/>
<meta name="twitter:description" content="二、产品理念和PRD"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "oppo强大语音助手小布背后的故事",
      "item": "http://localhost:1313/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "oppo强大语音助手小布背后的故事",
  "name": "oppo强大语音助手小布背后的故事",
  "description": "二、产品理念和PRD",
  "keywords": [
    "二、产品理念和PRD"
  ],
  "articleBody": " 1 一、产品当前现状 1.11、市场发展情况和背景介绍 1.22、语音助手功能 2二、产品核心优势 3三、优秀体验背后的技术支撑 3.1总体解决方案 3.2预测总体思路 3.3预测收益 4四、语音助手锤炼的思路 4.14.1、技能建设 4.1.14.1.1 技能建设中遇到的难题 4.1.24.1.2 解决难题过程中沉淀的解决方案 4.24.2、反智障 4.2.14.2.1 第一个抓手进行技术升级 4.2.24.2.1 第二个反智障的举措是自主缺陷发现与优化 4.34.3、懂用户 4.3.14.3.1 懂用户的属性 4.3.24.3.2 懂用户的行为 4.3.34.3.3 懂用户的情感 5五、长远规划 6六、对比当前影子的语音助手，进行深度思考 6.16.1、我们的语音助手离小布的距离还有多远，弱在哪里？ 6.26.2、小布有哪些地方我们可以学习和扩展的？ 6.36.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？ 一、产品当前现状\n1、市场发展情况和背景介绍 纵观整个智能助手市场，OPPO 小布助手有点“不一样”：它出现比较晚，但发展迅猛，成绩突出。\n前不久，oppo旗下的人工智能助手“小布助手”月度活跃用户数突破一亿，成为国内首个活跃用户数破亿的手机语音助手，已经覆盖公司的各类终端设备，并在不断的增加新入口，覆盖众多任务型、问答型、闲聊型的垂域。\n小布助手是搭载在 OPPO、Realme 和 OnePlus 这三大 OPPO 品牌上的智能助手产品。\n我们推出小布助手的初衷是，首先希望为 OPPO 万物互融新生态建设服务，成为关键的战略控制点。我们希望依托 AI 技术，基于数据智能驱动人机交互的用户体验不断升级。\n小布助手的定位不只限于语音助手，目前已经包含了语音、指令、建议、识屏和扫一扫 5 大能力，是人机交互最直接的信息媒介。我们希望通过小布助手为用户提供跨终端、全场景、智慧有度的服务体验。\n从 2018 年底推出小布助手前身 Breeno 语音到现在，短短三年时间我们累计迭代了 40 多个版本。\n2、语音助手功能 小布助手功能可分为五类：\n系统应用类：确定的命令需求，如系统设置、时间技能、应用技能等\n信息查询类：客观知识的查询/搜索需求，如“今天天气怎么样”等\n泛娱乐类：满足用户娱乐需求，包括听歌、看电影等\n生活服务：满足用户日常生活需求，包括导航、打车、订餐等\n聊天类：主观类的闲聊需求，包括人设问答、闲聊问答、话题多轮等\n唤醒方式：_语音_唤醒、长按电源键0.5s唤醒 、APP悬浮球、耳机唤醒。\n二、产品核心优势 无需安装，唤醒即用”的覆盖能力，实现“解放双手，高效操作”的新形态人机互动。\n拥有丰富的唤醒方式，可轻松实现内容的语音直达服务。\n小布助手可以支持的技能有上百种，包括比如：生活服务、出行服务、信息查询、系统操作和娱乐服务等\n语音助手是一个语音交互系统，它有四大核心瓶颈：唤不醒、听不清、听不懂和说不清。\n三、优秀体验背后的技术支撑 小布助手追求用户的极致体验，流畅度是其中最重要的维度之一。\n服务端三方资源执行耗时占比最大。服务端耗时中，三方资源执行耗时占比最大，80%+\n服务端语音识别耗时占比第二\n客户端渲染交互可更简洁。部分垂直技能客户端交互可更简洁，执行可更快\n总体解决方案 并行：预测、串改并\n剪枝：快慢分层、多级缓存\n提速：三方自建、云端 VAD、交互简化、执行优化\n预测总体思路 预测是架构复杂度较高的特性，展开说明小布助手的实践。\n在用户的语音交互过程中，ASR 流式中间结果不断上屏，直到尾点识别 VAD 结束，才会获取完整的用户音频输入。\n利用业务特性，预测可以做到“边听边想”，将识别过程和执行过程并行化，缩短串行等待的时间。\n分为有 2 种策略\nVAD 阶段并行执行，高准确低收益。\n识别阶段并行执行，低准确高收益。\n预测收益 部分命中率较高的技能达到 70+%，耗时降低 60+%\n开启的技能整体命中率 42.3%，耗时降低 43%\n四、语音助手锤炼的思路 第一层主要解决效率问题，希望能方便、快捷地帮助用户完成日常的简单任务。比如：系统的操作控制、定闹钟、设置日程等。注重工作效率的用户会比较喜欢这类的功能。 第二层中除了简单的操作之外，希望系统可以更智能，更好地了解用户的习惯、偏好，知道用户对哪些内容感兴趣。除了被动的交互之外，希望系统可以给用户主动的推送。 在第三层希望系统跟人一样，像之前提到的拟人化的交互，满足用户的情感需求。比如，在用户比较郁闷的时候可以陪用户聊聊天；甚至可以成为用户的知心朋友，在用户不开心的时候给他一些宽慰和鼓励。 小布的演进思路，大致可以理解成从技能建设到反智障，再从反智障到懂用户这样的路径。\n4.1、技能建设 目前小布有 300 多个技能，对应 2500 多个细分意图。从技能维度来看，技能量不算多。但真实场景中，技能对应的用户量会呈现非常明显的头部效应，这 300 多个技能已经覆盖了 95% 以上的用户需求。\n4.1.1 技能建设中遇到的难题 第一个是语义理解。这个问题目前还没有完美的解决方案，当面临大量用户口语化的表达时，总会出现各种各样的 Badcase，这一点相信长期做 NLP 技术研发的伙伴可能都有体会。 第二个是开放域对话范围比较广。这里主要是指聊天和知识问答。对于聊天，用户希望你能解闷，还希望你能安慰人，甚至希望你能陪它玩；知识问答包含的领域也很广，什么问题都可能被问到，比如以小布为例，每个月能收集到的不重样的问题得到千万级以上，非常的发散和长尾。 第三个是效果优化高度依赖人工。对话交互不像搜索、推荐场景，可以快速收集高质量的反馈数据形成闭环，高效完成优化。有一句调侃AI的玩笑，“有多少人工，就有多少智能”。虽然是玩笑调侃，但在对话的场景中也部分反应了目前的真实现状。 第四个对于海量用户，需要考虑模型的应用成本。目前模型的参数量像是打开了潘多拉魔盒，参数量扶摇直上，量级从亿级到十亿、百亿、万亿级别。但应用这些模型进行推理的成本是很高的。如果这些问题未能得到解决，应用复杂模型的成本还是非常高的。 4.1.2 解决难题过程中沉淀的解决方案 之前提到的系统开关、APP 控制都可以通过指令型技能完成。这类技能的特点是用户 Query 的本身包含了比较丰富的语义信息和信号，有比较强的信息输入将其结构化为意图和槽位。此外，意图和槽位之间也有比较强的关联关系。我们采取了融合规则和多任务深度学习的方案。一方面，通过规则降低一些计算量的开销。算法对于标准问法的识别准确率是非常高的。另一方面，引入多任务的深度学习模型也会兼顾意图和槽位的关联。这也是一个经典的解决方案，可以很好的解决误差累计的问题，能够取得更好的效果。\n结合小布实际的业务经验，使用数据驱动优化和比较完善的规则校验，再加深度学习的方式在指令型的技能上基本可以做到 95% 以上甚至更高的的召准率。\n第二类是知识依赖型的技能，比如刚刚提到的音乐、影视等技能。单从用户 Query很难判断该 Query 属于哪个技能。这类 Query 包含的实体信息有它自己的知识属性，在判定知识所属的类别之后，才能准确判定该 Query 所对应的技能。\n比如，用户说“你帮我放个原子弹”或“你帮我放个炸弹”。没有背景信息的话，很难判断对应的技能。“原子弹”和“炸弹”都是歌曲的名字。针对这些问题，我们采用了先做实体识别和链接，后做意图识别判断的方案，这样可以有效的融合知识，最终获得更精准的结果。\n接下来介绍两个开放域的场景。\n开放域知识问答场景占到小布交互量的 15% 左右，属于比较刚需的场景。知识问答可以看成搜索引擎的一种终极形态的期望。它可以直接给用户简短精准的答案，这也是用户使用它的原因之一。针对这种开放域的知识问答问题，我们将其拆分为几个不同的场景进行处理。\n第一种是相对比较封闭的问题，比如：星座、交通限行相关的问题。这类问题目前是通过定制技能来解决的，效果相对也会更可控一些。 第二类是事实型的比较客观的开放型问题，比如：问东京奥运会金牌得主是谁？这种我们是通过自建的知识图谱，以及对一些结构化问题的解析转化成图谱来实现。这种方式的优点是可以把答案做的特别精准。目前系统支持简单的单跳和复杂的多跳场景。 第三种最复杂，属于既开放又比较长尾的问题。目前通过检索式、结合知识库的方式来解决。在这种情况下，知识库的构建就非常重要。除了人工构建，我们采用一些半自动化挖掘的方案，比如基于语义理解的一些方案。从去年开始，我们也引入了一些基于生成式大模型的方案探索，希望更高效的构建知识库，且产生的知识库的内容也更优质。 另外一个开放域的场景是聊天。在手机设备上，智能聊天是占比最高的需求。一方面是因为用户喜欢调侃语音助手，尤其是一些新用户。另一方面，聊天贯穿在对话的整个过程中，在某种程度上是对话的润滑剂。有部分用户会有倾诉的需求，不方便跟周围的人说。他们希望把小布当做树洞，通过这种更安全的方式来沟通。\n**针对聊天场景，我们使用了检索式、生成式以及记忆的方式融合的方案。**检索式大家比较熟悉，需要注意的是随着近几年预训练模型的发展，在检索匹配的时候我们引入了比较多的基于预训练大模型的方案，希望可以把语义表征学习的更好一些，使得检索更精准。因为检索的范围是有限的，要把开放域做的比较好，生成式已经必不可少。这里我们采用了 UniLM 和 1vN 建模的模型，从而生成可控且相关的高质量的回复。这里比较大的风险在于生成式的安全性。针对这个问题，我们做了很多 Query 安全性、答案安全性、Query 和答案组合安全性的控制机制。\n为了让聊天变得更有趣、有用，我们特别研发了记忆的能力，希望在聊天的过程中记住一些用户主动提供、或用户提到的一些信息，从而影响未来聊天的内容。目前小布已经支持记忆很多信息，比如：位置、节日、纪念日等，这部分的范围也在逐步扩大。\n4.2、反智障 下来介绍一下对话助手建设不得不面对的问题，即：如何让AI助手表现得不那么智障。这里面的主要问题就是：对于任何一个很小的低级错误，在实际用户体验中都可能会被放大，尤其是小布这种用户体量非常大的 C端产品。要在行业中存活下来，让系统具有反智障的能力是非常重要的。\n4.2.1 第一个抓手进行技术升级 因为它可以带来大影响面的效果提升。前面提到小布诞生的比较晚，在 2018、2019 年这个时间阶段，当时深度学习在 NLP 领域的应用已经非常成熟，所以小布的技术体系也是以深度学习为主。因为小布的整个技术没有传统的历史包袱，技术升级也会相对容易一些。这几年预训练的发展给技术升级带来了红利，我们也建设了从一亿到十亿的大参数模型的落地，从而促进小布在语言理解、泛化能力的提升，避免比较低级的问题。\n模型包含多任务解码的设计，从而对下游的适配性更强。另外，在通用语料的基础上，我们叠加了特定领域对话的语料对模型进行持续的预训练。此外，我们考虑了知识增强这个方向，使得模型对知识有更好的理解。在知识增强这个方面我们也会考虑用户提到的实体相关的信息，将实体的信息关联到实体相关的百科内容中，让模型在知识理解做的更好。\n这里重点介绍一下面对大量用户产生的交互流量如何控制大模型落地成本。否则，技术升级只能作为试点技术，不能进行大规模的推广。针对这一问题，我们引入了统一表征的落地方案。在实际应用时，骨干网络只计算一次。在下游应用时，骨干网络的计算结果只需要微调少数的层次，就可以在效果没有太大损失的情况下取的差不多的收益。这其实就是构造大模型的一次推理，同时解决下游 N 个任务运用的问题。计算量大概可以节约75%左右，这样模型落地就不会有太大的问题。这也是我们的预训练和提升反智障能力在工程落地方面做的重点事项。\n4.2.1 第二个反智障的举措是自主缺陷发现与优化 在实际的工业应用中，AI 助手的交互环境是非常复杂的，这会给语音识别和语义理解带来很大的挑战。对这类问题应对的不好，就会让用户觉得助手很不智能。另一方面，尽管没有特别好的方式来获得直接的用户反馈，我们希望将 Case 收集更加自动化，全部依赖人工会导致效率低下。之前做过数据统计，尽管小布有内外部多个人工收集渠道，但半年时间只积累了几百个 Case，这对产品优化是远远不够的。迫切需要探索新的技术，比如半自动化、自动化的技术让缺陷的发现和修复变得高效。\n这里举措两个收益比较大的实践案例：\n第一个是结合语音语义联合的无效交互的拒识。用户在使用小布助手的时候，背景通常不是特别安静的，这里面会有很多环境噪音带来的无效输入。如果不对这类噪音进行识别和处理，就会导致助手的响应不可预期。因为噪声对应的意图是不真实的，不管做出什么样的响应都是不合适的。此外，在很多情况下，通过噪声识别出来的文字，人类都很难理解其对应的意图，机器去理解和响应就更困难了。因此，考虑从源头对噪音数据进行识别，并拒绝噪音数据。针对这一问题，我们引入语音 ASR 识别的文本信息作为输入进行联合建模，更精准的过滤无效输入。我们尝试过单独文本的方案，受限于数据的损失，单独文本与多模态联合建模效果有较大的差距。 第二个是自动化语义缺陷挖掘与修复。希望综合利用语义、非语义的信号，自动识别出助手回答错的问题，通过半自动化、自动化的方式让缺陷修复更加高效。我们设计了全套缺陷挖掘和优化的流程，借助半监督、主动学习的优化手段，挖掘召回存在误判的 Case，推进其进行校验和优化，这可以让系统进入良性循环。目前覆盖 85% 以上的技能，覆盖意图识别问题量的 48%，这种方式比人工优化效率高了两个数量级。 4.3、懂用户 4.3.1 懂用户的属性 第三部分是怎么更好的懂用户，这是最难的，也是未来最有想象空间的。懂用户包括，懂用户的属性、用户的行为以及用户的情感。希望通过懂用户给用户带来更贴心的产品体验，认为这个助手是为他打造的。同时，通过提升用户对助手的信任感，增加用户粘性。有了用户的信任感和粘性后，未来助手才会有更大的发展潜力。\n小布在懂用户方面还在持续的发展中，目前覆盖基本属性，针对这些属性小布也可以做到记忆、提醒和影响后续部分对话交互的过程。整体还需要进一步的深入挖掘，这也是我们未来发展的重点方向之一。\n4.3.2 懂用户的行为 此外，在懂用户行为方面，我们也已经做了一些探索和实践。比如，我们发现有些用户在需求未满足时会通过换不同的说法、澄清的方式希望助手更理解自己；有些用户会在小布犯错的时候骂他，给小布负向反馈；也有用户会在小布很好完成任务时给小布正向的激励反馈，对小布说谢谢或夸赞。我们了解到不同用户的行为后，也针对不同的用户行为做反馈，提升小布的理解能力。\n**针对反复澄清的用户，**我们实现了自动化离线学习外加在线澄清的方案用来实现和满足用户需求。通过澄清的方式，猜测用户意图，最终帮助用户达成诉求。这不仅对当前用户是有效的，对相似的用户场景也是通用的。\n针对用户的批评和表扬，我们也制定了小布的口碑满意度体系，降低用户对小布的不满，提升用户满意度。\n4.3.3 懂用户的情感 懂用户另外一个重要的维度是和用户共情。针对这一方向，小布做了一些情感引擎和情感理解的工作，识别和跟踪用户的情感变化，为用户提供情感关怀方面的交互。目前还处于比较初级的阶段。总的来说，在技术层面上理解用户情感是相对可控的。但如何在理解的基础上交互让用户感受更好，这一课题还需要更多的探索。\n此外，在理解用户的潜在需求方面，我们也希望有更多的工作落地。比如，用户反馈被打了或者被批评了。我们希望可以通过交互的方式深刻的挖到背后的原因，结合原因再使用交互的方式去满足用户的潜在需求，从而对用户有一些疏导。\n五、长远规划 以上就是小布演进过程中，我们做的思考和实践。AI 助手目前在非常高速的发展中，如果大家关注到一些顶级会议论文研究方向的分布，会发现对话助手相关的研究是非常活跃的。这里对未来 AI 助手的未来方向做一个简单的展望。\n首先，AI 助手覆盖的设备载体越来越丰富。从用户角度来看，拥有多设备的用户也越来越普遍。在做好单设备体验的同时，我们相信多端融合也会是 AI 助手的趋势之一。通过 AI 助手实现更好的跨端协同智能，在协同体验 AI 助手会有更强的竞争力。\n在产品形态层面，目前产品已经从传统的语音、语义的方式转向多模态数字人的方向演进，目前多模态也是必然的发展趋势。小布在多模态虚拟人方向也有一些落地，如：虚拟人直播带货、播报天气、播报新闻。实际上也吸引了很多用户的关注，虚拟人的交互方式天然让用户的感知更明显。\n除了外在表现，我们认为内在的灵魂同样重要。完美的 AI 助手需要有情感，有记忆，有观点。助手需要逐渐成长，值得信赖。所以我们认为人格化也是未来的趋势。\n除了刚提到的技能建设的基础体验，以及反智障、懂用户这种持续的提升之外，我们希望小布助手在理论上有持续的发展。比如，借助于情感引擎、拟人对话能力等各方面的技术，给用户提供有自我的 AI 助手，成为用户贴心的伙伴。\n在 AI 助手这个方向，经历了从早期的客服机器人到全能型智能助手，再到多模态虚拟机器人的变化。AI 助手在车载、电视、智能家居等各个场景上被越来越广泛的应用和接纳。随着设备互联互通逐渐成熟，智能助手也慢慢迎来了自己最好的发展机会。在这些复合场景下，AI 助手的价值能够带来更好的体验。相信未来在万物互融的场景下，AI 助手会发展的越来越好。\n六、对比当前影子的语音助手，进行深度思考 6.1、我们的语音助手离小布的距离还有多远，弱在哪里？ 我们的小万和发展之初的小布面临同样的问题，就是我们现阶段尽快构建一个可面向用户的产品，再通过用户的实际使用促进产品的快速迭代。\n1、从小布助手最初搭载的设备来看，是跟这家公司的基因有关的，本身就是做手机硬件出身的，设备在市场上已经有了很好的发展，有了大量的用户积累，对于获取大量数据简单了许多，对后续数据分析和迭代、算法模型的优化提供了很多的优质条件，能够基于数据驱动提升智能体验，而我们的小万呢，最近才刚开始商业化，相对来说市场还没有完全打开，用户反馈稍微欠缺。\n2、因为需要快速构建一款语音产品，更多的是以快速组装为主，自然就会引入很多的外部AI技术，去打通语音功能的标准流程，中间就会遇到一些技术问题，各个环节相对割裂，相互之间的适配效果也不是很理想，从端到端来看，效果的折损会比较的明显，对应的语音体验也相对需要更多的时间去打磨和提升。\n6.2、小布有哪些地方我们可以学习和扩展的？ 1、正确产品定位和期望。\n2、始终以用户需求为起点,扎根技术研发。从用户角度出发,为用户解决问题\n3、主动智能技术的预研、有对未来的畅想,更有对用户的关怀。\n4、面对技能的增多和有更多的长尾技能的时候，引入平台化解决方案，构建自己的技能平台和开放平台，让非技术人员、外部合作伙伴参与技能的建设，降低研发门槛和成本。\n5、进行用户体验评价，分析线上的有效音频实际录入的技能领域和场景，构建不同的场景测试集以及领域测试集，对于未满足的query进行分析，优化提升。\n6、智能助手与用户交互，无论用户满意还是不满意，一般都是用完即结束，不会直接给反馈，不像搜索推荐，可以通过点击、时长等行为数据直接获得反馈，再促进算法模型的优化，所以需要构建一个自学习系统，通过它获得信号，促进算法高速、更有效的迭代，让智能助手效果越来越好。\n7、在研发资源比较有限的情况下，我们首先还是会专注于当前比较高频、高优先级的用户需求优化。同时我们会根据服务的用户群体去做分层优化，判断哪些需求对于用户来说是优先级更高的，进而逐步满足更多用户的个性化需求，逐步实现所谓的千人千面，终极目标是希望为每个用户打造独一无二的智能助手。\n6.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？ 1、缩短用户到达服务之间的路径，让用户尽可能的\"偷懒\", 给用户带来智能化的体验，这是体验语音助手的价值点之一。\n2、我们不局限于当前的硬件产品，只是作为切入点，未来朝着万物互联的生态方向发展，进行全场景探索。\nFilter table dataCreate a pivot tableCreate a chart from data series\nConfigure buttons visibility\n",
  "wordCount" : "263",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "王宇"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      oppo强大语音助手小布背后的故事
    </h1>
    <div class="post-description">
      二、产品理念和PRD
    </div>
    <div class="post-meta">2 分钟&nbsp;·&nbsp;王宇&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/wiki/oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#1%e5%b8%82%e5%9c%ba%e5%8f%91%e5%b1%95%e6%83%85%e5%86%b5%e5%92%8c%e8%83%8c%e6%99%af%e4%bb%8b%e7%bb%8d" aria-label="1、市场发展情况和背景介绍">1、市场发展情况和背景介绍</a></li>
                <li>
                    <a href="#2%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%8a%9f%e8%83%bd" aria-label="2、语音助手功能">2、语音助手功能</a></li></ul>
                    
                <li>
                    <a href="#%e4%ba%8c%e4%ba%a7%e5%93%81%e6%a0%b8%e5%bf%83%e4%bc%98%e5%8a%bf" aria-label="二、产品核心优势">二、产品核心优势</a></li>
                <li>
                    <a href="#%e4%b8%89%e4%bc%98%e7%a7%80%e4%bd%93%e9%aa%8c%e8%83%8c%e5%90%8e%e7%9a%84%e6%8a%80%e6%9c%af%e6%94%af%e6%92%91" aria-label="三、优秀体验背后的技术支撑">三、优秀体验背后的技术支撑</a><ul>
                        
                <li>
                    <a href="#%e6%80%bb%e4%bd%93%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" aria-label="总体解决方案">总体解决方案</a></li>
                <li>
                    <a href="#%e9%a2%84%e6%b5%8b%e6%80%bb%e4%bd%93%e6%80%9d%e8%b7%af" aria-label="预测总体思路">预测总体思路</a></li>
                <li>
                    <a href="#%e9%a2%84%e6%b5%8b%e6%94%b6%e7%9b%8a" aria-label="预测收益">预测收益</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e9%94%a4%e7%82%bc%e7%9a%84%e6%80%9d%e8%b7%af" aria-label="四、语音助手锤炼的思路">四、语音助手锤炼的思路</a><ul>
                        
                <li>
                    <a href="#41%e6%8a%80%e8%83%bd%e5%bb%ba%e8%ae%be" aria-label="4.1、技能建设">4.1、技能建设</a><ul>
                        
                <li>
                    <a href="#411-%e6%8a%80%e8%83%bd%e5%bb%ba%e8%ae%be%e4%b8%ad%e9%81%87%e5%88%b0%e7%9a%84%e9%9a%be%e9%a2%98" aria-label="4.1.1 技能建设中遇到的难题">4.1.1 技能建设中遇到的难题</a></li>
                <li>
                    <a href="#412-%e8%a7%a3%e5%86%b3%e9%9a%be%e9%a2%98%e8%bf%87%e7%a8%8b%e4%b8%ad%e6%b2%89%e6%b7%80%e7%9a%84%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" aria-label="4.1.2  解决难题过程中沉淀的解决方案">4.1.2  解决难题过程中沉淀的解决方案</a></li></ul>
                </li>
                <li>
                    <a href="#42%e5%8f%8d%e6%99%ba%e9%9a%9c" aria-label="4.2、反智障">4.2、反智障</a><ul>
                        
                <li>
                    <a href="#421-%e7%ac%ac%e4%b8%80%e4%b8%aa%e6%8a%93%e6%89%8b%e8%bf%9b%e8%a1%8c%e6%8a%80%e6%9c%af%e5%8d%87%e7%ba%a7" aria-label="4.2.1 第一个抓手进行技术升级">4.2.1 第一个抓手进行技术升级</a></li>
                <li>
                    <a href="#421-%e7%ac%ac%e4%ba%8c%e4%b8%aa%e5%8f%8d%e6%99%ba%e9%9a%9c%e7%9a%84%e4%b8%be%e6%8e%aa%e6%98%af%e8%87%aa%e4%b8%bb%e7%bc%ba%e9%99%b7%e5%8f%91%e7%8e%b0%e4%b8%8e%e4%bc%98%e5%8c%96" aria-label="4.2.1 第二个反智障的举措是自主缺陷发现与优化">4.2.1 第二个反智障的举措是自主缺陷发现与优化</a></li></ul>
                </li>
                <li>
                    <a href="#43%e6%87%82%e7%94%a8%e6%88%b7" aria-label="4.3、懂用户">4.3、懂用户</a><ul>
                        
                <li>
                    <a href="#431-%e6%87%82%e7%94%a8%e6%88%b7%e7%9a%84%e5%b1%9e%e6%80%a7" aria-label="4.3.1 懂用户的属性">4.3.1 懂用户的属性</a></li>
                <li>
                    <a href="#432-%e6%87%82%e7%94%a8%e6%88%b7%e7%9a%84%e8%a1%8c%e4%b8%ba" aria-label="4.3.2 懂用户的行为">4.3.2 懂用户的行为</a></li>
                <li>
                    <a href="#433-%e6%87%82%e7%94%a8%e6%88%b7%e7%9a%84%e6%83%85%e6%84%9f" aria-label="4.3.3 懂用户的情感">4.3.3 懂用户的情感</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e9%95%bf%e8%bf%9c%e8%a7%84%e5%88%92" aria-label="五、长远规划">五、长远规划</a></li>
                <li>
                    <a href="#%e5%85%ad%e5%af%b9%e6%af%94%e5%bd%93%e5%89%8d%e5%bd%b1%e5%ad%90%e7%9a%84%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e8%bf%9b%e8%a1%8c%e6%b7%b1%e5%ba%a6%e6%80%9d%e8%80%83" aria-label="六、对比当前影子的语音助手，进行深度思考">六、对比当前影子的语音助手，进行深度思考</a><ul>
                        
                <li>
                    <a href="#61%e6%88%91%e4%bb%ac%e7%9a%84%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e7%a6%bb%e5%b0%8f%e5%b8%83%e7%9a%84%e8%b7%9d%e7%a6%bb%e8%bf%98%e6%9c%89%e5%a4%9a%e8%bf%9c%e5%bc%b1%e5%9c%a8%e5%93%aa%e9%87%8c" aria-label="6.1、我们的语音助手离小布的距离还有多远，弱在哪里？">6.1、我们的语音助手离小布的距离还有多远，弱在哪里？</a></li>
                <li>
                    <a href="#62%e5%b0%8f%e5%b8%83%e6%9c%89%e5%93%aa%e4%ba%9b%e5%9c%b0%e6%96%b9%e6%88%91%e4%bb%ac%e5%8f%af%e4%bb%a5%e5%ad%a6%e4%b9%a0%e5%92%8c%e6%89%a9%e5%b1%95%e7%9a%84" aria-label="6.2、小布有哪些地方我们可以学习和扩展的？">6.2、小布有哪些地方我们可以学习和扩展的？</a></li>
                <li>
                    <a href="#63%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b8%a6%e6%9d%a5%e7%9a%84%e4%bb%b7%e5%80%bc%e5%a2%9e%e9%95%bf%e7%82%b9%e5%9c%a8%e5%93%aa%e4%bd%93%e7%8e%b0%e6%80%8e%e6%a0%b7%e8%ae%a9%e7%94%a8%e6%88%b7%e4%b8%baai%e4%b9%b0%e5%8d%95" aria-label="6.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？">6.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h3>
<ul>
<li>1 <a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-一、产品当前现状">一、产品当前现状</a>
<ul>
<li>1.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-1、市场发展情况和背景介绍">1、市场发展情况和背景介绍</a></li>
<li>1.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-2、语音助手功能">2、语音助手功能</a></li>
</ul>
</li>
<li>2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-二、产品核心优势">二、产品核心优势</a></li>
<li>3<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-三、优秀体验背后的技术支撑">三、优秀体验背后的技术支撑</a>
<ul>
<li>3.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-总体解决方案">总体解决方案</a></li>
<li>3.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-预测总体思路">预测总体思路</a></li>
<li>3.3<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-预测收益">预测收益</a></li>
</ul>
</li>
<li>4<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-四、语音助手锤炼的思路">四、语音助手锤炼的思路</a>
<ul>
<li>4.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.1、技能建设">4.1、技能建设</a>
<ul>
<li>4.1.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.1.1技能建设中遇到的难题">4.1.1 技能建设中遇到的难题</a></li>
<li>4.1.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.1.2解决难题过程中沉淀的解决方案">4.1.2  解决难题过程中沉淀的解决方案</a></li>
</ul>
</li>
<li>4.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.2、反智障">4.2、反智障</a>
<ul>
<li>4.2.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.2.1第一个抓手进行技术升级">4.2.1 第一个抓手进行技术升级</a></li>
<li>4.2.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.2.1第二个反智障的举措是自主缺陷发现与优化">4.2.1 第二个反智障的举措是自主缺陷发现与优化</a></li>
</ul>
</li>
<li>4.3<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.3、懂用户">4.3、懂用户</a>
<ul>
<li>4.3.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.3.1懂用户的属性">4.3.1 懂用户的属性</a></li>
<li>4.3.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.3.2懂用户的行为">4.3.2 懂用户的行为</a></li>
<li>4.3.3<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-4.3.3懂用户的情感">4.3.3 懂用户的情感</a></li>
</ul>
</li>
</ul>
</li>
<li>5<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-五、长远规划">五、长远规划</a></li>
<li>6<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-六、对比当前影子的语音助手，进行深度思考">六、对比当前影子的语音助手，进行深度思考</a>
<ul>
<li>6.1<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-6.1、我们的语音助手离小布的距离还有多远，弱在哪里？">6.1、我们的语音助手离小布的距离还有多远，弱在哪里？</a></li>
<li>6.2<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-6.2、小布有哪些地方我们可以学习和扩展的？">6.2、小布有哪些地方我们可以学习和扩展的？</a></li>
<li>6.3<a href="/posts/wiki/oppo%E5%BC%BA%E5%A4%A7%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B%E5%B0%8F%E5%B8%83%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B/#oppo强大语音助手小布背后的故事-6.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？">6.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？</a></li>
</ul>
</li>
</ul>
<p>一、产品当前现状</p>
<h4 id="1市场发展情况和背景介绍">1、市场发展情况和背景介绍<a hidden class="anchor" aria-hidden="true" href="#1市场发展情况和背景介绍">#</a></h4>
<p>      <img loading="lazy" src="https://pic1.zhimg.com/80/v2-06b195cc9a36907e3a4d4db0725a5bb8_720w.webp" alt=""  />
</p>
<p>       纵观整个智能助手市场，OPPO 小布助手有点“不一样”：<strong>它出现比较晚，但发展迅猛，成绩突出</strong>。</p>
<p>       前不久，oppo旗下的人工智能助手“小布助手”月度活跃用户数突破一亿，成为国内首个活跃用户数破亿的手机语音助手，已经覆盖公司的各类终端设备，并在不断的增加新入口，覆盖众多任务型、问答型、闲聊型的垂域。</p>
<p>       小布助手是搭载在 OPPO、Realme 和 OnePlus 这三大 OPPO 品牌上的智能助手产品。</p>
<p>       我们推出小布助手的初衷是，首先希望为 OPPO 万物互融新生态建设服务，成为关键的战略控制点。我们希望依托 AI 技术，基于数据智能驱动人机交互的用户体验不断升级。</p>
<p>       小布助手的定位不只限于语音助手，目前已经包含了语音、指令、建议、识屏和扫一扫 5 大能力，是人机交互最直接的信息媒介。我们希望通过小布助手为用户提供跨终端、全场景、智慧有度的服务体验。</p>
<p>       从 2018 年底推出小布助手前身 Breeno 语音到现在，短短三年时间我们累计迭代了 40 多个版本。</p>
<h4 id="2语音助手功能">2、语音助手功能<a hidden class="anchor" aria-hidden="true" href="#2语音助手功能">#</a></h4>
<p>          小布助手功能可分为五类：</p>
<ul>
<li>
<p>系统应用类：确定的命令需求，如系统设置、时间技能、应用技能等</p>
</li>
<li>
<p>信息查询类：客观知识的查询/搜索需求，如“今天天气怎么样”等</p>
</li>
<li>
<p>泛娱乐类：满足用户娱乐需求，包括听歌、看电影等</p>
</li>
<li>
<p>生活服务：满足用户日常生活需求，包括导航、打车、订餐等</p>
</li>
<li>
<p>聊天类：主观类的闲聊需求，包括人设问答、闲聊问答、话题多轮等</p>
</li>
</ul>
<p>         唤醒方式：_语音_唤醒、长按电源键0.5s唤醒 、APP悬浮球、耳机唤醒。</p>
<h3 id="二产品核心优势">二、产品核心优势<a hidden class="anchor" aria-hidden="true" href="#二产品核心优势">#</a></h3>
<p>无需安装，唤醒即用”的覆盖能力，实现“解放双手，高效操作”的新形态人机互动。</p>
<p>拥有丰富的唤醒方式，可轻松实现内容的语音直达服务。</p>
<p>小布助手可以支持的技能有上百种，包括比如：生活服务、出行服务、信息查询、系统操作和娱乐服务等</p>
<p>语音助手是一个语音交互系统，它有四大核心瓶颈：唤不醒、听不清、听不懂和说不清。</p>
<p><img loading="lazy" src="https://static001.geekbang.org/infoq/4e/4ecee25b58edabd706b22fab1b0345a0.png" alt=""  />
</p>
<p><img loading="lazy" src="https://static001.geekbang.org/infoq/70/70ef797adeee6c928bc012b854ec10ee.png" alt=""  />
</p>
<h3 id="三优秀体验背后的技术支撑">三、优秀体验背后的技术支撑<a hidden class="anchor" aria-hidden="true" href="#三优秀体验背后的技术支撑">#</a></h3>
<p>小布助手追求用户的极致体验，流畅度是其中最重要的维度之一。</p>
<ol>
<li>
<p>服务端三方资源执行耗时占比最大。服务端耗时中，三方资源执行耗时占比最大，80%+</p>
</li>
<li>
<p>服务端语音识别耗时占比第二</p>
</li>
<li>
<p>客户端渲染交互可更简洁。部分垂直技能客户端交互可更简洁，执行可更快</p>
</li>
</ol>
<p><img loading="lazy" src="https://static001.geekbang.org/infoq/41/414652d29716b7274cd6b6dcaf11d082.png" alt=""  />
</p>
<h4 id="总体解决方案">总体解决方案<a hidden class="anchor" aria-hidden="true" href="#总体解决方案">#</a></h4>
<ol>
<li>
<p>并行：预测、串改并</p>
</li>
<li>
<p>剪枝：快慢分层、多级缓存</p>
</li>
<li>
<p>提速：三方自建、云端 VAD、交互简化、执行优化</p>
</li>
</ol>
<p><img loading="lazy" src="https://static001.geekbang.org/infoq/af/af847f5a76df638a22cf1b82482d8f17.png" alt=""  />
</p>
<h4 id="预测总体思路">预测总体思路<a hidden class="anchor" aria-hidden="true" href="#预测总体思路">#</a></h4>
<p>预测是架构复杂度较高的特性，展开说明小布助手的实践。</p>
<p>在用户的语音交互过程中，ASR 流式中间结果不断上屏，直到尾点识别 VAD 结束，才会获取完整的用户音频输入。</p>
<p>利用业务特性，预测可以做到“边听边想”，将识别过程和执行过程并行化，缩短串行等待的时间。</p>
<p><img loading="lazy" src="https://static001.geekbang.org/infoq/26/26e4a4b2bd730136c11add236241fe42.png" alt=""  />
</p>
<p>分为有 2 种策略</p>
<ol>
<li>
<p>VAD 阶段并行执行，高准确低收益。</p>
</li>
<li>
<p>识别阶段并行执行，低准确高收益。</p>
</li>
</ol>
<h4 id="预测收益">预测收益<a hidden class="anchor" aria-hidden="true" href="#预测收益">#</a></h4>
<p>部分命中率较高的技能达到 70+%，耗时降低 60+%</p>
<p>开启的技能整体命中率 42.3%，耗时降低 43%</p>
<h3 id="四语音助手锤炼的思路">四、语音助手锤炼的思路<a hidden class="anchor" aria-hidden="true" href="#四语音助手锤炼的思路">#</a></h3>
<p>         <img loading="lazy" src="https://pic3.zhimg.com/80/v2-f0323c02b1e8532a8b99f5bae89c8656_720w.webp" alt=""  />
</p>
<ul>
<li>第一层主要解决效率问题，希望能方便、快捷地帮助用户完成日常的简单任务。比如：系统的操作控制、定闹钟、设置日程等。注重工作效率的用户会比较喜欢这类的功能。</li>
<li>第二层中除了简单的操作之外，希望系统可以更智能，更好地了解用户的习惯、偏好，知道用户对哪些内容感兴趣。除了被动的交互之外，希望系统可以给用户主动的推送。</li>
<li>在第三层希望系统跟人一样，像之前提到的拟人化的交互，满足用户的情感需求。比如，在用户比较郁闷的时候可以陪用户聊聊天；甚至可以成为用户的知心朋友，在用户不开心的时候给他一些宽慰和鼓励。</li>
</ul>
<p>        <strong>小布的演进思路，大致可以理解成从技能建设到反智障，再从反智障到懂用户这样的路径。</strong></p>
<h4 id="41技能建设"><strong>4.1、技能建设</strong><a hidden class="anchor" aria-hidden="true" href="#41技能建设">#</a></h4>
<p>      目前小布有 300 多个技能，对应 2500 多个细分意图。从技能维度来看，技能量不算多。但真实场景中，技能对应的用户量会呈现非常明显的头部效应，这 300 多个技能已经覆盖了 95% 以上的用户需求。</p>
<p>      <img loading="lazy" src="https://pic3.zhimg.com/80/v2-8732cd45481089d8ae57b486654efd7e_720w.webp" alt=""  />
</p>
<h5 id="411-技能建设中遇到的难题">4.1.1 技能建设中遇到的难题<a hidden class="anchor" aria-hidden="true" href="#411-技能建设中遇到的难题">#</a></h5>
<ul>
<li><strong>第一个是语义理解</strong>。这个问题目前还没有完美的解决方案，当面临大量用户口语化的表达时，总会出现各种各样的 Badcase，这一点相信长期做 NLP 技术研发的伙伴可能都有体会。</li>
<li><strong>第二个是开放域对话范围比较广</strong>。这里主要是指聊天和知识问答。对于聊天，用户希望你能解闷，还希望你能安慰人，甚至希望你能陪它玩；知识问答包含的领域也很广，什么问题都可能被问到，比如以小布为例，每个月能收集到的不重样的问题得到千万级以上，非常的发散和长尾。</li>
<li><strong>第三个是效果优化高度依赖人工</strong>。对话交互不像搜索、推荐场景，可以快速收集高质量的反馈数据形成闭环，高效完成优化。有一句调侃AI的玩笑，“有多少人工，就有多少智能”。虽然是玩笑调侃，但在对话的场景中也部分反应了目前的真实现状。</li>
<li><strong>第四个对于海量用户，需要考虑模型的应用成本</strong>。目前模型的参数量像是打开了潘多拉魔盒，参数量扶摇直上，量级从亿级到十亿、百亿、万亿级别。但应用这些模型进行推理的成本是很高的。如果这些问题未能得到解决，应用复杂模型的成本还是非常高的。</li>
</ul>
<h5 id="412-解决难题过程中沉淀的解决方案">4.1.2  解决难题过程中沉淀的解决方案<a hidden class="anchor" aria-hidden="true" href="#412-解决难题过程中沉淀的解决方案">#</a></h5>
<p>        <img loading="lazy" src="https://pic3.zhimg.com/80/v2-476b184abe7ee30a177c354f35060196_720w.webp" alt=""  />
</p>
<p>之前提到的系统开关、APP 控制都可以通过指令型技能完成。这类技能的特点是用户 Query 的本身包含了比较丰富的语义信息和信号，有比较强的信息输入将其结构化为意图和槽位。此外，意图和槽位之间也有比较强的关联关系。我们采取了融合规则和多任务深度学习的方案。一方面，通过规则降低一些计算量的开销。算法对于标准问法的识别准确率是非常高的。另一方面，引入多任务的深度学习模型也会兼顾意图和槽位的关联。这也是一个经典的解决方案，可以很好的解决误差累计的问题，能够取得更好的效果。</p>
<p>结合小布实际的业务经验，使用数据驱动优化和比较完善的规则校验，再加深度学习的方式在指令型的技能上基本可以做到 95% 以上甚至更高的的召准率。</p>
<p><img loading="lazy" src="https://pic4.zhimg.com/80/v2-de6e9b1e0dea3870565be62bd733312f_720w.webp" alt=""  />
</p>
<p><strong>第二类是知识依赖型的技能</strong>，比如刚刚提到的音乐、影视等技能。单从用户 Query很难判断该 Query 属于哪个技能。这类 Query 包含的实体信息有它自己的知识属性，在判定知识所属的类别之后，才能准确判定该 Query 所对应的技能。</p>
<p>比如，用户说“你帮我放个原子弹”或“你帮我放个炸弹”。没有背景信息的话，很难判断对应的技能。“原子弹”和“炸弹”都是歌曲的名字。针对这些问题，我们采用了先做实体识别和链接，后做意图识别判断的方案，这样可以有效的融合知识，最终获得更精准的结果。</p>
<p><img loading="lazy" src="https://pic4.zhimg.com/v2-d2dc52b7665d9e94d4f2857601c0fff3_r.jpg" alt=""  />
</p>
<p><strong>接下来介绍两个开放域的场景。</strong></p>
<p>开放域知识问答场景占到小布交互量的 15% 左右，属于比较刚需的场景。知识问答可以看成搜索引擎的一种终极形态的期望。它可以直接给用户简短精准的答案，这也是用户使用它的原因之一。针对这种开放域的知识问答问题，我们将其拆分为几个不同的场景进行处理。</p>
<ul>
<li><strong>第一种是相对比较封闭的问题</strong>，比如：星座、交通限行相关的问题。这类问题目前是通过定制技能来解决的，效果相对也会更可控一些。</li>
<li><strong>第二类是事实型的比较客观的开放型问题</strong>，比如：问东京奥运会金牌得主是谁？这种我们是通过自建的知识图谱，以及对一些结构化问题的解析转化成图谱来实现。这种方式的优点是可以把答案做的特别精准。目前系统支持简单的单跳和复杂的多跳场景。</li>
<li><strong>第三种最复杂，属于既开放又比较长尾的问题</strong>。目前通过检索式、结合知识库的方式来解决。在这种情况下，知识库的构建就非常重要。除了人工构建，我们采用一些半自动化挖掘的方案，比如基于语义理解的一些方案。从去年开始，我们也引入了一些基于生成式大模型的方案探索，希望更高效的构建知识库，且产生的知识库的内容也更优质。</li>
</ul>
<p><img loading="lazy" src="https://pic3.zhimg.com/80/v2-098b3bf79644af43faac26d39b238b1a_720w.webp" alt=""  />
</p>
<p><strong>另外一个开放域的场景是聊天</strong>。在手机设备上，智能聊天是占比最高的需求。一方面是因为用户喜欢调侃语音助手，尤其是一些新用户。另一方面，聊天贯穿在对话的整个过程中，在某种程度上是对话的润滑剂。有部分用户会有倾诉的需求，不方便跟周围的人说。他们希望把小布当做树洞，通过这种更安全的方式来沟通。</p>
<p>**针对聊天场景，我们使用了检索式、生成式以及记忆的方式融合的方案。**检索式大家比较熟悉，需要注意的是随着近几年预训练模型的发展，在检索匹配的时候我们引入了比较多的基于预训练大模型的方案，希望可以把语义表征学习的更好一些，使得检索更精准。因为检索的范围是有限的，要把开放域做的比较好，生成式已经必不可少。这里我们采用了 UniLM 和 1vN 建模的模型，从而生成可控且相关的高质量的回复。这里比较大的风险在于生成式的安全性。针对这个问题，我们做了很多 Query 安全性、答案安全性、Query 和答案组合安全性的控制机制。</p>
<p>为了让聊天变得更有趣、有用，我们特别研发了记忆的能力，希望在聊天的过程中记住一些用户主动提供、或用户提到的一些信息，从而影响未来聊天的内容。目前小布已经支持记忆很多信息，比如：位置、节日、纪念日等，这部分的范围也在逐步扩大。</p>
<h4 id="42反智障"><strong>4.2、反智障</strong><a hidden class="anchor" aria-hidden="true" href="#42反智障">#</a></h4>
<p><strong><img loading="lazy" src="https://pic3.zhimg.com/80/v2-61c66c408d0c9a4379ecb92097b83d36_720w.webp" alt=""  />
</strong></p>
<p>下来介绍一下对话助手建设不得不面对的问题，即：如何让AI助手表现得不那么智障。这里面的主要问题就是：对于任何一个很小的低级错误，在实际用户体验中都可能会被放大，尤其是小布这种用户体量非常大的 C端产品。要在行业中存活下来，让系统具有反智障的能力是非常重要的。</p>
<h5 id="421-第一个抓手进行技术升级">4.2.1 第一个抓手进行技术升级<a hidden class="anchor" aria-hidden="true" href="#421-第一个抓手进行技术升级">#</a></h5>
<p>     因为它可以带来大影响面的效果提升。前面提到小布诞生的比较晚，在 2018、2019 年这个时间阶段，当时深度学习在 NLP 领域的应用已经非常成熟，所以小布的技术体系也是以深度学习为主。因为小布的整个技术没有传统的历史包袱，技术升级也会相对容易一些。这几年预训练的发展给技术升级带来了红利，我们也建设了从一亿到十亿的大参数模型的落地，从而促进小布在语言理解、泛化能力的提升，避免比较低级的问题。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-77f8c5066dcb9441cae3da8be1009610_720w.webp" alt=""  />
</p>
<p><strong>模型包含多任务解码的设计，从而对下游的适配性更强。另外，在通用语料的基础上，我们叠加了特定领域对话的语料对模型进行持续的预训练。此外，我们考虑了知识增强这个方向，使得模型对知识有更好的理解。在知识增强这个方面我们也会考虑用户提到的实体相关的信息，将实体的信息关联到实体相关的百科内容中，让模型在知识理解做的更好。</strong></p>
<p>这里重点介绍一下面对大量用户产生的交互流量如何控制大模型落地成本。否则，技术升级只能作为试点技术，不能进行大规模的推广。针对这一问题，我们引入了统一表征的落地方案。在实际应用时，骨干网络只计算一次。在下游应用时，骨干网络的计算结果只需要微调少数的层次，就可以在效果没有太大损失的情况下取的差不多的收益。这其实就是构造大模型的一次推理，同时解决下游 N 个任务运用的问题。计算量大概可以节约75%左右，这样模型落地就不会有太大的问题。这也是我们的预训练和提升反智障能力在工程落地方面做的重点事项。</p>
<h5 id="421-第二个反智障的举措是自主缺陷发现与优化">4.2.1 第二个<strong>反智障的举措是自主缺陷发现与优化</strong><a hidden class="anchor" aria-hidden="true" href="#421-第二个反智障的举措是自主缺陷发现与优化">#</a></h5>
<p><strong><img loading="lazy" src="https://pic1.zhimg.com/80/v2-408f7ec8234ba04d3903f1121bcf949c_720w.webp" alt=""  />
</strong></p>
<p>      在实际的工业应用中，AI 助手的交互环境是非常复杂的，这会给语音识别和语义理解带来很大的挑战。对这类问题应对的不好，就会让用户觉得助手很不智能。另一方面，尽管没有特别好的方式来获得直接的用户反馈，我们希望将 Case 收集更加自动化，全部依赖人工会导致效率低下。之前做过数据统计，尽管小布有内外部多个人工收集渠道，但半年时间只积累了几百个 Case，这对产品优化是远远不够的。迫切需要探索新的技术，比如半自动化、自动化的技术让缺陷的发现和修复变得高效。</p>
<p><strong><img loading="lazy" src="https://pic4.zhimg.com/80/v2-28c275c738750017fc50c39e62a8068f_720w.webp" alt=""  />
</strong></p>
<p>这里举措两个收益比较大的实践案例：</p>
<ul>
<li>第一个是结合语音语义联合的无效交互的拒识。用户在使用小布助手的时候，背景通常不是特别安静的，这里面会有很多环境噪音带来的无效输入。如果不对这类噪音进行识别和处理，就会导致助手的响应不可预期。因为噪声对应的意图是不真实的，不管做出什么样的响应都是不合适的。此外，在很多情况下，通过噪声识别出来的文字，人类都很难理解其对应的意图，机器去理解和响应就更困难了。因此，考虑从源头对噪音数据进行识别，并拒绝噪音数据。针对这一问题，我们引入语音 ASR 识别的文本信息作为输入进行联合建模，更精准的过滤无效输入。我们尝试过单独文本的方案，受限于数据的损失，单独文本与多模态联合建模效果有较大的差距。</li>
<li>第二个是自动化语义缺陷挖掘与修复。希望综合利用语义、非语义的信号，自动识别出助手回答错的问题，通过半自动化、自动化的方式让缺陷修复更加高效。我们设计了全套缺陷挖掘和优化的流程，借助半监督、主动学习的优化手段，挖掘召回存在误判的 Case，推进其进行校验和优化，这可以让系统进入良性循环。目前覆盖 85% 以上的技能，覆盖意图识别问题量的 48%，这种方式比人工优化效率高了两个数量级。</li>
</ul>
<h4 id="43懂用户"><strong>4.3、懂用户</strong><a hidden class="anchor" aria-hidden="true" href="#43懂用户">#</a></h4>
<p><strong><img loading="lazy" src="https://pic1.zhimg.com/80/v2-e86c21ff9a1b8e29dce5aa76e0fa88fc_720w.webp" alt=""  />
</strong></p>
<h5 id="431-懂用户的属性"><strong>4.3.1 懂用户的属性</strong><a hidden class="anchor" aria-hidden="true" href="#431-懂用户的属性">#</a></h5>
<p>    第三部分是怎么更好的懂用户，这是最难的，也是未来最有想象空间的。懂用户包括，懂用户的属性、用户的行为以及用户的情感。希望通过懂用户给用户带来更贴心的产品体验，认为这个助手是为他打造的。同时，通过提升用户对助手的信任感，增加用户粘性。有了用户的信任感和粘性后，未来助手才会有更大的发展潜力。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-611805f24d4b36a8eb894564b0abc708_720w.webp" alt=""  />
</p>
<p>小布在懂用户方面还在持续的发展中，目前覆盖基本属性，针对这些属性小布也可以做到记忆、提醒和影响后续部分对话交互的过程。整体还需要进一步的深入挖掘，这也是我们未来发展的重点方向之一。</p>
<h5 id="432-懂用户的行为">4.3.2 懂用户的行为<a hidden class="anchor" aria-hidden="true" href="#432-懂用户的行为">#</a></h5>
<p><img loading="lazy" src="https://pic2.zhimg.com/80/v2-ea947e87158090bae098d8fb7429683d_720w.webp" alt=""  />
</p>
<p>此外，<strong>在懂用户行为方面</strong>，我们也已经做了一些探索和实践。比如，我们发现有些用户在需求未满足时会通过换不同的说法、澄清的方式希望助手更理解自己；有些用户会在小布犯错的时候骂他，给小布负向反馈；也有用户会在小布很好完成任务时给小布正向的激励反馈，对小布说谢谢或夸赞。我们了解到不同用户的行为后，也针对不同的用户行为做反馈，提升小布的理解能力。</p>
<p>**针对反复澄清的用户，**我们实现了自动化离线学习外加在线澄清的方案用来实现和满足用户需求。通过澄清的方式，猜测用户意图，最终帮助用户达成诉求。这不仅对当前用户是有效的，对相似的用户场景也是通用的。</p>
<p><strong>针对用户的批评和表扬</strong>，我们也制定了小布的口碑满意度体系，降低用户对小布的不满，提升用户满意度。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/80/v2-0e03cea4bd046f8bf95375d4d6e1a031_720w.webp" alt=""  />
</p>
<h5 id="433-懂用户的情感">4.3.3 懂用户的情感<a hidden class="anchor" aria-hidden="true" href="#433-懂用户的情感">#</a></h5>
<p><strong>懂用户另外一个重要的维度是和用户共情。针对这一方向，小布做了一些情感引擎和情感理解的工作，识别和跟踪用户的情感变化，为用户提供情感关怀方面的交互</strong>。目前还处于比较初级的阶段。总的来说，在技术层面上理解用户情感是相对可控的。但如何在理解的基础上交互让用户感受更好，这一课题还需要更多的探索。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/80/v2-a9827e978be4a25f132cb1eed77f72f5_720w.webp" alt=""  />
</p>
<p>此外，<strong>在理解用户的潜在需求方面</strong>，我们也希望有更多的工作落地。比如，用户反馈被打了或者被批评了。我们希望可以通过交互的方式深刻的挖到背后的原因，结合原因再使用交互的方式去满足用户的潜在需求，从而对用户有一些疏导。</p>
<h3 id="五长远规划">五、长远规划<a hidden class="anchor" aria-hidden="true" href="#五长远规划">#</a></h3>
<p>  以上就是小布演进过程中，我们做的思考和实践。AI 助手目前在非常高速的发展中，如果大家关注到一些顶级会议论文研究方向的分布，会发现对话助手相关的研究是非常活跃的。这里对未来 AI 助手的未来方向做一个简单的展望。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-c546c95f10e357686672400d47c90460_720w.webp" alt=""  />
</p>
<p><strong>首先，AI 助手覆盖的设备载体越来越丰富</strong>。从用户角度来看，拥有多设备的用户也越来越普遍。在做好单设备体验的同时，我们相信多端融合也会是 AI 助手的趋势之一。通过 AI 助手实现更好的跨端协同智能，在协同体验 AI 助手会有更强的竞争力。</p>
<p><strong>在产品形态层面，目前产品已经从传统的语音、语义的方式转向多模态数字人的方向演进，目前多模态也是必然的发展趋势</strong>。小布在多模态虚拟人方向也有一些落地，如：虚拟人直播带货、播报天气、播报新闻。实际上也吸引了很多用户的关注，虚拟人的交互方式天然让用户的感知更明显。</p>
<p>除了外在表现，我们认为内在的灵魂同样重要。完美的 AI 助手需要有情感，有记忆，有观点。助手需要逐渐成长，值得信赖。所以我们认为<strong>人格化也是未来的趋势</strong>。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/80/v2-18d4195b8edd0aa549f724d3ff06b649_720w.webp" alt=""  />
</p>
<p>除了刚提到的技能建设的基础体验，以及反智障、懂用户这种持续的提升之外，我们希望小布助手在理论上有持续的发展。比如，借助于情感引擎、拟人对话能力等各方面的技术，给用户提供有自我的 AI 助手，成为用户贴心的伙伴。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-173c1e8c1be9098b020abafff7211208_720w.webp" alt=""  />
</p>
<p>   在 AI 助手这个方向，经历了从早期的客服机器人到全能型智能助手，再到多模态虚拟机器人的变化。AI 助手在车载、电视、智能家居等各个场景上被越来越广泛的应用和接纳。随着设备互联互通逐渐成熟，智能助手也慢慢迎来了自己最好的发展机会。在这些复合场景下，AI 助手的价值能够带来更好的体验。相信未来在万物互融的场景下，AI 助手会发展的越来越好。</p>
<h3 id="六对比当前影子的语音助手进行深度思考">六、对比当前影子的语音助手，进行深度思考<a hidden class="anchor" aria-hidden="true" href="#六对比当前影子的语音助手进行深度思考">#</a></h3>
<h4 id="61我们的语音助手离小布的距离还有多远弱在哪里">6.1、我们的语音助手离小布的距离还有多远，弱在哪里？<a hidden class="anchor" aria-hidden="true" href="#61我们的语音助手离小布的距离还有多远弱在哪里">#</a></h4>
<p>     我们的小万和发展之初的小布面临同样的问题，就是我们现阶段尽快构建一个可面向用户的产品，再通过用户的实际使用促进产品的快速迭代。</p>
<p>     1、从小布助手最初搭载的设备来看，是跟这家公司的基因有关的，本身就是做手机硬件出身的，设备在市场上已经有了很好的发展，有了大量的用户积累，对于获取大量数据简单了许多，对后续数据分析和迭代、算法模型的优化提供了很多的优质条件，能够基于数据驱动提升智能体验，而我们的小万呢，最近才刚开始商业化，相对来说市场还没有完全打开，用户反馈稍微欠缺。</p>
<p>     2、因为需要快速构建一款语音产品，更多的是以快速组装为主，自然就会引入很多的外部AI技术，去打通语音功能的标准流程，中间就会遇到一些技术问题，各个环节相对割裂，相互之间的适配效果也不是很理想，从端到端来看，效果的折损会比较的明显，对应的语音体验也相对需要更多的时间去打磨和提升。</p>
<h4 id="62小布有哪些地方我们可以学习和扩展的">6.2、小布有哪些地方我们可以学习和扩展的？<a hidden class="anchor" aria-hidden="true" href="#62小布有哪些地方我们可以学习和扩展的">#</a></h4>
<p>    1、正确产品定位和期望。</p>
<p>    2、始终以用户需求为起点,扎根技术研发。从用户角度出发,为用户解决问题</p>
<p>    3、主动智能技术的预研、有对未来的畅想,更有对用户的关怀。</p>
<p>    4、面对技能的增多和有更多的长尾技能的时候，引入平台化解决方案，构建自己的技能平台和开放平台，让非技术人员、外部合作伙伴参与技能的建设，降低研发门槛和成本。</p>
<p>    5、进行用户体验评价，分析线上的有效音频实际录入的技能领域和场景，构建不同的场景测试集以及领域测试集，对于未满足的query进行分析，优化提升。</p>
<p>    6、智能助手与用户交互，无论用户满意还是不满意，一般都是用完即结束，不会直接给反馈，不像搜索推荐，可以通过点击、时长等行为数据直接获得反馈，再促进算法模型的优化，所以需要构建一个自学习系统，通过它获得信号，促进算法高速、更有效的迭代，让智能助手效果越来越好。</p>
<p>    7、在研发资源比较有限的情况下，我们首先还是会专注于当前比较高频、高优先级的用户需求优化。同时我们会根据服务的用户群体去做分层优化，判断哪些需求对于用户来说是优先级更高的，进而逐步满足更多用户的个性化需求，逐步实现所谓的千人千面，终极目标是希望为每个用户打造独一无二的智能助手。</p>
<h4 id="63语音助手带来的价值增长点在哪体现怎样让用户为ai买单">6.3、语音助手带来的价值增长点在哪体现，怎样让用户为AI买单？<a hidden class="anchor" aria-hidden="true" href="#63语音助手带来的价值增长点在哪体现怎样让用户为ai买单">#</a></h4>
<p>    1、缩短用户到达服务之间的路径，让用户尽可能的&quot;偷懒&quot;, 给用户带来智能化的体验，这是体验语音助手的价值点之一。</p>
<p>    2、我们不局限于当前的硬件产品，只是作为切入点，未来朝着万物互联的生态方向发展，进行全场景探索。</p>
<p><a href="/">Filter table data</a><a href="/">Create a pivot table</a><a href="/">Create a chart from data series</a></p>
<p><a href="/users/tfac-settings.action">Configure buttons visibility</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E4%BA%8C%E4%BA%A7%E5%93%81%E7%90%86%E5%BF%B5%E5%92%8Cprd/">二、产品理念和PRD</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/wiki/2024%E4%B8%8B%E5%8D%8A%E5%B9%B4%E7%82%89%E7%AB%AF%E8%99%9A%E6%8B%9F%E4%BA%BA%E4%BA%A7%E5%93%81%E8%A7%84%E5%88%92/">
    <span class="title">« 上一页</span>
    <br>
    <span>2024下半年炉端虚拟人产品规划</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/juejin/%E4%BC%98%E7%A7%80%E7%9A%84vue3%E5%BC%80%E6%BA%90%E5%90%8E%E5%8F%B0%E6%A8%A1%E6%9D%BF%E6%8E%A8%E8%8D%90/">
    <span class="title">下一页 »</span>
    <br>
    <span>🔥优秀的Vue3开源后台模板推荐</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on x"
            href="https://x.com/intent/tweet/?text=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f&amp;hashtags=%e4%ba%8c%e3%80%81%e4%ba%a7%e5%93%81%e7%90%86%e5%bf%b5%e5%92%8cPRD">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f&amp;title=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b&amp;summary=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f&title=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on whatsapp"
            href="https://api.whatsapp.com/send?text=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on telegram"
            href="https://telegram.me/share/url?text=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share oppo强大语音助手小布背后的故事 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=oppo%e5%bc%ba%e5%a4%a7%e8%af%ad%e9%9f%b3%e5%8a%a9%e6%89%8b%e5%b0%8f%e5%b8%83%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fwiki%2foppo%25E5%25BC%25BA%25E5%25A4%25A7%25E8%25AF%25AD%25E9%259F%25B3%25E5%258A%25A9%25E6%2589%258B%25E5%25B0%258F%25E5%25B8%2583%25E8%2583%258C%25E5%2590%258E%25E7%259A%2584%25E6%2595%2585%25E4%25BA%258B%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
