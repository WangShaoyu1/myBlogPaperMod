<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 | PaperMod</title>
<meta name="keywords" content="前端, Vue.js, 架构">
<meta name="description" content="先附上源码地址：httpsgithubcomcwjbjyvite-vue-ts-seed1初始化项目1node版本要求使用node16以下版本在运行vue-tsc时会报错。n">
<meta name="author" content="敲代码的彭于晏">
<link rel="canonical" href="http://localhost:1313/posts/juejin/vite53&#43;typescript&#43;vue3&#43;pinia%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/juejin/vite53&#43;typescript&#43;vue3&#43;pinia%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目" />
<meta property="og:description" content="先附上源码地址：httpsgithubcomcwjbjyvite-vue-ts-seed1初始化项目1node版本要求使用node16以下版本在运行vue-tsc时会报错。n" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/juejin/vite53&#43;typescript&#43;vue3&#43;pinia%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-05-04T00:00:00+00:00" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目"/>
<meta name="twitter:description" content="先附上源码地址：httpsgithubcomcwjbjyvite-vue-ts-seed1初始化项目1node版本要求使用node16以下版本在运行vue-tsc时会报错。n"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Vite53+Typescript+Vue3+Pinia最新搭建企业级前端项目",
      "item": "http://localhost:1313/posts/juejin/vite53+typescript+vue3+pinia%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Vite53+Typescript+Vue3+Pinia最新搭建企业级前端项目",
  "name": "Vite53\u002bTypescript\u002bVue3\u002bPinia最新搭建企业级前端项目",
  "description": "先附上源码地址：httpsgithubcomcwjbjyvite-vue-ts-seed1初始化项目1node版本要求使用node16以下版本在运行vue-tsc时会报错。n",
  "keywords": [
    "前端", "Vue.js", "架构"
  ],
  "articleBody": "在云在前端公众号中发送vite领取源码地址\n2024/07/29更新：文章配置已更新至vite最新版本5.3.4，源码的vite版本是5.0.4，后续会更新源码\n1. 初始化项目 1. node版本要求 node：v18.19.0\n2. vscode插件安装 Vue - Official，Prettier - Code formatter，ESlint\n提示：确保开发vue2时的Vetur插件禁用\n3. 创建项目 js\n代码解读\n复制代码\nnpm create vite@latest vite-vue-ts-seed -- --template vue-ts\n提示：vscode在文件中通过鼠标右击，选择使用…格式化文档，将prettier插件设为默认值\n4. 安装项目依赖 js\n代码解读\n复制代码\nyarn\n2. 配置 tsconfig 1. 新建 src/typings.d.ts（在src文件夹下新建） js\n代码解读\n复制代码\n//声明window上自定义属性，如事件总线 declare interface Window { eventBus: any; } //声明.vue文件 declare module \"*.vue\" { import { DefineComponent } from \"vue\"; const component: DefineComponent; export default component; }\n提示：遇到ts报错，有些时候是配置未生效，可以重启vscode或ts服务（vscode快捷键 ctrl+shift+p调出命令行，输入Restart TS Server）\n2. 修改package.json js\n代码解读\n复制代码\n\"scripts\": { \"ts\": \"vue-tsc -b\", },\n运行 yarn run ts 即可查看文件是否有ts类型错误\n3. 配置路径别名 安装 js\n代码解读\n复制代码\nyarn add @types/node -D\n修改vite.config.ts js\n代码解读\n复制代码\nimport { defineConfig } from \"vite\"; import vue from \"@vitejs/plugin-vue\"; import path from \"path\"; //这个path用到了上面安装的@types/node // https://vitejs.dev/config/ export default defineConfig({ plugins: [vue()], //这里进行配置别名 resolve: { alias: { \"@\": path.resolve(\"./src\"), // @代替src }, }, });\n修改tsconfig.app.json js\n代码解读\n复制代码\n{ \"compilerOptions\":{ //新增 \"baseUrl\": \".\", //查询的基础路径 \"paths\": { \"@/*\": [\"src/*\"] }, //路径映射,配合别名使用 } }\n4. 配置 ESLint 和 prettier 1. 安装 js\n代码解读\n复制代码\n//eslint 安装 yarn add eslint@^8.39.0 -D //eslint vue插件安装 yarn add eslint-plugin-vue@^9.11.0 -D //eslint 识别ts语法 yarn add @typescript-eslint/parser@^6.19.0 -D //eslint ts默认规则补充 yarn add @typescript-eslint/eslint-plugin@^6.19.0 -D //eslint prettier插件安装 yarn add eslint-plugin-prettier@^5.1.3 -D //用来解决与eslint的冲突 yarn add eslint-config-prettier@^9.1.0 -D //安装prettier yarn add prettier@^3.2.4 -D\n2. 新建.eslintrc.cjs js\n代码解读\n复制代码\nmodule.exports = { env: { browser: true, node: true, es2021: true, }, parser: \"vue-eslint-parser\", extends: [ \"eslint:recommended\", //继承 ESLint 内置的推荐规则 \"plugin:vue/vue3-recommended\", // 继承 Vue.js 3 的推荐规则 \"plugin:@typescript-eslint/recommended\", //继承 TypeScript ESLint 插件的推荐规则 \"plugin:prettier/recommended\", //继承 Prettier 的推荐规则 \"eslint-config-prettier\", //关闭 ESLint 中与 Prettier 冲突的规则 ], parserOptions: { ecmaVersion: \"latest\", parser: \"@typescript-eslint/parser\", sourceType: \"module\", ecmaFeatures: { jsx: true, }, }, ignorePatterns: [\"dist\", \"node_modules\", \".eslintrc.cjs\", \"commitlint.config.cjs\"], plugins: [\"vue\", \"@typescript-eslint\", \"prettier\"], rules: { \"vue/multi-word-component-names\": \"off\", // 禁用vue文件强制多个单词命名 \"@typescript-eslint/no-explicit-any\": \"off\", //允许使用any \"@typescript-eslint/no-this-alias\": [ \"error\", { allowedNames: [\"that\"], // this可用的局部变量名称 }, ], \"@typescript-eslint/ban-ts-comment\": \"off\", //允许使用@ts-ignore \"@typescript-eslint/no-non-null-assertion\": \"off\", //允许使用非空断言 \"no-console\": [ //提交时不允许有console.log \"warn\", { allow: [\"warn\", \"error\"], }, ], \"no-debugger\": \"warn\", //提交时不允许有debugger }, };\nrules更多配置：eslint.org/docs/latest…\n3. 新建 .prettierrc js\n代码解读\n复制代码\n{ \"endOfLine\": \"auto\", \"printWidth\": 120, \"semi\": true, \"singleQuote\": true, \"tabWidth\": 2, \"trailingComma\": \"all\", \"bracketSpacing\": true }\n4. 新建 .prettierignore js\n代码解读\n复制代码\n# 忽略格式化文件 (根据项目需要自行添加) node_modules dist\n5. 重启vscode使配置生效 6. 配置package.json 可以看到App.vue文件在import处飘红，因为结尾没有使用分号\n修改package.json\njs\n代码解读\n复制代码\n\"scripts\": { \"lint\": \"eslint src --fix --ext .js,.ts,.vue --report-unused-disable-directives --max-warnings 0\" },\n运行 yarn run lint，可以看到上述eslint(prettier/prettier)问题都将被修复\n5. 配置 husky、lint-staged、@commitlint/cli husky：一个为git客户端增加hook的工具\nlint-staged：仅对Git 代码暂存区文件进行处理，配合husky使用\n@commitlint/cli：让commit信息规范化\n1. 创建git仓库 git init\n2. 安装 js\n代码解读\n复制代码\nyarn add husky@9.1.3 -D yarn add lint-staged@^15.2.7 -D yarn add @commitlint/cli@^19.3.0 -D yarn add @commitlint/config-conventional@^19.2.2 -D\n3. 生成 .husky 的文件夹 js\n代码解读\n复制代码\nnpx husky install\n4. 修改.husky/pre-commit js\n代码解读\n复制代码\n#!/usr/bin/env sh npx --no-install lint-staged\n5. 修改.husky/commit-msg js\n代码解读\n复制代码\n#!/usr/bin/env sh npx --no-install commitlint --edit $1\n6. 修改package.json js\n代码解读\n复制代码\n\"lint-staged\": { \"src/**/*.{js,ts,vue}\": [ \"yarn run lint\", \"prettier --write\" ] }\n7. 新建commitlint.config.cjs 提示：由于package.json的\"type\": “module”，需将commonjs文件显示声明为.cjs\njs\n代码解读\n复制代码\nmodule.exports = { extends: ['@commitlint/config-conventional'], };\n提交格式：\njs\n代码解读\n复制代码\ngit commit -m [optional scope]: //注意冒号后面有空格 - type：提交的类型（如新增、修改、更新等） - optional scope：涉及的模块，可选 - description：任务描述\ntype类型：\n类别\n含义\nfeat\n新功能\nfix\n修复 bug\nstyle\n样式修改（UI校验）\ndocs\n文档更新\nrefactor\n重构代码(既没有新增功能，也没有修复 bug)\nperf\n优化相关，比如提升性能、体验\ntest\n增加测试，包括单元测试、集成测试等\nbuild\n构建系统或外部依赖项的更改\nci\n自动化流程配置或脚本修改\nrevert\n回退某个commit提交\n8. 示范（非规范提交，将提交失败） js\n代码解读\n复制代码\ngit commit -m 'feat: 增加 xxx 功能' git commit -m 'bug: 修复 xxx 功能'\n6. vscode 保存自动格式化 在.vscode下新建 settings.json\njs\n代码解读\n复制代码\n{ \"editor.codeActionsOnSave\": { \"source.fixAll\": \"explicit\" } }\n之后每次文件有修改，保存时，都会自动格式化\n7. 配置路由 vue-router（4.1.6）最新使用指南\n8. 配置 pinia pinia(2.0.34) 最新使用指南与持久化缓存\n受限于篇幅原因，我把路由和pinia单独发了两篇文章\n9. 配置scss 1. 安装 js\n代码解读\n复制代码\nyarn add sass -D\n2. 配置全局 scss 样式文件 新建 src/assets/styles/index.scss\njs\n代码解读\n复制代码\n$test-color: red;\n配置vite.config.ts\njs\n代码解读\n复制代码\ncss: { preprocessorOptions: { scss: { additionalData: '@import \"@/assets/styles/index.scss\";', }, }, },\n组件中使用\njs\n代码解读\n复制代码\n重启项目，查看效果\n10. 配置 element-plus 1. 安装 js\n代码解读\n复制代码\nyarn add element-plus @element-plus/icons-vue\n2. 按需引入插件 js\n代码解读\n复制代码\nyarn add unplugin-vue-components unplugin-auto-import -D\n3. 配置vite.config.ts js\n代码解读\n复制代码\n// vite.config.ts import AutoImport from 'unplugin-auto-import/vite' import Components from 'unplugin-vue-components/vite' import { ElementPlusResolver } from 'unplugin-vue-components/resolvers' export default defineConfig({ // ... plugins: [ // ... AutoImport({ resolvers: [ElementPlusResolver()], }), Components({ resolvers: [ElementPlusResolver()], }), ], })\n4. 在main.ts引入 注意：按需引入时element-plus不需要在main.ts中引入，插件会自动挂载处理，可以在全局直接使用\n这里在main.ts中引入element-plus样式与图标\njs\n代码解读\n复制代码\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'; //引入图标 import 'element-plus/dist/index.css'; //引入样式 //... for (const [key, component] of Object.entries(ElementPlusIconsVue)) { app.component(key, component); }\n11. 配置环境变量 新建 .env（所有环境生效）.env.development（开发环境配置） .env.production（生产环境配置）\n1. 定义变量 以 VITE_ 为前缀定义变量\njs\n代码解读\n复制代码\nVITE_BASE_URL = '//127.0.0.1:9000/api'\n2. 定义变量ts类型 修改vite-env.d.ts\njs\n代码解读\n复制代码\n/// interface ImportMetaEnv { readonly VITE_BASE_URL: string; } interface ImportMeta { readonly env: ImportMetaEnv; }\n3. 使用变量 js\n代码解读\n复制代码\nimport.meta.env.VITE_BASE_URL\n4. 在vite.config.ts中使用环境变量 使用 loadEnv 读取环境变量\njs\n代码解读\n复制代码\nimport { defineConfig, loadEnv } from 'vite'; //... export default ({ mode }) =\u003e { console.log('mode', loadEnv(mode, process.cwd()).VITE_BASE_URL); //127.0.0.1:9000/api return defineConfig({ //... }); };\n使用 yarn dev 启动命令，读取.env 与 .env.development的内容\n修改package.json\njs\n代码解读\n复制代码\n\"scripts\": { \"test\":\"vite --mode test\", //新增 },\n使用 yarn test 启动命令，读取.env 与 .env.test的内容\n12. 配置axios 1. 安装 js\n代码解读\n复制代码\nyarn add axios\n2. 新建utils/axios.ts js\n代码解读\n复制代码\nimport axios from 'axios'; /* * 创建实例 * 与后端服务通信 */ const HttpClient = axios.create({ baseURL: import.meta.env.VITE_BASE_URL, }); /** * 请求拦截器 * 功能：配置请求头 */ HttpClient.interceptors.request.use( (config) =\u003e { const token = '222'; config.headers.authorization = 'Bearer ' + token; return config; }, (error) =\u003e { console.error('网络错误，请稍后重试'); return Promise.reject(error); }, ); /** * 响应拦截器 * 功能：处理异常 */ HttpClient.interceptors.response.use( (config) =\u003e { return config; }, (error) =\u003e { return Promise.reject(error); }, ); export default HttpClient;\n3. 新建apis/model/userModel.ts 定义请求参数类型与返回数据类型\njs\n代码解读\n复制代码\n//定义请求参数 export interface ListParams { id: number; //用户id } export interface RowItem { id: number; //文件id fileName: string; //文件名 } //定义接口返回数据 export interface ListModel { code: number; data: RowItem[]; }\n4. 新建apis/user.ts js\n代码解读\n复制代码\nimport HttpClient from '../utils/axios'; import type { ListParams, ListModel } from './model/userModel'; export const getList = (params: ListParams) =\u003e { return HttpClient.get('/list', { params }); };\n5. 使用 js\n代码解读\n复制代码\n在chrome的network中可以看到请求了http://127.0.0.1:9000/api/list?id=2\n13. 配置端口与代理 修改vite.config.ts\njs\n代码解读\n复制代码\nexport default defineConfig({ ... server: { host: '0.0.0.0', port: 8080, open: true, https: false, proxy: { '/api': { target: '要代理的地址', changeOrigin: true, ws: true, rewrite: (path: string) =\u003e path.replace(/^\\/api/, ''), }, }, }, });\n14. 打包配置 修改vite.config.ts\n1. 分包 通过() =\u003e import()形式加载的组件会自动分包，第三方插件需手动分包\njs\n代码解读\n复制代码\nbuild: { rollupOptions: { output: { manualChunks: { vue: ['vue', 'pinia', 'vue-router'], elementIcons: ['@element-plus/icons-vue'], }, }, }, },\n2. 生成.gz文件 安装 js\n代码解读\n复制代码\nyarn add vite-plugin-compression -D\n修改vite.config.ts 默认情况下插件在开发 (serve) 和生产 (build) 模式中都会调用，使用 apply 属性指明它们仅在 ‘build’ 或 ‘serve’ 模式时调用\n这里打包生成 .gz 插件仅需在打包时使用\njs\n代码解读\n复制代码\nimport viteCompression from 'vite-plugin-compression' plugins: [ //... { ...viteCompression(), apply: 'build', }, ],\n3. js和css文件夹分离 js\n代码解读\n复制代码\nexport default defineConfig({ build: { rollupOptions: { output: { chunkFileNames: \"static/js/[name]-[hash].js\", entryFileNames: \"static/js/[name]-[hash].js\", assetFileNames: \"static/[ext]/[name]-[hash].[ext]\", }, }, }, });\n4. 分析生成包的大小 1.安装\njs\n代码解读\n复制代码\nrollup-plugin-visualizer\n修改vite.config.ts js\n代码解读\n复制代码\nimport { visualizer } from 'rollup-plugin-visualizer'; plugins: [ //... visualizer({ open: true }), ],\n15. vite与webpack使用区别 1. 静态资源处理 webpack：使用require处理\nvite：使用 new URL(url, import.meta.url).href 处理\nimport.meta.url 包含了对于目前 ES 模块的绝对路径\nnew URL(url [, base]) 构造函数返回一个新创建的 URL 对象，如果url 是相对 URL，则会将 base 用作基准 URL。如果 url 是绝对 URL，则无论参数base是否存在，都将被忽略\njs\n代码解读\n复制代码\nnew URL('../assets/images/home.png', import.meta.url).href //在src/constants/menus.ts下引入图片 //import.meta.url返回 http://localhost:8080/src/constants/menus.ts //new URL(...).href返回 //http://localhost:8080/src/assets/images/home.png\n2. 组件自动化注册 webpack\njs\n代码解读\n复制代码\nvite\njs\n代码解读\n复制代码\n16. 结尾 想了解更多关于vue的，可在淘宝或京东搜索Vue.js 3编程艺术了解更多，作者曹文杰，封面如下所示。\n或者直接访问京东 清华大学出版社官方旗舰店 购买\n创作历程可参考我的另一篇文章：感谢掘金，我的书出版了 ",
  "wordCount" : "1235",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2023-05-04T00:00:00Z",
  "dateModified": "2023-05-04T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "敲代码的彭于晏"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/juejin/vite53+typescript+vue3+pinia%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目
    </h1>
    <div class="post-description">
      先附上源码地址：httpsgithubcomcwjbjyvite-vue-ts-seed1初始化项目1node版本要求使用node16以下版本在运行vue-tsc时会报错。n
    </div>
    <div class="post-meta"><span title='2023-05-04 00:00:00 +0000 UTC'>五月 4, 2023</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;敲代码的彭于晏&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/jueJin/Vite53&#43;Typescript&#43;Vue3&#43;Pinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e5%88%9d%e5%a7%8b%e5%8c%96%e9%a1%b9%e7%9b%ae" aria-label="1. 初始化项目">1. 初始化项目</a><ul>
                        
                <li>
                    <a href="#1-node%e7%89%88%e6%9c%ac%e8%a6%81%e6%b1%82" aria-label="1. node版本要求">1. node版本要求</a></li>
                <li>
                    <a href="#2-vscode%e6%8f%92%e4%bb%b6%e5%ae%89%e8%a3%85" aria-label="2. vscode插件安装">2. vscode插件安装</a></li>
                <li>
                    <a href="#3-%e5%88%9b%e5%bb%ba%e9%a1%b9%e7%9b%ae" aria-label="3. 创建项目">3. 创建项目</a></li>
                <li>
                    <a href="#4-%e5%ae%89%e8%a3%85%e9%a1%b9%e7%9b%ae%e4%be%9d%e8%b5%96" aria-label="4. 安装项目依赖">4. 安装项目依赖</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e9%85%8d%e7%bd%ae-tsconfig" aria-label="2. 配置 tsconfig">2. 配置 tsconfig</a><ul>
                        
                <li>
                    <a href="#1-%e6%96%b0%e5%bb%ba-srctypingsdts%e5%9c%a8src%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b%e6%96%b0%e5%bb%ba" aria-label="1. 新建 src/typings.d.ts（在src文件夹下新建）">1. 新建 src/typings.d.ts（在src文件夹下新建）</a></li>
                <li>
                    <a href="#2-%e4%bf%ae%e6%94%b9packagejson" aria-label="2. 修改package.json">2. 修改package.json</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e9%85%8d%e7%bd%ae%e8%b7%af%e5%be%84%e5%88%ab%e5%90%8d" aria-label="3. 配置路径别名">3. 配置路径别名</a></li>
                <li>
                    <a href="#4-%e9%85%8d%e7%bd%ae-eslint-%e5%92%8c-prettier" aria-label="4. 配置 ESLint 和 prettier">4. 配置 ESLint 和 prettier</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%89%e8%a3%85" aria-label="1. 安装">1. 安装</a></li>
                <li>
                    <a href="#2-%e6%96%b0%e5%bb%baeslintrccjs" aria-label="2. 新建.eslintrc.cjs">2. 新建.eslintrc.cjs</a></li>
                <li>
                    <a href="#3-%e6%96%b0%e5%bb%ba-prettierrc" aria-label="3. 新建 .prettierrc">3. 新建 .prettierrc</a></li>
                <li>
                    <a href="#4-%e6%96%b0%e5%bb%ba-prettierignore" aria-label="4. 新建 .prettierignore">4. 新建 .prettierignore</a></li>
                <li>
                    <a href="#5-%e9%87%8d%e5%90%afvscode%e4%bd%bf%e9%85%8d%e7%bd%ae%e7%94%9f%e6%95%88" aria-label="5. 重启vscode使配置生效">5. 重启vscode使配置生效</a></li>
                <li>
                    <a href="#6-%e9%85%8d%e7%bd%aepackagejson" aria-label="6. 配置package.json">6. 配置package.json</a></li></ul>
                </li>
                <li>
                    <a href="#5-%e9%85%8d%e7%bd%ae-huskylint-stagedcommitlintcli" aria-label="5. 配置 husky、lint-staged、@commitlint/cli">5. 配置 husky、lint-staged、@commitlint/cli</a><ul>
                        
                <li>
                    <a href="#1-%e5%88%9b%e5%bb%bagit%e4%bb%93%e5%ba%93" aria-label="1. 创建git仓库">1. 创建git仓库</a></li>
                <li>
                    <a href="#2-%e5%ae%89%e8%a3%85" aria-label="2. 安装">2. 安装</a></li>
                <li>
                    <a href="#3-%e7%94%9f%e6%88%90-husky-%e7%9a%84%e6%96%87%e4%bb%b6%e5%a4%b9" aria-label="3. 生成 .husky 的文件夹">3. 生成 .husky 的文件夹</a></li>
                <li>
                    <a href="#4-%e4%bf%ae%e6%94%b9huskypre-commit" aria-label="4. 修改.husky/pre-commit">4. 修改.husky/pre-commit</a></li>
                <li>
                    <a href="#5-%e4%bf%ae%e6%94%b9huskycommit-msg" aria-label="5. 修改.husky/commit-msg">5. 修改.husky/commit-msg</a></li>
                <li>
                    <a href="#6-%e4%bf%ae%e6%94%b9packagejson" aria-label="6. 修改package.json">6. 修改package.json</a></li>
                <li>
                    <a href="#7-%e6%96%b0%e5%bb%bacommitlintconfigcjs" aria-label="7. 新建commitlint.config.cjs">7. 新建commitlint.config.cjs</a></li>
                <li>
                    <a href="#8-%e7%a4%ba%e8%8c%83%e9%9d%9e%e8%a7%84%e8%8c%83%e6%8f%90%e4%ba%a4%e5%b0%86%e6%8f%90%e4%ba%a4%e5%a4%b1%e8%b4%a5" aria-label="8. 示范（非规范提交，将提交失败）">8. 示范（非规范提交，将提交失败）</a></li></ul>
                </li>
                <li>
                    <a href="#6-vscode-%e4%bf%9d%e5%ad%98%e8%87%aa%e5%8a%a8%e6%a0%bc%e5%bc%8f%e5%8c%96" aria-label="6. vscode 保存自动格式化">6. vscode 保存自动格式化</a></li>
                <li>
                    <a href="#7-%e9%85%8d%e7%bd%ae%e8%b7%af%e7%94%b1" aria-label="7. 配置路由">7. 配置路由</a></li>
                <li>
                    <a href="#8-%e9%85%8d%e7%bd%ae-pinia" aria-label="8. 配置 pinia">8. 配置 pinia</a></li>
                <li>
                    <a href="#9-%e9%85%8d%e7%bd%aescss" aria-label="9. 配置scss">9. 配置scss</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%89%e8%a3%85-1" aria-label="1. 安装">1. 安装</a></li>
                <li>
                    <a href="#2-%e9%85%8d%e7%bd%ae%e5%85%a8%e5%b1%80-scss-%e6%a0%b7%e5%bc%8f%e6%96%87%e4%bb%b6" aria-label="2. 配置全局 scss 样式文件">2. 配置全局 scss 样式文件</a></li></ul>
                </li>
                <li>
                    <a href="#10-%e9%85%8d%e7%bd%ae-element-plus" aria-label="10. 配置 element-plus">10. 配置 element-plus</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%89%e8%a3%85-2" aria-label="1. 安装">1. 安装</a></li>
                <li>
                    <a href="#2-%e6%8c%89%e9%9c%80%e5%bc%95%e5%85%a5%e6%8f%92%e4%bb%b6" aria-label="2. 按需引入插件">2. 按需引入插件</a></li>
                <li>
                    <a href="#3-%e9%85%8d%e7%bd%aeviteconfigts" aria-label="3. 配置vite.config.ts">3. 配置vite.config.ts</a></li>
                <li>
                    <a href="#4-%e5%9c%a8maints%e5%bc%95%e5%85%a5" aria-label="4. 在main.ts引入">4. 在main.ts引入</a></li></ul>
                </li>
                <li>
                    <a href="#11-%e9%85%8d%e7%bd%ae%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" aria-label="11. 配置环境变量">11. 配置环境变量</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f" aria-label="1. 定义变量">1. 定义变量</a></li>
                <li>
                    <a href="#2-%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8fts%e7%b1%bb%e5%9e%8b" aria-label="2. 定义变量ts类型">2. 定义变量ts类型</a></li>
                <li>
                    <a href="#3-%e4%bd%bf%e7%94%a8%e5%8f%98%e9%87%8f" aria-label="3. 使用变量">3. 使用变量</a></li>
                <li>
                    <a href="#4-%e5%9c%a8viteconfigts%e4%b8%ad%e4%bd%bf%e7%94%a8%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" aria-label="4. 在vite.config.ts中使用环境变量">4. 在vite.config.ts中使用环境变量</a></li></ul>
                </li>
                <li>
                    <a href="#12-%e9%85%8d%e7%bd%aeaxios" aria-label="12. 配置axios">12. 配置axios</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%89%e8%a3%85-3" aria-label="1. 安装">1. 安装</a></li>
                <li>
                    <a href="#2-%e6%96%b0%e5%bb%bautilsaxiosts" aria-label="2. 新建utils/axios.ts">2. 新建utils/axios.ts</a></li>
                <li>
                    <a href="#3-%e6%96%b0%e5%bb%baapismodelusermodelts" aria-label="3. 新建apis/model/userModel.ts">3. 新建apis/model/userModel.ts</a></li>
                <li>
                    <a href="#4-%e6%96%b0%e5%bb%baapisuserts" aria-label="4. 新建apis/user.ts">4. 新建apis/user.ts</a></li>
                <li>
                    <a href="#5-%e4%bd%bf%e7%94%a8" aria-label="5. 使用">5. 使用</a></li></ul>
                </li>
                <li>
                    <a href="#13-%e9%85%8d%e7%bd%ae%e7%ab%af%e5%8f%a3%e4%b8%8e%e4%bb%a3%e7%90%86" aria-label="13. 配置端口与代理">13. 配置端口与代理</a></li>
                <li>
                    <a href="#14-%e6%89%93%e5%8c%85%e9%85%8d%e7%bd%ae" aria-label="14. 打包配置">14. 打包配置</a><ul>
                        
                <li>
                    <a href="#1-%e5%88%86%e5%8c%85" aria-label="1. 分包">1. 分包</a></li>
                <li>
                    <a href="#2-%e7%94%9f%e6%88%90gz%e6%96%87%e4%bb%b6" aria-label="2. 生成.gz文件">2. 生成.gz文件</a></li>
                <li>
                    <a href="#3-js%e5%92%8ccss%e6%96%87%e4%bb%b6%e5%a4%b9%e5%88%86%e7%a6%bb" aria-label="3. js和css文件夹分离">3. js和css文件夹分离</a></li>
                <li>
                    <a href="#4-%e5%88%86%e6%9e%90%e7%94%9f%e6%88%90%e5%8c%85%e7%9a%84%e5%a4%a7%e5%b0%8f" aria-label="4. 分析生成包的大小">4. 分析生成包的大小</a></li></ul>
                </li>
                <li>
                    <a href="#15-vite%e4%b8%8ewebpack%e4%bd%bf%e7%94%a8%e5%8c%ba%e5%88%ab" aria-label="15. vite与webpack使用区别">15. vite与webpack使用区别</a><ul>
                        
                <li>
                    <a href="#1-%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%a4%84%e7%90%86" aria-label="1. 静态资源处理">1. 静态资源处理</a></li>
                <li>
                    <a href="#2-%e7%bb%84%e4%bb%b6%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b3%a8%e5%86%8c" aria-label="2. 组件自动化注册">2. 组件自动化注册</a></li></ul>
                </li>
                <li>
                    <a href="#16-%e7%bb%93%e5%b0%be" aria-label="16. 结尾">16. 结尾</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>在<a href="https://link.juejin.cn?target=https%3A%2F%2Fwx.caowj.top%2F" title="https://wx.caowj.top/">云在前端</a>公众号中发送vite领取源码地址</p>
<p>2024/07/29更新：文章配置已更新至vite最新版本5.3.4，源码的vite版本是5.0.4，后续会更新源码</p>
<h2 id="1-初始化项目">1. 初始化项目<a hidden class="anchor" aria-hidden="true" href="#1-初始化项目">#</a></h2>
<h3 id="1-node版本要求">1. node版本要求<a hidden class="anchor" aria-hidden="true" href="#1-node版本要求">#</a></h3>
<p>node：v18.19.0</p>
<h3 id="2-vscode插件安装">2. vscode插件安装<a hidden class="anchor" aria-hidden="true" href="#2-vscode插件安装">#</a></h3>
<p>Vue - Official，Prettier - Code formatter，ESlint</p>
<p><code>提示：确保开发vue2时的Vetur插件禁用</code></p>
<h3 id="3-创建项目">3. 创建项目<a hidden class="anchor" aria-hidden="true" href="#3-创建项目">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>npm create vite@latest vite-vue-ts-seed -- --template vue-ts</code></p>
<p>提示：vscode在文件中通过鼠标右击，选择使用&hellip;格式化文档，将prettier插件设为默认值</p>
<h3 id="4-安装项目依赖">4. 安装项目依赖<a hidden class="anchor" aria-hidden="true" href="#4-安装项目依赖">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn</code></p>
<h2 id="2-配置-tsconfig">2. 配置 tsconfig<a hidden class="anchor" aria-hidden="true" href="#2-配置-tsconfig">#</a></h2>
<h3 id="1-新建-srctypingsdts在src文件夹下新建">1. 新建 src/typings.d.ts（在src文件夹下新建）<a hidden class="anchor" aria-hidden="true" href="#1-新建-srctypingsdts在src文件夹下新建">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>//声明window上自定义属性，如事件总线 declare interface Window {   eventBus: any; } //声明.vue文件 declare module &quot;*.vue&quot; {   import { DefineComponent } from &quot;vue&quot;;   const component: DefineComponent&lt;object, object, any&gt;;   export default component; }</code></p>
<p>提示：遇到ts报错，有些时候是配置未生效，可以重启vscode或ts服务（vscode快捷键 ctrl+shift+p调出命令行，输入Restart TS Server）</p>
<h3 id="2-修改packagejson">2. 修改package.json<a hidden class="anchor" aria-hidden="true" href="#2-修改packagejson">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&quot;scripts&quot;: {    &quot;ts&quot;: &quot;vue-tsc -b&quot;, },</code></p>
<p>运行 yarn run ts 即可查看文件是否有ts类型错误</p>
<h2 id="3-配置路径别名">3. 配置路径别名<a hidden class="anchor" aria-hidden="true" href="#3-配置路径别名">#</a></h2>
<ol>
<li>安装</li>
</ol>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add @types/node -D</code></p>
<ol start="2">
<li>修改vite.config.ts</li>
</ol>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineConfig } from &quot;vite&quot;; import vue from &quot;@vitejs/plugin-vue&quot;; import path from &quot;path&quot;; //这个path用到了上面安装的@types/node // https://vitejs.dev/config/ export default defineConfig({   plugins: [vue()],   //这里进行配置别名   resolve: {     alias: {       &quot;@&quot;: path.resolve(&quot;./src&quot;), // @代替src     },   }, });</code></p>
<ol start="3">
<li>修改tsconfig.app.json</li>
</ol>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>{   &quot;compilerOptions&quot;:{       //新增       &quot;baseUrl&quot;: &quot;.&quot;, //查询的基础路径       &quot;paths&quot;: { &quot;@/*&quot;: [&quot;src/*&quot;] }, //路径映射,配合别名使用   } }</code></p>
<h2 id="4-配置-eslint-和-prettier">4. 配置 ESLint 和 prettier<a hidden class="anchor" aria-hidden="true" href="#4-配置-eslint-和-prettier">#</a></h2>
<h3 id="1-安装">1. 安装<a hidden class="anchor" aria-hidden="true" href="#1-安装">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>//eslint 安装 yarn add eslint@^8.39.0 -D //eslint vue插件安装 yarn add eslint-plugin-vue@^9.11.0 -D //eslint 识别ts语法 yarn add @typescript-eslint/parser@^6.19.0 -D //eslint ts默认规则补充 yarn add @typescript-eslint/eslint-plugin@^6.19.0 -D //eslint prettier插件安装 yarn add eslint-plugin-prettier@^5.1.3 -D //用来解决与eslint的冲突 yarn add eslint-config-prettier@^9.1.0 -D  //安装prettier yarn add prettier@^3.2.4 -D</code></p>
<h3 id="2-新建eslintrccjs">2. 新建.eslintrc.cjs<a hidden class="anchor" aria-hidden="true" href="#2-新建eslintrccjs">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>module.exports = {   env: {     browser: true,     node: true,     es2021: true,   },   parser: &quot;vue-eslint-parser&quot;,   extends: [     &quot;eslint:recommended&quot;, //继承 ESLint 内置的推荐规则     &quot;plugin:vue/vue3-recommended&quot;, // 继承 Vue.js 3 的推荐规则     &quot;plugin:@typescript-eslint/recommended&quot;, //继承 TypeScript ESLint 插件的推荐规则     &quot;plugin:prettier/recommended&quot;, //继承 Prettier 的推荐规则     &quot;eslint-config-prettier&quot;, //关闭 ESLint 中与 Prettier 冲突的规则   ],   parserOptions: {     ecmaVersion: &quot;latest&quot;,     parser: &quot;@typescript-eslint/parser&quot;,     sourceType: &quot;module&quot;,     ecmaFeatures: {       jsx: true,     },   },   ignorePatterns: [&quot;dist&quot;, &quot;node_modules&quot;, &quot;.eslintrc.cjs&quot;, &quot;commitlint.config.cjs&quot;],   plugins: [&quot;vue&quot;, &quot;@typescript-eslint&quot;, &quot;prettier&quot;],   rules: {     &quot;vue/multi-word-component-names&quot;: &quot;off&quot;, // 禁用vue文件强制多个单词命名     &quot;@typescript-eslint/no-explicit-any&quot;: &quot;off&quot;, //允许使用any     &quot;@typescript-eslint/no-this-alias&quot;: [       &quot;error&quot;,       {         allowedNames: [&quot;that&quot;], // this可用的局部变量名称       },     ],     &quot;@typescript-eslint/ban-ts-comment&quot;: &quot;off&quot;, //允许使用@ts-ignore     &quot;@typescript-eslint/no-non-null-assertion&quot;: &quot;off&quot;, //允许使用非空断言     &quot;no-console&quot;: [       //提交时不允许有console.log       &quot;warn&quot;,       {         allow: [&quot;warn&quot;, &quot;error&quot;],       },     ],     &quot;no-debugger&quot;: &quot;warn&quot;, //提交时不允许有debugger   }, };</code></p>
<p>rules更多配置：<a href="https://link.juejin.cn?target=https%3A%2F%2Feslint.org%2Fdocs%2Flatest%2Frules%2F" title="https://eslint.org/docs/latest/rules/">eslint.org/docs/latest…</a></p>
<h3 id="3-新建-prettierrc">3. 新建 .prettierrc<a hidden class="anchor" aria-hidden="true" href="#3-新建-prettierrc">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>{     &quot;endOfLine&quot;: &quot;auto&quot;,     &quot;printWidth&quot;: 120,     &quot;semi&quot;: true,     &quot;singleQuote&quot;: true,     &quot;tabWidth&quot;: 2,     &quot;trailingComma&quot;: &quot;all&quot;,     &quot;bracketSpacing&quot;: true }</code></p>
<h3 id="4-新建-prettierignore">4. 新建 .prettierignore<a hidden class="anchor" aria-hidden="true" href="#4-新建-prettierignore">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 忽略格式化文件 (根据项目需要自行添加) node_modules dist</code></p>
<h3 id="5-重启vscode使配置生效">5. 重启vscode使配置生效<a hidden class="anchor" aria-hidden="true" href="#5-重启vscode使配置生效">#</a></h3>
<h3 id="6-配置packagejson">6. 配置package.json<a hidden class="anchor" aria-hidden="true" href="#6-配置packagejson">#</a></h3>
<p>可以看到App.vue文件在import处飘红，因为结尾没有使用分号</p>
<p><img loading="lazy" src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e97e198698f047469cfce33c131731ff~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=438&amp;h=27&amp;s=4063&amp;e=jpg&amp;b=211f1d" alt="B257E9EA9CBE491DA0258FF814C44658.jpg"  />
</p>
<p>修改package.json</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&quot;scripts&quot;: {     &quot;lint&quot;: &quot;eslint src --fix --ext .js,.ts,.vue --report-unused-disable-directives --max-warnings 0&quot; },</code></p>
<p>运行 yarn run lint，可以看到上述eslint(prettier/prettier)问题都将被修复</p>
<h2 id="5-配置-huskylint-stagedcommitlintcli">5. 配置 husky、lint-staged、@commitlint/cli<a hidden class="anchor" aria-hidden="true" href="#5-配置-huskylint-stagedcommitlintcli">#</a></h2>
<p>husky：一个为git客户端增加hook的工具</p>
<p>lint-staged：仅对Git 代码暂存区文件进行处理，配合husky使用</p>
<p>@commitlint/cli：让commit信息规范化</p>
<h3 id="1-创建git仓库">1. 创建git仓库<a hidden class="anchor" aria-hidden="true" href="#1-创建git仓库">#</a></h3>
<p><code>git init</code></p>
<h3 id="2-安装">2. 安装<a hidden class="anchor" aria-hidden="true" href="#2-安装">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add husky@9.1.3 -D  yarn add lint-staged@^15.2.7 -D yarn add @commitlint/cli@^19.3.0 -D yarn add @commitlint/config-conventional@^19.2.2 -D</code></p>
<h3 id="3-生成-husky-的文件夹">3. 生成 .husky 的文件夹<a hidden class="anchor" aria-hidden="true" href="#3-生成-husky-的文件夹">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>npx husky install</code></p>
<h3 id="4-修改huskypre-commit">4. 修改.husky/pre-commit<a hidden class="anchor" aria-hidden="true" href="#4-修改huskypre-commit">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>#!/usr/bin/env sh npx --no-install lint-staged</code></p>
<h3 id="5-修改huskycommit-msg">5. 修改.husky/commit-msg<a hidden class="anchor" aria-hidden="true" href="#5-修改huskycommit-msg">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>#!/usr/bin/env sh npx --no-install commitlint --edit $1</code></p>
<h3 id="6-修改packagejson">6. 修改package.json<a hidden class="anchor" aria-hidden="true" href="#6-修改packagejson">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&quot;lint-staged&quot;: {   &quot;src/**/*.{js,ts,vue}&quot;: [     &quot;yarn run lint&quot;,     &quot;prettier --write&quot;   ] }</code></p>
<h3 id="7-新建commitlintconfigcjs">7. 新建commitlint.config.cjs<a hidden class="anchor" aria-hidden="true" href="#7-新建commitlintconfigcjs">#</a></h3>
<p>提示：由于package.json的&quot;type&quot;: &ldquo;module&rdquo;，需将commonjs文件显示声明为.cjs</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>module.exports = {   extends: ['@commitlint/config-conventional'], };</code></p>
<p>提交格式：</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>git commit -m &lt;type&gt;[optional scope]: &lt;description&gt; //注意冒号后面有空格 - type：提交的类型（如新增、修改、更新等） - optional scope：涉及的模块，可选 - description：任务描述</code></p>
<p>type类型：</p>
<p>类别</p>
<p>含义</p>
<p>feat</p>
<p>新功能</p>
<p>fix</p>
<p>修复 bug</p>
<p>style</p>
<p>样式修改（UI校验）</p>
<p>docs</p>
<p>文档更新</p>
<p>refactor</p>
<p>重构代码(既没有新增功能，也没有修复 bug)</p>
<p>perf</p>
<p>优化相关，比如提升性能、体验</p>
<p>test</p>
<p>增加测试，包括单元测试、集成测试等</p>
<p>build</p>
<p>构建系统或外部依赖项的更改</p>
<p>ci</p>
<p>自动化流程配置或脚本修改</p>
<p>revert</p>
<p>回退某个commit提交</p>
<h3 id="8-示范非规范提交将提交失败">8. 示范（非规范提交，将提交失败）<a hidden class="anchor" aria-hidden="true" href="#8-示范非规范提交将提交失败">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>git commit -m 'feat: 增加 xxx 功能' git commit -m 'bug: 修复 xxx 功能'</code></p>
<h2 id="6-vscode-保存自动格式化">6. vscode 保存自动格式化<a hidden class="anchor" aria-hidden="true" href="#6-vscode-保存自动格式化">#</a></h2>
<p>在.vscode下新建 settings.json</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>{   &quot;editor.codeActionsOnSave&quot;: {     &quot;source.fixAll&quot;: &quot;explicit&quot;   } }</code></p>
<p>之后每次文件有修改，保存时，都会自动格式化</p>
<h2 id="7-配置路由">7. 配置路由<a hidden class="anchor" aria-hidden="true" href="#7-配置路由">#</a></h2>
<p><a href="https://juejin.cn/post/7223779544368627773" title="https://juejin.cn/post/7223779544368627773">vue-router（4.1.6）最新使用指南</a></p>
<h2 id="8-配置-pinia">8. 配置 pinia<a hidden class="anchor" aria-hidden="true" href="#8-配置-pinia">#</a></h2>
<p><a href="https://juejin.cn/post/7223415381788344376" title="https://juejin.cn/post/7223415381788344376">pinia(2.0.34) 最新使用指南与持久化缓存</a></p>
<p>受限于篇幅原因，我把路由和pinia单独发了两篇文章</p>
<h2 id="9-配置scss">9. 配置scss<a hidden class="anchor" aria-hidden="true" href="#9-配置scss">#</a></h2>
<h3 id="1-安装-1">1. 安装<a hidden class="anchor" aria-hidden="true" href="#1-安装-1">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add sass -D</code></p>
<h3 id="2-配置全局-scss-样式文件">2. 配置全局 scss 样式文件<a hidden class="anchor" aria-hidden="true" href="#2-配置全局-scss-样式文件">#</a></h3>
<p>新建 src/assets/styles/index.scss</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>$test-color: red;</code></p>
<p>配置vite.config.ts</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>css: {     preprocessorOptions: {       scss: {         additionalData: '@import &quot;@/assets/styles/index.scss&quot;;',       },     },   },</code></p>
<p>组件中使用</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;style lang=&quot;scss&quot;&gt; body {   color: $test-color; } &lt;/style&gt;</code></p>
<p>重启项目，查看效果</p>
<h2 id="10-配置-element-plus">10. 配置 element-plus<a hidden class="anchor" aria-hidden="true" href="#10-配置-element-plus">#</a></h2>
<h3 id="1-安装-2">1. 安装<a hidden class="anchor" aria-hidden="true" href="#1-安装-2">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add element-plus @element-plus/icons-vue</code></p>
<h3 id="2-按需引入插件">2. 按需引入插件<a hidden class="anchor" aria-hidden="true" href="#2-按需引入插件">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add unplugin-vue-components unplugin-auto-import -D</code></p>
<h3 id="3-配置viteconfigts">3. 配置vite.config.ts<a hidden class="anchor" aria-hidden="true" href="#3-配置viteconfigts">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>// vite.config.ts import AutoImport from 'unplugin-auto-import/vite' import Components from 'unplugin-vue-components/vite' import { ElementPlusResolver } from 'unplugin-vue-components/resolvers' export default defineConfig({   // ...   plugins: [     // ...     AutoImport({       resolvers: [ElementPlusResolver()],     }),     Components({       resolvers: [ElementPlusResolver()],     }),   ], })</code></p>
<h3 id="4-在maints引入">4. 在main.ts引入<a hidden class="anchor" aria-hidden="true" href="#4-在maints引入">#</a></h3>
<p>注意：按需引入时element-plus不需要在main.ts中引入，插件会自动挂载处理，可以在全局直接使用</p>
<p>这里在main.ts中引入element-plus样式与图标</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import * as ElementPlusIconsVue from '@element-plus/icons-vue'; //引入图标 import 'element-plus/dist/index.css'; //引入样式 //... for (const [key, component] of Object.entries(ElementPlusIconsVue)) {   app.component(key, component); }</code></p>
<h2 id="11-配置环境变量">11. 配置环境变量<a hidden class="anchor" aria-hidden="true" href="#11-配置环境变量">#</a></h2>
<p>新建 .env（所有环境生效）.env.development（开发环境配置） .env.production（生产环境配置）</p>
<h3 id="1-定义变量">1. 定义变量<a hidden class="anchor" aria-hidden="true" href="#1-定义变量">#</a></h3>
<p>以 VITE_ 为前缀定义变量</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>VITE_BASE_URL = '//127.0.0.1:9000/api'</code></p>
<h3 id="2-定义变量ts类型">2. 定义变量ts类型<a hidden class="anchor" aria-hidden="true" href="#2-定义变量ts类型">#</a></h3>
<p>修改vite-env.d.ts</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>/// &lt;reference types=&quot;vite/client&quot; /&gt; interface ImportMetaEnv {   readonly VITE_BASE_URL: string; } interface ImportMeta {   readonly env: ImportMetaEnv; }</code></p>
<h3 id="3-使用变量">3. 使用变量<a hidden class="anchor" aria-hidden="true" href="#3-使用变量">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import.meta.env.VITE_BASE_URL</code></p>
<h3 id="4-在viteconfigts中使用环境变量">4. 在vite.config.ts中使用环境变量<a hidden class="anchor" aria-hidden="true" href="#4-在viteconfigts中使用环境变量">#</a></h3>
<p>使用 loadEnv 读取环境变量</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineConfig, loadEnv } from 'vite'; //... export default ({ mode }) =&gt; {   console.log('mode', loadEnv(mode, process.cwd()).VITE_BASE_URL); //127.0.0.1:9000/api     return defineConfig({       //...   }); };</code></p>
<p>使用 yarn dev 启动命令，读取.env 与 .env.development的内容</p>
<p>修改package.json</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&quot;scripts&quot;: {     &quot;test&quot;:&quot;vite --mode test&quot;, //新增   },</code></p>
<p>使用 yarn test 启动命令，读取.env 与 .env.test的内容</p>
<h2 id="12-配置axios">12. 配置axios<a hidden class="anchor" aria-hidden="true" href="#12-配置axios">#</a></h2>
<h3 id="1-安装-3">1. 安装<a hidden class="anchor" aria-hidden="true" href="#1-安装-3">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add axios</code></p>
<h3 id="2-新建utilsaxiosts">2. 新建utils/axios.ts<a hidden class="anchor" aria-hidden="true" href="#2-新建utilsaxiosts">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import axios from 'axios'; /*  * 创建实例  * 与后端服务通信  */ const HttpClient = axios.create({   baseURL: import.meta.env.VITE_BASE_URL, }); /**  * 请求拦截器  * 功能：配置请求头  */ HttpClient.interceptors.request.use(   (config) =&gt; {     const token = '222';     config.headers.authorization = 'Bearer ' + token;     return config;   },   (error) =&gt; {     console.error('网络错误，请稍后重试');     return Promise.reject(error);   }, ); /**  * 响应拦截器  * 功能：处理异常  */ HttpClient.interceptors.response.use(   (config) =&gt; {     return config;   },   (error) =&gt; {     return Promise.reject(error);   }, ); export default HttpClient;</code></p>
<h3 id="3-新建apismodelusermodelts">3. 新建apis/model/userModel.ts<a hidden class="anchor" aria-hidden="true" href="#3-新建apismodelusermodelts">#</a></h3>
<p>定义请求参数类型与返回数据类型</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>//定义请求参数 export interface ListParams {   id: number; //用户id } export interface RowItem {   id: number; //文件id   fileName: string; //文件名 } //定义接口返回数据 export interface ListModel {   code: number;   data: RowItem[]; }</code></p>
<h3 id="4-新建apisuserts">4. 新建apis/user.ts<a hidden class="anchor" aria-hidden="true" href="#4-新建apisuserts">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HttpClient from '../utils/axios'; import type { ListParams, ListModel } from './model/userModel'; export const getList = (params: ListParams) =&gt; {   return HttpClient.get&lt;ListModel&gt;('/list', { params }); };</code></p>
<h3 id="5-使用">5. 使用<a hidden class="anchor" aria-hidden="true" href="#5-使用">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;script setup lang=&quot;ts&quot;&gt; import { getList } from '@/apis/user'; getList({ id: 2 }); &lt;/script&gt;</code></p>
<p>在chrome的network中可以看到请求了<code>http://127.0.0.1:9000/api/list?id=2</code></p>
<h2 id="13-配置端口与代理">13. 配置端口与代理<a hidden class="anchor" aria-hidden="true" href="#13-配置端口与代理">#</a></h2>
<p>修改vite.config.ts</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default defineConfig({     ...   server: {     host: '0.0.0.0',     port: 8080,      open: true,     https: false,     proxy: {       '/api': {         target: '要代理的地址',         changeOrigin: true,         ws: true,         rewrite: (path: string) =&gt; path.replace(/^\/api/, ''),       },     },   },   });</code></p>
<h2 id="14-打包配置">14. 打包配置<a hidden class="anchor" aria-hidden="true" href="#14-打包配置">#</a></h2>
<p>修改vite.config.ts</p>
<h3 id="1-分包">1. 分包<a hidden class="anchor" aria-hidden="true" href="#1-分包">#</a></h3>
<p>通过() =&gt; import()形式加载的组件会自动分包，第三方插件需手动分包</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>build: {     rollupOptions: {       output: {         manualChunks: {           vue: ['vue', 'pinia', 'vue-router'],           elementIcons: ['@element-plus/icons-vue'],         },       },     },   },</code></p>
<h3 id="2-生成gz文件">2. 生成.gz文件<a hidden class="anchor" aria-hidden="true" href="#2-生成gz文件">#</a></h3>
<ol>
<li>安装</li>
</ol>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add vite-plugin-compression -D</code></p>
<ol start="2">
<li>修改vite.config.ts</li>
</ol>
<p>默认情况下插件在开发 (serve) 和生产 (build) 模式中都会调用，使用 apply 属性指明它们仅在 &lsquo;build&rsquo; 或 &lsquo;serve&rsquo; 模式时调用</p>
<p>这里打包生成 .gz 插件仅需在打包时使用</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import viteCompression from 'vite-plugin-compression'   plugins: [     //...     {       ...viteCompression(),       apply: 'build',     },   ],</code></p>
<h3 id="3-js和css文件夹分离">3. js和css文件夹分离<a hidden class="anchor" aria-hidden="true" href="#3-js和css文件夹分离">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default defineConfig({     build: {       rollupOptions: {         output: {           chunkFileNames: &quot;static/js/[name]-[hash].js&quot;,           entryFileNames: &quot;static/js/[name]-[hash].js&quot;,           assetFileNames: &quot;static/[ext]/[name]-[hash].[ext]&quot;,         },       },     },   });</code></p>
<h3 id="4-分析生成包的大小">4. 分析生成包的大小<a hidden class="anchor" aria-hidden="true" href="#4-分析生成包的大小">#</a></h3>
<p>1.安装</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>rollup-plugin-visualizer</code></p>
<ol start="2">
<li>修改vite.config.ts</li>
</ol>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { visualizer } from 'rollup-plugin-visualizer';   plugins: [     //...     visualizer({ open: true }),   ],</code></p>
<h2 id="15-vite与webpack使用区别">15. vite与webpack使用区别<a hidden class="anchor" aria-hidden="true" href="#15-vite与webpack使用区别">#</a></h2>
<h3 id="1-静态资源处理">1. 静态资源处理<a hidden class="anchor" aria-hidden="true" href="#1-静态资源处理">#</a></h3>
<p>webpack：使用require处理</p>
<p>vite：使用 new URL(url, import.meta.url).href 处理</p>
<p>import.meta.url 包含了对于目前 ES 模块的绝对路径</p>
<p>new URL(url [, base]) 构造函数返回一个新创建的 URL 对象，如果url 是相对 URL，则会将 base 用作基准 URL。如果 url 是绝对 URL，则无论参数base是否存在，都将被忽略</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>new URL('../assets/images/home.png', import.meta.url).href //在src/constants/menus.ts下引入图片 //import.meta.url返回 http://localhost:8080/src/constants/menus.ts //new URL(...).href返回 //http://localhost:8080/src/assets/images/home.png</code></p>
<h3 id="2-组件自动化注册">2. 组件自动化注册<a hidden class="anchor" aria-hidden="true" href="#2-组件自动化注册">#</a></h3>
<p>webpack</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;script&gt; const path = require('path'); //读取@/components/BaseEchartsModel下所有.vue文件 const files = require.context('@/components/BaseEchartsModel', false, /\.vue$/); const modules = {}; files.keys().forEach((key) =&gt; {   const name = path.basename(key, '.vue');   modules[name] = files(key).default || files(key); }); export default {   name: 'BaseEcharts',   components: modules, }; &lt;/script&gt;</code></p>
<p>vite</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;script setup lang=&quot;ts&quot;&gt; //读取@/components/BaseEchartsModel下所有.vue文件 import.meta.glob('@/components/BaseEchartsModel/*.vue'); &lt;/script&gt;</code></p>
<h2 id="16-结尾">16. 结尾<a hidden class="anchor" aria-hidden="true" href="#16-结尾">#</a></h2>
<p>想了解更多关于vue的，可在淘宝或京东搜索<code>Vue.js 3编程艺术</code>了解更多，作者曹文杰，封面如下所示。</p>
<p>或者直接访问京东 <a href="https://link.juejin.cn?target=https%3A%2F%2Fitem.jd.com%2F10118840508085.html" title="https://item.jd.com/10118840508085.html">清华大学出版社官方旗舰店</a> 购买</p>
<p>创作历程可参考我的另一篇文章：<a href="https://juejin.cn/post/7419926107856044032" title="https://juejin.cn/post/7419926107856044032">感谢掘金，我的书出版了</a> <img loading="lazy" src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a9804ace27e4ae79f6d1ca1c759ae73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWy5Luj56CB55qE5b2t5LqO5pmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1728616813&amp;x-signature=DBO4np0wbKbP7FYzmliWpLeNrUk%3D" alt="be1b693ad52ed7b9e4e403d77e4f665.jpg"  />
</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
      <li><a href="http://localhost:1313/tags/vue.js/">Vue.js</a></li>
      <li><a href="http://localhost:1313/tags/%E6%9E%B6%E6%9E%84/">架构</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/juejin/4star/%E7%8B%97%E5%A4%B4%E8%AE%A9%E5%90%8E%E5%8F%B0%E4%BA%BA%E5%91%98%E4%B8%80%E9%94%AE%E6%8B%A5%E6%9C%89%E8%87%AA%E5%B7%B1%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E5%89%8D%E7%AB%AF%E5%8A%9F%E8%83%BD/">
    <span class="title">« 上一页</span>
    <br>
    <span>4Star!/狗头，让后台人员一键拥有自己系统的管理平台前端功能！</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/wiki/23%E5%B9%B4%E7%AC%AC5%E5%91%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
    <span class="title">下一页 »</span>
    <br>
    <span>23年第5周学习笔记</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on x"
            href="https://x.com/intent/tweet/?text=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f&amp;hashtags=%e5%89%8d%e7%ab%af%2cVue.js%2c%e6%9e%b6%e6%9e%84">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f&amp;title=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&amp;summary=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f&title=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on whatsapp"
            href="https://api.whatsapp.com/send?text=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on telegram"
            href="https://telegram.me/share/url?text=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite53&#43;Typescript&#43;Vue3&#43;Pinia最新搭建企业级前端项目 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Vite53%2bTypescript%2bVue3%2bPinia%e6%9c%80%e6%96%b0%e6%90%ad%e5%bb%ba%e4%bc%81%e4%b8%9a%e7%ba%a7%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite53%2btypescript%2bvue3%2bpinia%25E6%259C%2580%25E6%2596%25B0%25E6%2590%25AD%25E5%25BB%25BA%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E5%2589%258D%25E7%25AB%25AF%25E9%25A1%25B9%25E7%259B%25AE%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
