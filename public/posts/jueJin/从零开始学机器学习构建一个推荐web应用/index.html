<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>从零开始学机器学习——构建一个推荐web应用 | PaperMod</title>
<meta name="keywords" content="后端, 机器学习">
<meta name="description" content="首先给大家介绍一个很好用的学习地址：https://cloudstudio.net/columns今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之">
<meta name="author" content="努力的小雨">
<link rel="canonical" href="http://localhost:1313/posts/juejin/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A8%E8%8D%90web%E5%BA%94%E7%94%A8/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/juejin/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A8%E8%8D%90web%E5%BA%94%E7%94%A8/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="从零开始学机器学习——构建一个推荐web应用" />
<meta property="og:description" content="首先给大家介绍一个很好用的学习地址：https://cloudstudio.net/columns今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/juejin/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A8%E8%8D%90web%E5%BA%94%E7%94%A8/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-10-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-10-04T00:00:00+00:00" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="从零开始学机器学习——构建一个推荐web应用"/>
<meta name="twitter:description" content="首先给大家介绍一个很好用的学习地址：https://cloudstudio.net/columns今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "从零开始学机器学习——构建一个推荐web应用",
      "item": "http://localhost:1313/posts/juejin/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A8%E8%8D%90web%E5%BA%94%E7%94%A8/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "从零开始学机器学习——构建一个推荐web应用",
  "name": "从零开始学机器学习——构建一个推荐web应用",
  "description": "首先给大家介绍一个很好用的学习地址：https://cloudstudio.net/columns今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之",
  "keywords": [
    "后端", "机器学习"
  ],
  "articleBody": "首先给大家介绍一个很好用的学习地址：cloudstudio.net/columns\n今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之前所学的知识点，并新增一个web应用用来让模型和用户交互。所以今天的主题是美食推荐。\n美食推荐 Web 应用程序 首先，请不要担心，本章节并不会涉及过多的前端知识点。我们此次的学习重点在于机器学习本身，因此我们的目标是将模型打包，使得前端用户能够与模型进行直接的界面交互，而不再依赖于后端输入的形式。\n在前面的回归章节中，我们学习了如何使用第三方依赖包 pickle 来创建一个后台生成的 .pkl 后缀的模型文件，并通过 Flask 框架加载该模型，从而在后台暴露接口供调用和分析。今天，我们将探索一个新的知识点——ONNX Web，这将进一步拓宽我们在机器学习模型部署与应用方面的视野。\nONNX Web ONNX Web 是一个用于在浏览器中运行 ONNX 模型的工具和库，主要用于深度学习模型的推理。ONNX（Open Neural Network Exchange）是一个开放的深度学习模型交换格式，它允许不同深度学习框架之间共享模型。ONNX Web 使得开发者可以将 ONNX 模型直接在网页上运行，通常用于机器学习和深度学习的前端应用。\n开发步骤 准备 ONNX 模型：首先，需要一个经过训练并导出的 ONNX 模型。 引入 ONNX Web 库：在你的前端项目中引入 ONNX Web 的 JavaScript 库。可以通过 npm 安装或直接在 HTML 中使用 CDN。 html\n代码解读\n复制代码\n加载模型：使用 ONNX Web API 加载模型并进行推理。 javascript\n代码解读\n复制代码\nconst session = await ort.InferenceSession.create('./model.onnx');\n进行推理：准备输入数据，并使用加载的模型进行推理。 处理输出：根据模型的输出格式处理结果，并在应用中展示。 好的，经过对开发步骤的全面了解后，接下来让我们开始逐步构建一个功能齐全的 Web 应用程序。\n构建模型 首先，我们将使用之前清洗后的菜品数据集来训练一个分类模型。\npython\n代码解读\n复制代码\nimport pandas as pd from sklearn.model_selection import train_test_split from sklearn.svm import SVC from sklearn.model_selection import cross_val_score from sklearn.metrics import accuracy_score,precision_score,confusion_matrix,classification_report data = pd.read_csv('../data/cleaned_cuisines.csv') X = data.iloc[:,2:] y = data[['cuisine']] X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.3) model = SVC(kernel='linear', C=10, probability=True,random_state=0) model.fit(X_train,y_train.values.ravel()) y_pred = model.predict(X_test) print(classification_report(y_test,y_pred))\n关于上述这段代码流程，大家可能已经对其有了一定的了解，因此我将不再进行单独的讲解。\n运行结果如下所示：模型的精度表现相对令人满意，达到了一个不错的水平。\npython\n代码解读\n复制代码\n`precision recall f1-score support chinese 0.71 0.72 0.72 238 indian 0.90 0.86 0.88 259 japanese 0.76 0.75 0.75 248 korean 0.83 0.78 0.80 233 thai 0.73 0.82 0.77 221 accuracy 0.79 1199 macro avg 0.79 0.79 0.78 1199 weighted avg 0.79 0.79 0.79 1199` 模型转换到 Onnx 由于使用到了第三方依赖库，我们需要安装一下，命令如下：\n! pip install skl2onnx\npython\n代码解读\n复制代码\nfrom skl2onnx import convert_sklearn from skl2onnx.common.data_types import FloatTensorType initial_type = [('float_input', FloatTensorType([None, 380]))] options = {id(model): {'nocl': True, 'zipmap': False}} onx = convert_sklearn(model, initial_types=initial_type, options=options) with open(\"./model.onnx\", \"wb\") as f: f.write(onx.SerializeToString())\n这段代码的整体目的是准备将一个 Scikit-Learn 模型转换为 ONNX 格式的过程，定义了输入数据的结构以及转换时的一些配置选项。\ninitial_type 是一个列表，定义了模型的输入特征及其数据类型。 'float_input' 是输入的名称，可以是任意字符串，用于标识输入。 FloatTensorType([None, 380]) 指定输入数据的形状。这里的 [None, 380] 表示： 第一个维度是 None，表示可以接受任意数量的样本（即批处理大小）。 第二个维度是 380，表示每个样本有 380 个特征。 options 是一个字典，用于指定转换过程中的一些选项。 id(model) 获取模型的唯一标识符（ID），用作字典的键。 选项中： 'nocl': True 表示在转换时不使用类别标签的映射（Class Label Mapping）。 'zipmap': False 表示在输出的 ONNX 模型中不使用 ZipMap 功能，这意味着输出将是一个多维数组，而不是一个字典结构。通常在处理分类问题时，ZipMap 可能会将类别标签转换为字典形式，但这里选择保持原始输出。 最后一步则是将模型写入文件即可。\n可视化模型工具——Netron Netron 是一个用于可视化和分析深度学习模型的开源工具，支持多种模型格式，包括 ONNX、TensorFlow、Keras、PyTorch 等。它提供了一个直观的图形界面，帮助用户理解和检查模型结构、层、参数等信息。\n开源地址：github.com/lutzroeder/…\n其中包含了多种系统的安装版本，方便用户根据自己的需求进行选择和安装。此外，它还提供了在线Web应用，用户可以直接通过浏览器访问，无需额外安装任何软件。\n在线Web应用地址如下：netron.app/\n在我们将刚才训练好的模型上传后，可以清晰地查看模型的详细信息。\n同样，你可以通过点击每一个框框来进一步探索模型的具体信息。例如，如果我们点击了“SVMClassifier”这一选项，屏幕上将会弹出一个详细的对话框，如下所示。\n好的，以后如果你想查看模型的具体信息和性能表现，当然可以利用这个可视化工具作为参考。\nWeb 应用程序 这次，我们将不再使用Python后台来启动应用，而是完全依赖一个前端静态页面来实现所有功能。\nhtml\n代码解读\n复制代码\n\u003c!DOCTYPE html\u003e Cuisine Matcher Check your refrigerator. What can you create? apple pear cherry fenugreek sake soy sauce cumin What kind of cuisine can you make? 大致解释下js部分的代码：\n创建一个长度为 380 的数组 ingredients，初始值为 0，用于表示选择的食材状态。 获取所有的复选框，并为每个复选框添加 change 事件监听器。当复选框状态变化时，根据复选框的 value 更新 ingredients 数组，选中为 1，未选中为 0。 testCheckboxes 函数用于检查是否至少选中一个复选框。 startInference 函数首先检查是否选中至少一个食材。如果没有，则弹出提示框。 如果有选中食材，异步加载 ONNX 模型 (model.onnx)。 创建一个张量 input，形状为 [1, 380]，用以存储食材信息。 调用模型的 run 方法进行推理，并获取结果。 结果中的 label 数据用于显示推荐的菜肴。 我们来运行一下，这里用到了http-server依赖：\nnpm install –global http-server\n运行后，如图所示：\n至此，我们已经完成了整个Web应用程序的构建过程。\n总结 在这次学习旅程中，我们成功构建了一个美食推荐的Web应用程序，探索了机器学习和Web开发的交集。通过使用ONNX Web，我们能够将训练好的模型直接集成到浏览器中，让用户可以与模型进行互动，而无需依赖后端，这极大地提高了用户体验。结合Netron这一强大的可视化工具，我们不仅能够分析和理解模型的内部结构，还可以直观地展示模型的性能与特点。\n至此，我们的分类章节圆满结束，感谢大家的认真学习和参与。在下一次的课程中，我们将深入探讨聚类技术，了解其在数据分析和机器学习中的重要应用。\n我是努力的小雨，一名 Java 服务端码农，潜心研究着 AI 技术的奥秘。我热爱技术交流与分享，对开源社区充满热情。同时也是一位腾讯云创作之星、阿里云专家博主、华为云云享专家、掘金优秀作者。\n💡 我将不吝分享我在技术道路上的个人探索与经验，希望能为你的学习与成长带来一些启发与帮助。\n🌟 欢迎关注努力的小雨！🌟\n",
  "wordCount" : "562",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2024-10-04T00:00:00Z",
  "dateModified": "2024-10-04T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "努力的小雨"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/juejin/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A8%E8%8D%90web%E5%BA%94%E7%94%A8/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      从零开始学机器学习——构建一个推荐web应用
    </h1>
    <div class="post-description">
      首先给大家介绍一个很好用的学习地址：https://cloudstudio.net/columns今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之
    </div>
    <div class="post-meta"><span title='2024-10-04 00:00:00 +0000 UTC'>十月 4, 2024</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;努力的小雨&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/jueJin/%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%be%8e%e9%a3%9f%e6%8e%a8%e8%8d%90-web-%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f" aria-label="美食推荐 Web 应用程序">美食推荐 Web 应用程序</a><ul>
                        
                <li>
                    <a href="#onnx-web" aria-label="ONNX Web">ONNX Web</a><ul>
                        
                <li>
                    <a href="#%e5%bc%80%e5%8f%91%e6%ad%a5%e9%aa%a4" aria-label="开发步骤">开发步骤</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%9e%84%e5%bb%ba%e6%a8%a1%e5%9e%8b" aria-label="构建模型">构建模型</a></li>
                <li>
                    <a href="#%e6%a8%a1%e5%9e%8b%e8%bd%ac%e6%8d%a2%e5%88%b0-onnx" aria-label="模型转换到 Onnx">模型转换到 Onnx</a><ul>
                        
                <li>
                    <a href="#%e5%8f%af%e8%a7%86%e5%8c%96%e6%a8%a1%e5%9e%8b%e5%b7%a5%e5%85%b7netron" aria-label="可视化模型工具——Netron">可视化模型工具——Netron</a></li></ul>
                </li>
                <li>
                    <a href="#web-%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f" aria-label="Web 应用程序">Web 应用程序</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>首先给大家介绍一个很好用的学习地址：<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloudstudio.net%2Fcolumns" title="https://cloudstudio.net/columns">cloudstudio.net/columns</a></p>
<p>今天，我们终于将分类器这一章节学习完活了，和回归一样，最后一章节用来构建web应用程序，我们会回顾之前所学的知识点，并新增一个web应用用来让模型和用户交互。所以今天的主题是美食推荐。</p>
<h2 id="美食推荐-web-应用程序">美食推荐 Web 应用程序<a hidden class="anchor" aria-hidden="true" href="#美食推荐-web-应用程序">#</a></h2>
<p>首先，请不要担心，本章节并不会涉及过多的前端知识点。我们此次的学习重点在于机器学习本身，因此我们的目标是将模型打包，使得前端用户能够与模型进行直接的界面交互，而不再依赖于后端输入的形式。</p>
<p>在前面的回归章节中，我们学习了如何使用第三方依赖包 <code>pickle</code> 来创建一个后台生成的 <code>.pkl</code> 后缀的模型文件，并通过 Flask 框架加载该模型，从而在后台暴露接口供调用和分析。今天，我们将探索一个新的知识点——ONNX Web，这将进一步拓宽我们在机器学习模型部署与应用方面的视野。</p>
<h3 id="onnx-web">ONNX Web<a hidden class="anchor" aria-hidden="true" href="#onnx-web">#</a></h3>
<p>ONNX Web 是一个用于在浏览器中运行 ONNX 模型的工具和库，主要用于深度学习模型的推理。ONNX（Open Neural Network Exchange）是一个开放的深度学习模型交换格式，它允许不同深度学习框架之间共享模型。ONNX Web 使得开发者可以将 ONNX 模型直接在网页上运行，通常用于机器学习和深度学习的前端应用。</p>
<h4 id="开发步骤">开发步骤<a hidden class="anchor" aria-hidden="true" href="#开发步骤">#</a></h4>
<ul>
<li>准备 ONNX 模型：首先，需要一个经过训练并导出的 ONNX 模型。</li>
<li>引入 ONNX Web 库：在你的前端项目中引入 ONNX Web 的 JavaScript 库。可以通过 npm 安装或直接在 HTML 中使用 CDN。</li>
</ul>
<p>html</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/onnxruntime-web@1.9.09/dist/ort.min.js&quot;&gt;&lt;/script&gt;</code></p>
<ul>
<li>加载模型：使用 ONNX Web API 加载模型并进行推理。</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>const session = await ort.InferenceSession.create('./model.onnx');</code></p>
<ul>
<li>进行推理：准备输入数据，并使用加载的模型进行推理。</li>
<li>处理输出：根据模型的输出格式处理结果，并在应用中展示。</li>
</ul>
<p>好的，经过对开发步骤的全面了解后，接下来让我们开始逐步构建一个功能齐全的 Web 应用程序。</p>
<h3 id="构建模型">构建模型<a hidden class="anchor" aria-hidden="true" href="#构建模型">#</a></h3>
<p>首先，我们将使用之前清洗后的菜品数据集来训练一个分类模型。</p>
<p>python</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import pandas as pd  from sklearn.model_selection import train_test_split from sklearn.svm import SVC from sklearn.model_selection import cross_val_score from sklearn.metrics import accuracy_score,precision_score,confusion_matrix,classification_report data = pd.read_csv('../data/cleaned_cuisines.csv') X = data.iloc[:,2:] y = data[['cuisine']] X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.3) model = SVC(kernel='linear', C=10, probability=True,random_state=0) model.fit(X_train,y_train.values.ravel()) y_pred = model.predict(X_test) print(classification_report(y_test,y_pred))</code></p>
<p>关于上述这段代码流程，大家可能已经对其有了一定的了解，因此我将不再进行单独的讲解。</p>
<p>运行结果如下所示：模型的精度表现相对令人满意，达到了一个不错的水平。</p>
<p>python</p>
<p>代码解读</p>
<p>复制代码</p>
<pre><code>          `precision    recall  f1-score   support      chinese       0.71      0.72      0.72       238       indian       0.90      0.86      0.88       259     japanese       0.76      0.75      0.75       248       korean       0.83      0.78      0.80       233         thai       0.73      0.82      0.77       221     accuracy                           0.79      1199    macro avg       0.79      0.79      0.78      1199 weighted avg       0.79      0.79      0.79      1199`
</code></pre>
<h3 id="模型转换到-onnx">模型转换到 Onnx<a hidden class="anchor" aria-hidden="true" href="#模型转换到-onnx">#</a></h3>
<p>由于使用到了第三方依赖库，我们需要安装一下，命令如下：</p>
<blockquote>
<p>! pip install skl2onnx</p>
</blockquote>
<p>python</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>from skl2onnx import convert_sklearn from skl2onnx.common.data_types import FloatTensorType initial_type = [('float_input', FloatTensorType([None, 380]))] options = {id(model): {'nocl': True, 'zipmap': False}} onx = convert_sklearn(model, initial_types=initial_type, options=options) with open(&quot;./model.onnx&quot;, &quot;wb&quot;) as f:     f.write(onx.SerializeToString())</code></p>
<p>这段代码的整体目的是准备将一个 Scikit-Learn 模型转换为 ONNX 格式的过程，定义了输入数据的结构以及转换时的一些配置选项。</p>
<ul>
<li><code>initial_type</code> 是一个列表，定义了模型的输入特征及其数据类型。</li>
<li><code>'float_input'</code> 是输入的名称，可以是任意字符串，用于标识输入。</li>
<li><code>FloatTensorType([None, 380])</code> 指定输入数据的形状。这里的 <code>[None, 380]</code> 表示：
<ul>
<li>第一个维度是 <code>None</code>，表示可以接受任意数量的样本（即批处理大小）。</li>
<li>第二个维度是 <code>380</code>，表示每个样本有 380 个特征。</li>
</ul>
</li>
<li><code>options</code> 是一个字典，用于指定转换过程中的一些选项。
<ul>
<li><code>id(model)</code> 获取模型的唯一标识符（ID），用作字典的键。</li>
<li>选项中：
<ul>
<li><code>'nocl': True</code> 表示在转换时不使用类别标签的映射（Class Label Mapping）。</li>
<li><code>'zipmap': False</code> 表示在输出的 ONNX 模型中不使用 ZipMap 功能，这意味着输出将是一个多维数组，而不是一个字典结构。通常在处理分类问题时，ZipMap 可能会将类别标签转换为字典形式，但这里选择保持原始输出。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>最后一步则是将模型写入文件即可。</p>
<h4 id="可视化模型工具netron">可视化模型工具——Netron<a hidden class="anchor" aria-hidden="true" href="#可视化模型工具netron">#</a></h4>
<p>Netron 是一个用于可视化和分析深度学习模型的开源工具，支持多种模型格式，包括 ONNX、TensorFlow、Keras、PyTorch 等。它提供了一个直观的图形界面，帮助用户理解和检查模型结构、层、参数等信息。</p>
<p>开源地址：<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flutzroeder%2FNetron%3Ftab%3Dreadme-ov-file" title="https://github.com/lutzroeder/Netron?tab=readme-ov-file">github.com/lutzroeder/…</a></p>
<p>其中包含了多种系统的安装版本，方便用户根据自己的需求进行选择和安装。此外，它还提供了在线Web应用，用户可以直接通过浏览器访问，无需额外安装任何软件。</p>
<p>在线Web应用地址如下：<a href="https://link.juejin.cn?target=https%3A%2F%2Fnetron.app%2F" title="https://netron.app/">netron.app/</a></p>
<p><img loading="lazy" src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/436afa798d684ecbaababa745d3a0b8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb55qE5bCP6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1728647514&amp;x-signature=Iv0AHd%2FM4p8Iqeu8JRg1%2BQ%2F9KA4%3D" alt="image"  />
</p>
<p>在我们将刚才训练好的模型上传后，可以清晰地查看模型的详细信息。</p>
<p><img loading="lazy" src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59b9032c09f249eaa150e2b3b6e8ba7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb55qE5bCP6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1728647514&amp;x-signature=1SIF7HexMnR%2F%2FK2b8MaKSZTRrXo%3D" alt="image"  />
</p>
<p>同样，你可以通过点击每一个框框来进一步探索模型的具体信息。例如，如果我们点击了“SVMClassifier”这一选项，屏幕上将会弹出一个详细的对话框，如下所示。</p>
<p><img loading="lazy" src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c1c25f282f0442296667dafc16df620~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb55qE5bCP6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1728647514&amp;x-signature=QOSwMe2RjJWLidjwQ6%2BwRup%2BPLs%3D" alt="image"  />
</p>
<p>好的，以后如果你想查看模型的具体信息和性能表现，当然可以利用这个可视化工具作为参考。</p>
<h3 id="web-应用程序">Web 应用程序<a hidden class="anchor" aria-hidden="true" href="#web-应用程序">#</a></h3>
<p>这次，我们将不再使用Python后台来启动应用，而是完全依赖一个前端静态页面来实现所有功能。</p>
<p>html</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;header&gt;         &lt;title&gt;Cuisine Matcher&lt;/title&gt;     &lt;/header&gt;     &lt;body&gt;         &lt;h1&gt;Check your refrigerator. What can you create?&lt;/h1&gt;         &lt;div id=&quot;wrapper&quot;&gt;             &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;4&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;apple&lt;/label&gt;             &lt;/div&gt;                      &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;247&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;pear&lt;/label&gt;             &lt;/div&gt;                      &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;77&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;cherry&lt;/label&gt;             &lt;/div&gt;             &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;126&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;fenugreek&lt;/label&gt;             &lt;/div&gt;             &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;302&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;sake&lt;/label&gt;             &lt;/div&gt;             &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;327&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;soy sauce&lt;/label&gt;             &lt;/div&gt;             &lt;div class=&quot;boxCont&quot;&gt;                 &lt;input type=&quot;checkbox&quot; value=&quot;112&quot; class=&quot;checkbox&quot;&gt;                 &lt;label&gt;cumin&lt;/label&gt;             &lt;/div&gt;         &lt;/div&gt;         &lt;div style=&quot;padding-top:10px&quot;&gt;             &lt;button onClick=&quot;startInference()&quot;&gt;What kind of cuisine can you make?&lt;/button&gt;         &lt;/div&gt;               &lt;!-- import ONNXRuntime Web from CDN --&gt;         &lt;script src=&quot;https://cdn.jsdelivr.net/npm/onnxruntime-web@1.9.0/dist/ort.min.js&quot;&gt;&lt;/script&gt;         &lt;script&gt;         const ingredients = Array(380).fill(0);                  const checks = [...document.querySelectorAll('.checkbox')];                  checks.forEach(check =&gt; {             check.addEventListener('change', function() {                 // toggle the state of the ingredient                 // based on the checkbox's value (1 or 0)                 ingredients[check.value] = check.checked ? 1 : 0;             });         });         function testCheckboxes() {             // validate if at least one checkbox is checked             return checks.some(check =&gt; check.checked);         }         async function startInference() {             let atLeastOneChecked = testCheckboxes()             if (!atLeastOneChecked) {                 alert('Please select at least one ingredient.');                 return;             }             try {                 // create a new session and load the model.                                  const session = await ort.InferenceSession.create('./model.onnx');                 const input = new ort.Tensor(new Float32Array(ingredients), [1, 380]);                 const feeds = { float_input: input };                 // feed inputs and run                 const results = await session.run(feeds);                 // read from results                 alert('You can enjoy ' + results.label.data[0] + ' cuisine today!')             } catch (e) {                 console.log(`failed to inference ONNX model`);                 console.error(e);             }         }                     &lt;/script&gt;     &lt;/body&gt; &lt;/html&gt;</code></p>
<p>大致解释下js部分的代码：</p>
<ul>
<li>创建一个长度为 380 的数组 ingredients，初始值为 0，用于表示选择的食材状态。</li>
<li>获取所有的复选框，并为每个复选框添加 change 事件监听器。当复选框状态变化时，根据复选框的 value 更新 ingredients 数组，选中为 1，未选中为 0。</li>
<li>testCheckboxes 函数用于检查是否至少选中一个复选框。</li>
<li>startInference 函数首先检查是否选中至少一个食材。如果没有，则弹出提示框。
<ul>
<li>如果有选中食材，异步加载 ONNX 模型 (model.onnx)。</li>
<li>创建一个张量 input，形状为 [1, 380]，用以存储食材信息。</li>
<li>调用模型的 run 方法进行推理，并获取结果。</li>
<li>结果中的 label 数据用于显示推荐的菜肴。</li>
</ul>
</li>
</ul>
<p>我们来运行一下，这里用到了http-server依赖：</p>
<blockquote>
<p>npm install &ndash;global http-server</p>
</blockquote>
<p>运行后，如图所示：</p>
<p><img loading="lazy" src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2dbfc30ac364163b2e419147dbddb02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqq5Yqb55qE5bCP6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1728647514&amp;x-signature=SQK1SAKAD6ed4xLJ337Lzd7%2BoGc%3D" alt="image"  />
</p>
<p>至此，我们已经完成了整个Web应用程序的构建过程。</p>
<h2 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h2>
<p>在这次学习旅程中，我们成功构建了一个美食推荐的Web应用程序，探索了机器学习和Web开发的交集。通过使用ONNX Web，我们能够将训练好的模型直接集成到浏览器中，让用户可以与模型进行互动，而无需依赖后端，这极大地提高了用户体验。结合Netron这一强大的可视化工具，我们不仅能够分析和理解模型的内部结构，还可以直观地展示模型的性能与特点。</p>
<p>至此，我们的分类章节圆满结束，感谢大家的认真学习和参与。在下一次的课程中，我们将深入探讨聚类技术，了解其在数据分析和机器学习中的重要应用。</p>
<hr>
<p>我是努力的小雨，一名 Java 服务端码农，潜心研究着 AI 技术的奥秘。我热爱技术交流与分享，对开源社区充满热情。同时也是一位腾讯云创作之星、阿里云专家博主、华为云云享专家、掘金优秀作者。</p>
<p>💡 我将不吝分享我在技术道路上的个人探索与经验，希望能为你的学习与成长带来一些启发与帮助。</p>
<p>🌟 欢迎关注努力的小雨！🌟</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E5%90%8E%E7%AB%AF/">后端</a></li>
      <li><a href="http://localhost:1313/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/juejin/ecmainternational%E6%89%B9%E5%87%86ecmascript2024%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B0%E5%86%85%E5%AE%B9/">
    <span class="title">« 上一页</span>
    <br>
    <span>EcmaInternational批准ECMAScript2024：有哪些新内容？</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/juejin/%E7%AE%97%E6%B3%95%E7%88%B1%E5%90%83%E9%A6%99%E8%95%89%E7%9A%84%E7%8F%82%E7%8F%82/">
    <span class="title">下一页 »</span>
    <br>
    <span>【算法】爱吃香蕉的珂珂</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on x"
            href="https://x.com/intent/tweet/?text=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f&amp;hashtags=%e5%90%8e%e7%ab%af%2c%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f&amp;title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8&amp;summary=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f&title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on telegram"
            href="https://telegram.me/share/url?text=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从零开始学机器学习——构建一个推荐web应用 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e5%ad%a6%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e2%80%94%e2%80%94%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%8e%a8%e8%8d%90web%e5%ba%94%e7%94%a8&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258E%25E9%259B%25B6%25E5%25BC%2580%25E5%25A7%258B%25E5%25AD%25A6%25E6%259C%25BA%25E5%2599%25A8%25E5%25AD%25A6%25E4%25B9%25A0%25E6%259E%2584%25E5%25BB%25BA%25E4%25B8%2580%25E4%25B8%25AA%25E6%258E%25A8%25E8%258D%2590web%25E5%25BA%2594%25E7%2594%25A8%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
