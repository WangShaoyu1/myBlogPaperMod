<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>从Vue20到React17——React开发入门 | PaperMod</title>
<meta name="keywords" content="React.js, Vue.js">
<meta name="description" content="找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。本文将带你从Vue20出发入门React17。">
<meta name="author" content="前端大骆">
<link rel="canonical" href="http://localhost:1313/posts/juejin/%E4%BB%8Evue20%E5%88%B0react17react%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/juejin/%E4%BB%8Evue20%E5%88%B0react17react%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="从Vue20到React17——React开发入门" />
<meta property="og:description" content="找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。本文将带你从Vue20出发入门React17。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/juejin/%E4%BB%8Evue20%E5%88%B0react17react%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-06-20T00:00:00+00:00" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="从Vue20到React17——React开发入门"/>
<meta name="twitter:description" content="找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。本文将带你从Vue20出发入门React17。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "从Vue20到React17——React开发入门",
      "item": "http://localhost:1313/posts/juejin/%E4%BB%8Evue20%E5%88%B0react17react%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "从Vue20到React17——React开发入门",
  "name": "从Vue20到React17——React开发入门",
  "description": "找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。本文将带你从Vue20出发入门React17。",
  "keywords": [
    "React.js", "Vue.js"
  ],
  "articleBody": "“这是我参与更文挑战的第1天，活动详情查看： 更文挑战”\n前言 找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。因为我用Vue2.0开发项目已经四年了，故用Vue2.0开发项目的思路来学习React。\n前端项目是由一个个页面组成的，对于Vue来说，一个页面是由多个组件构成的，页面本身也是一个路由组件。对于React来说也是如此。Vue会提供一系列技术支持来完成一个组件的开发，可以从这一系列技术支持出发，去React中寻找对应的技术支持来入门React，比如React中如何开发组件的UI，React中如何使用组件，React中如何定义组件数据等等。\n本专栏将按照这个思路带领你从Vue2.0入门React17。\n1、脚手架 首先得选择一个脚手架搭建一个React工程，React有很多脚手架，为什么选择UmiJS这个脚手架，不为什么，这个脚手架和Vue Cli比较类似，至少路由配置和Vue Router很类似。\n在学习前，先用UmiJS搭建一个React工程，步骤很简单：\n先找个地方建个空目录，打开命令行工具，执行命令 mkdir myapp \u0026\u0026 cd myapp； 执行命令npm create @umijs/umi-app创建一个React工程； 执行命令npm install安装依赖； 依赖安装成功后，执行命令npm run start启动项目，在浏览器上打开 http://localhost:8000 访问项目。 可以看见myapp这个React工程的目录结构如下所示：\nbash\n代码解读\n复制代码\n. ├── package.json ├── .umirc.ts ├── .env ├── dist ├── mock ├── public └── src ├── .umi ├── layouts/index.tsx ├── pages ├── index.less └── index.tsx └── app.ts\n打开 .umirc.ts 文件，其内容如下所示\nphp\n代码解读\n复制代码\nimport { defineConfig } from 'umi'; export default defineConfig({ nodeModulesTransform: { type: 'none', }, routes: [ { path: '/', component: '@/pages/index' }, ], fastRefresh: {}, });\n其路由是在routes选项中配置，配置和Vue Router非常相似，具体如何配置放在后面介绍路由跳转和传参中一并介绍。\n接下来在_src/pages/index.tsx_文件中书写demo来学习React。\n2、React中如何开发组件的UI Vue和React中所开发的都是组件，其页面也是一个路由组件。在Vue中组件是定义在后缀为.vue的文件中，在React中组件是定义在后缀为.js的文件中，若使用TypeScript来开发React，则其组件是定义在后缀为.tsx的文件中。\n那如何开发一个组件的UI部分，例如开发一个 HelloWorld 组件在浏览器页面上展示hello world，一个组件的UI包括HTML部分和CSS部分。\n2.1 HTML部分 组件的HTML部分，Vue推荐使用template模板，React推荐使用JSX语法。\n在工程的_src/pages_文件夹中创建一个_HelloWorld.js_文件，在其中开发HelloWorld组件。\n此外React组件有两种定义方法，一种是函数形式，一种是ES6的class形式。\n函数形式，称为函数组件：\njavascript\n代码解读\n复制代码\nexport default function HelloWorld() { return ( hello world ); }\nES6的class形式，称为类组件：\nscala\n代码解读\n复制代码\nimport React from 'react'; export default class HelloWorld extends React.Component { constructor(props) { super(props); } render() { return ( hello world ); } }\n这里要注意函数名的首字母要大写。在函数中的return后面用JSX语法来开发组件的UI部分。\n另外还要注意在return后面的内容最外面要用()括起来，否则在return同一行后面最少跟一个\u003c才可以，如下所示：\njavascript\n代码解读\n复制代码\nexport default function HelloWorld() { return \u003c div\u003ehello world }\n这样看起来是不是怪怪的，所以最好加个()。\n2.2 绑定 Class 和 Style 关于组件的CSS部分，其最重要的是绑定 Class 和 Style，才能给组件的HTML添加样式。\n先来看一下 Class 与 Style 是固定不变，React 中是怎么绑定的。\njavascript\n代码解读\n复制代码\nexport default function HelloWorld() { return ( hello world ); }\nReact中是用className来绑定 Class，用style来绑定 Style。其中style接受的值是一个对象，且用{}中括号传入，而且对象的属性名只能用驼峰式 (camelCase) 来命名。\n在来看一下 Class 与 Style 是变量，在React中是怎么绑定的。\n类组件的写法： kotlin\n代码解读\n复制代码\nimport React from 'react'; export default class HelloWorld extends React.Component { constructor(props) { super(props); this.state = { styleData: { color: 'red', 'fontSize': \"16px\" }, isHead: true, className: 'title' }; } render() { return ( ",
  "wordCount" : "1907",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2021-06-20T00:00:00Z",
  "dateModified": "2021-06-20T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "前端大骆"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/juejin/%E4%BB%8Evue20%E5%88%B0react17react%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      从Vue20到React17——React开发入门
    </h1>
    <div class="post-description">
      找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。本文将带你从Vue20出发入门React17。
    </div>
    <div class="post-meta"><span title='2021-06-20 00:00:00 +0000 UTC'>六月 20, 2021</span>&nbsp;·&nbsp;9 分钟&nbsp;·&nbsp;前端大骆&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/jueJin/%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="前言">前言</a></li>
                <li>
                    <a href="#1%e8%84%9a%e6%89%8b%e6%9e%b6" aria-label="1、脚手架">1、脚手架</a></li>
                <li>
                    <a href="#2react%e4%b8%ad%e5%a6%82%e4%bd%95%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e7%9a%84ui" aria-label="2、React中如何开发组件的UI">2、React中如何开发组件的UI</a><ul>
                        
                <li>
                    <a href="#21-html%e9%83%a8%e5%88%86" aria-label="2.1 HTML部分">2.1 HTML部分</a></li>
                <li>
                    <a href="#22-%e7%bb%91%e5%ae%9a-class-%e5%92%8c-style" aria-label="2.2 绑定 Class 和 Style">2.2 绑定 Class 和 Style</a></li></ul>
                </li>
                <li>
                    <a href="#3react%e4%b8%ad%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e7%bb%84%e4%bb%b6" aria-label="3、React中如何使用组件">3、React中如何使用组件</a></li>
                <li>
                    <a href="#4react%e4%b8%ad%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e7%bb%84%e4%bb%b6%e6%95%b0%e6%8d%ae" aria-label="4、React中如何定义组件数据">4、React中如何定义组件数据</a><ul>
                        
                <li>
                    <a href="#41-%e5%ae%9a%e4%b9%89%e5%86%85%e9%83%a8%e6%95%b0%e6%8d%aestate" aria-label="4.1 定义内部数据state">4.1 定义内部数据state</a></li>
                <li>
                    <a href="#42-%e5%ae%9a%e4%b9%89%e5%8f%82%e6%95%b0%e6%95%b0%e6%8d%aeprops" aria-label="4.2 定义参数数据props">4.2 定义参数数据props</a></li></ul>
                </li>
                <li>
                    <a href="#5react%e4%b8%ad%e5%a6%82%e4%bd%95%e5%90%91%e7%bb%84%e4%bb%b6%e4%bc%a0%e9%80%92%e6%95%b0%e6%8d%ae" aria-label="5、React中如何向组件传递数据">5、React中如何向组件传递数据</a></li>
                <li>
                    <a href="#6react%e4%b8%ad%e5%a6%82%e4%bd%95%e7%9b%91%e5%90%acdom%e4%ba%8b%e4%bb%b6" aria-label="6、React中如何监听DOM事件">6、React中如何监听DOM事件</a><ul>
                        
                <li>
                    <a href="#61-%e7%9b%91%e5%90%acdom%e5%85%83%e7%b4%a0%e7%9a%84dom%e4%ba%8b%e4%bb%b6" aria-label="6.1 监听DOM元素的DOM事件">6.1 监听DOM元素的DOM事件</a></li>
                <li>
                    <a href="#62-%e7%9b%91%e5%90%acreact%e7%bb%84%e4%bb%b6%e7%9a%84dom%e4%ba%8b%e4%bb%b6" aria-label="6.2 监听React组件的DOM事件">6.2 监听React组件的DOM事件</a></li></ul>
                </li>
                <li>
                    <a href="#7react%e4%b8%ad%e7%bb%84%e4%bb%b6%e5%a6%82%e4%bd%95%e6%94%b9%e5%8f%98%e6%95%b0%e6%8d%ae" aria-label="7、React中组件如何改变数据">7、React中组件如何改变数据</a><ul>
                        
                <li>
                    <a href="#71-%e6%94%b9%e5%8f%98%e5%86%85%e9%83%a8%e6%95%b0%e6%8d%aestate" aria-label="7.1 改变内部数据state">7.1 改变内部数据state</a></li>
                <li>
                    <a href="#72-%e6%94%b9%e5%8f%98%e5%8f%82%e6%95%b0%e6%95%b0%e6%8d%aeprops" aria-label="7.2 改变参数数据props">7.2 改变参数数据props</a></li></ul>
                </li>
                <li>
                    <a href="#8react%e4%b8%ad%e7%88%b6%e5%ad%90%e7%bb%84%e4%bb%b6%e5%a6%82%e4%bd%95%e9%80%9a%e8%ae%af" aria-label="8、React中父子组件如何通讯">8、React中父子组件如何通讯</a></li>
                <li>
                    <a href="#9react%e4%b8%ad%e5%a6%82%e4%bd%95%e7%9b%91%e5%90%ac%e7%bb%84%e4%bb%b6%e6%95%b0%e6%8d%ae%e7%9a%84%e5%8f%98%e5%8c%96" aria-label="9、React中如何监听组件数据的变化">9、React中如何监听组件数据的变化</a></li>
                <li>
                    <a href="#10react%e4%b8%ad%e7%88%b6%e7%bb%84%e4%bb%b6%e5%a6%82%e4%bd%95%e8%b0%83%e7%94%a8%e5%ad%90%e7%bb%84%e4%bb%b6%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="10、React中父组件如何调用子组件的方法">10、React中父组件如何调用子组件的方法</a></li>
                <li>
                    <a href="#11react%e4%b8%ad%e7%bb%84%e4%bb%b6%e6%8f%92%e6%a7%bd%e6%80%8e%e4%b9%88%e5%ae%9e%e7%8e%b0" aria-label="11、React中组件插槽怎么实现">11、React中组件插槽怎么实现</a><ul>
                        
                <li>
                    <a href="#111-%e6%99%ae%e9%80%9a%e6%8f%92%e6%a7%bd" aria-label="11.1 普通插槽">11.1 普通插槽</a></li>
                <li>
                    <a href="#112-%e5%85%b7%e5%90%8d%e6%8f%92%e6%a7%bd" aria-label="11.2 具名插槽">11.2 具名插槽</a></li>
                <li>
                    <a href="#113-%e4%bd%9c%e7%94%a8%e5%9f%9f%e6%8f%92%e6%a7%bd" aria-label="11.3 作用域插槽">11.3 作用域插槽</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93" aria-label="小结">小结</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>“这是我参与更文挑战的第1天，活动详情查看： <a href="https://juejin.cn/post/6967194882926444557" title="https://juejin.cn/post/6967194882926444557">更文挑战</a>”</p>
<h2 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h2>
<p>找工作时发现有一些公司是以React作为技术栈的，而且薪资待遇都不错，为了增加生存的筹码，所以还是得去学一下React，增加一项求生技能。因为我用Vue2.0开发项目已经四年了，故用Vue2.0开发项目的思路来学习React。</p>
<p>前端项目是由一个个页面组成的，对于Vue来说，一个页面是由多个组件构成的，页面本身也是一个路由组件。对于React来说也是如此。Vue会提供一系列技术支持来完成一个组件的开发，可以从这一系列技术支持出发，去React中寻找对应的技术支持来入门React，比如React中如何开发组件的UI，React中如何使用组件，React中如何定义组件数据等等。</p>
<p>本专栏将按照这个思路带领你从Vue2.0入门React17。</p>
<h2 id="1脚手架">1、脚手架<a hidden class="anchor" aria-hidden="true" href="#1脚手架">#</a></h2>
<p>首先得选择一个脚手架搭建一个React工程，React有很多脚手架，为什么选择UmiJS这个脚手架，不为什么，这个脚手架和Vue Cli比较类似，至少路由配置和Vue Router很类似。</p>
<p>在学习前，先用UmiJS搭建一个React工程，步骤很简单：</p>
<ul>
<li>先找个地方建个空目录，打开命令行工具，执行命令 <code>mkdir myapp &amp;&amp; cd myapp</code>；</li>
<li>执行命令<code>npm create @umijs/umi-app</code>创建一个React工程；</li>
<li>执行命令<code>npm install</code>安装依赖；</li>
<li>依赖安装成功后，执行命令<code>npm run start</code>启动项目，在浏览器上打开 <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8000" title="http://localhost:8000">http://localhost:8000</a> 访问项目。</li>
</ul>
<p>可以看见myapp这个React工程的目录结构如下所示：</p>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>. ├── package.json ├── .umirc.ts ├── .env ├── dist ├── mock ├── public └── src     ├── .umi     ├── layouts/index.tsx     ├── pages         ├── index.less         └── index.tsx     └── app.ts</code></p>
<p>打开 .umirc.ts 文件，其内容如下所示</p>
<p>php</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineConfig } from 'umi'; export default defineConfig({   nodeModulesTransform: {     type: 'none',   },   routes: [     { path: '/', component: '@/pages/index' },   ],   fastRefresh: {}, });</code></p>
<p>其路由是在<code>routes</code>选项中配置，配置和Vue Router非常相似，具体如何配置放在后面介绍路由跳转和传参中一并介绍。</p>
<p>接下来在_src/pages/index.tsx_文件中书写demo来学习React。</p>
<h2 id="2react中如何开发组件的ui">2、React中如何开发组件的UI<a hidden class="anchor" aria-hidden="true" href="#2react中如何开发组件的ui">#</a></h2>
<p>Vue和React中所开发的都是组件，其页面也是一个路由组件。在Vue中组件是定义在后缀为<code>.vue</code>的文件中，在React中组件是定义在后缀为<code>.js</code>的文件中，若使用TypeScript来开发React，则其组件是定义在后缀为<code>.tsx</code>的文件中。</p>
<p>那如何开发一个组件的UI部分，例如开发一个 HelloWorld 组件在浏览器页面上展示<strong>hello world</strong>，一个组件的UI包括HTML部分和CSS部分。</p>
<h3 id="21-html部分">2.1 HTML部分<a hidden class="anchor" aria-hidden="true" href="#21-html部分">#</a></h3>
<p>组件的HTML部分，Vue推荐使用template模板，React推荐使用JSX语法。</p>
<p>在工程的_src/pages_文件夹中创建一个_HelloWorld.js_文件，在其中开发HelloWorld组件。</p>
<p>此外React组件有两种定义方法，一种是函数形式，一种是ES6的class形式。</p>
<p>函数形式，称为函数组件：</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld() {   return (     &lt;div&gt;hello world&lt;/div&gt;   ); }</code></p>
<p>ES6的class形式，称为类组件：</p>
<p>scala</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props) {     super(props);   }   render() {     return (       &lt;div&gt;hello world&lt;/div&gt;     );   } }</code></p>
<p><strong>这里要注意函数名的首字母要大写</strong>。在函数中的<code>return</code>后面用JSX语法来开发组件的UI部分。</p>
<p>另外还要注意在<code>return</code>后面的内容最外面要用<code>()</code>括起来，否则在<code>return</code>同一行后面最少跟一个<code>&lt;</code>才可以，如下所示：</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld() {   return &lt;     div&gt;hello world&lt;/div&gt; }</code></p>
<p>这样看起来是不是怪怪的，所以最好加个<code>()</code>。</p>
<h3 id="22-绑定-class-和-style">2.2 绑定 Class 和 Style<a hidden class="anchor" aria-hidden="true" href="#22-绑定-class-和-style">#</a></h3>
<p>关于组件的CSS部分，其最重要的是绑定 Class 和 Style，才能给组件的HTML添加样式。</p>
<p>先来看一下 Class 与 Style 是固定不变，React 中是怎么绑定的。</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld() {   return (     &lt;div        className=&quot;title head&quot;       style={{color:'red',fontSize:'16px'}}     &gt;       hello world     &lt;/div&gt;   ); }</code></p>
<p>React中是用<code>className</code>来绑定 Class，用<code>style</code>来绑定 Style。其中<code>style</code>接受的值是一个对象，且用<code>{}</code>中括号传入，而且对象的属性名只能用驼峰式 (camelCase) 来命名。</p>
<p>在来看一下 Class 与 Style 是变量，在React中是怎么绑定的。</p>
<ul>
<li>类组件的写法：</li>
</ul>
<p>kotlin</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props) {     super(props);     this.state = {       styleData: { color: 'red', 'fontSize': &quot;16px&quot; },       isHead: true,       className: 'title'     };   }   render() {     return (       &lt;div         className={`${this.state.className} ${this.state.isHead ? 'head' : ''}`}         style={this.state.styleData}       &gt;         hello world       &lt;/div&gt;     );   } }</code></p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState } from 'react'; export default function HelloWorld() {   const [styleData] = useState({ color: 'red', 'fontSize': &quot;16px&quot; });   const [isHead] = useState(true);   const [className] = useState('title');   return (     &lt;div       className={`${className} ${isHead ? 'head' : ''}`}       style={styleData}     &gt;       hello world     &lt;/div&gt;   ); }</code></p>
<p>在React中是使用<code>{}</code>给属性赋值变量，且<code>className</code>只接受字符串，不接受数组或者对象，可以用ES6的模板字符串功能来拼接变量生成字符串。</p>
<p>在函数组件的写法中用<code>useState</code>这个React Hook定义了一些变量，<code>useState</code>的作用放在后面介绍。</p>
<h2 id="3react中如何使用组件">3、React中如何使用组件<a hidden class="anchor" aria-hidden="true" href="#3react中如何使用组件">#</a></h2>
<p>HelloWorld 组件写好了，要如何使用呢？先回顾一下在Vue中是如何使用组件的，在使用组件前要先注册，可以注册为全局组件或局部组件。</p>
<p>在React中是没有注册组件的概念，因为组件相当一个函数，只有引入组件的概念，也没有全局组件的概念。使用组件前必须用<code>import</code>先把组件引入并命名。</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HelloWorld from './HelloWorld.js' export default function Index(){   return (     &lt;HelloWorld/&gt;   ) }</code></p>
<p><strong>在React中组件的命名必须以大写字母开头，因为 React 会将以小写字母开头的组件视为原生 DOM 标签</strong>。</p>
<h2 id="4react中如何定义组件数据">4、React中如何定义组件数据<a hidden class="anchor" aria-hidden="true" href="#4react中如何定义组件数据">#</a></h2>
<p>从开发Vue组件的经验来说，一个组件的数据，可以分为内部数据和参数数据两种。对于React也是如此，在React中把内部数据称为state，把参数数据称为props。</p>
<h3 id="41-定义内部数据state">4.1 定义内部数据state<a hidden class="anchor" aria-hidden="true" href="#41-定义内部数据state">#</a></h3>
<p>在上面介绍React中如何绑定变量形式的 Class 和 Style 的过程已经定义了<code>styleData</code>、<code>isHead</code>、<code>className</code>这些内部数据。</p>
<ul>
<li>在类组件中是在<code>this.state</code>这个对象中定义数据：</li>
</ul>
<p>css</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>this.state = {   styleData: { color: 'red', 'fontSize': &quot;16px&quot; },   isHead: true,   className: 'title' };</code></p>
<ul>
<li>在函数组件的写法中使用<code>useState</code>这个React Hook定义了数据：</li>
</ul>
<p>php</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>const [styleData] = useState({ color: 'red', 'fontSize': &quot;16px&quot; }); const [isHead] = useState(true); const [className] = useState('title');</code></p>
<p>个人推荐使用函数形式来开发React组件，可以使用React Hook，来避免去学习 ES6 中 的 class 语法，还有烦人的<code>this</code>指向问题，从而来降低入门难度。</p>
<p>关于的React Hook 可以看<a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fhooks-intro.html" title="https://zh-hans.reactjs.org/docs/hooks-intro.html">这里</a> 。</p>
<h3 id="42-定义参数数据props">4.2 定义参数数据props<a hidden class="anchor" aria-hidden="true" href="#42-定义参数数据props">#</a></h3>
<p>props用来接收外部传递给组件的数据。例如在 HelloWorld 组件中定义<code>title</code>一个参数数据。</p>
<ul>
<li>类组件的写法：</li>
</ul>
<p>scala</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; class HelloWorld extends React.Component {   constructor(props) {     super(props);   }   render() {     return (       &lt;div&gt;{this.props.title}&lt;/div&gt;     );   } } HelloWorld.defaultProps = {   title: 'hello world' }; export default HelloWorld;</code></p>
<p>在类组件中的构造函数<code>constructor</code>接受<code>props</code>作为传入组件的参数数据集合，并调用<code>super(props)</code>把<code>props</code>传给<code>React.Component</code>构造函数，这样类组件才能接受参数数据集合<code>props</code>，再用<code>this.props.title</code>来读取<code>title</code>参数数据的值，另外可以用<code>defaultProps</code>来定义<code>title</code>参数数据的默认值。</p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState } from 'react'; export default function HelloWorld(props) {   const {title = 'hello world'} = props;   return (     &lt;div&gt;{title}&lt;/div&gt;   ); }</code></p>
<p>函数组件接收一个<code>props</code>作为传入组件参数数据的集合，利用 ES6 解构赋值的功能，来获取组件的参数数据，并可以给参数数据设置默认值。</p>
<p><strong>这里要注意了</strong>，在Vue的template模板中是用<code>{{}}</code>（双大括号）来使用数据的，而在React中是统一用<code>{}</code>（单大括号）来使用数据的。</p>
<p>参数数据Props是用接收外部传递给组件的数据，那React中如何向组件传递数据呢？</p>
<h2 id="5react中如何向组件传递数据">5、React中如何向组件传递数据<a hidden class="anchor" aria-hidden="true" href="#5react中如何向组件传递数据">#</a></h2>
<p>在Vue中规定了动态数据和字符串、数字、布尔值、数组、对象类型的静态数据如何传递给组件，我们一一对应去寻找React中如何传递。</p>
<ul>
<li>传递动态数据</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState } from 'react'; import HelloWorld from './HelloWorld.js'; export default function Index(){   const [styleData] = useState({ color: 'red', 'fontSize': &quot;16px&quot; });   const [isHead] = useState(true);   const [className] = useState('title');   return (     &lt;HelloWorld         styleData={styleData}         isHead={isHead}         className={className}     /&gt;   ) }</code></p>
<ul>
<li>传递字符串类型的静态数据</li>
</ul>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;HelloWorld title=&quot;hello vue&quot;&gt;&lt;/HelloWorld&gt;</code></p>
<ul>
<li>传递数字类型的静态数据</li>
</ul>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;HelloWorld num={1}&gt;&lt;/HelloWorld&gt;</code></p>
<ul>
<li>传递布尔值类型的静态数据</li>
</ul>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;HelloWorld isHead={false}&gt;&lt;/HelloWorld&gt;</code></p>
<ul>
<li>传递数组类型的静态数据</li>
</ul>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;HelloWorld className={['title','head']}&gt;&lt;/HelloWorld&gt;</code></p>
<ul>
<li>传递对象类型的静态数据</li>
</ul>
<p>css</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;HelloWorld styleData={{color:'red','fontSize':&quot;16px&quot;}}&gt;&lt;/HelloWorld&gt;</code></p>
<p>可见在React中，除了传递字符串类型的静态数据，都要用<code>{}</code>包裹数据再赋值给组件标签上的属性来传递数据给组件。</p>
<h2 id="6react中如何监听dom事件">6、React中如何监听DOM事件<a hidden class="anchor" aria-hidden="true" href="#6react中如何监听dom事件">#</a></h2>
<h3 id="61-监听dom元素的dom事件">6.1 监听DOM元素的DOM事件<a hidden class="anchor" aria-hidden="true" href="#61-监听dom元素的dom事件">#</a></h3>
<ul>
<li>类组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props) {     super(props);     // 为了在回调中使用 `this`，这个绑定是必不可少的     this.handleClick = this.handleClick.bind(this);   }      handleClick() {     console.log('点击事件');   }   render() {     return (       &lt;div onClick={this.handleClick}&gt;hello world&lt;/div&gt;     );   } }</code></p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld() {   const handleClick = ()=&gt;{      console.log('点击事件');   }   return (     &lt;div onClick={handleClick}&gt;hello world&lt;/div&gt;   ); }</code></p>
<p>React中用<code>onClick</code>来监听点击事件，用<code>{}</code>包裹点击事件触发时执行的函数，再赋值给<code>onClick</code>。</p>
<p>其中<code>onClick</code>是一个合成事件，在Vue中<code>@</code>后面跟着是DOM的原生事件，而React中<code>on</code>后面跟着并不是DOM的原生事件。例如Vue中监听双击事件 <code>@dblclick</code>，而React中监听双击事件 <code>onDoubleClick</code>。</p>
<p>React中的合成事件具体可以看<a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fevents.html%23mouse-events" title="https://zh-hans.reactjs.org/docs/events.html#mouse-events">这里</a>。</p>
<h3 id="62-监听react组件的dom事件">6.2 监听React组件的DOM事件<a hidden class="anchor" aria-hidden="true" href="#62-监听react组件的dom事件">#</a></h3>
<p>在Vue中用<code>.native</code>修饰符来监听组件上的DOM事件，而在React中监听组件上的DOM事件要这样实现。</p>
<p>例如在组件上监听click事件，先要把click事件触发时要执行的函数当作Props给组件传递进去，在组件的根元素上监听click事件，click事件触发时执行该Props，这样来间接监听组件上的click事件。具体实现如下所示：</p>
<ul>
<li>类组件的写法：</li>
</ul>
<p>typescript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props:any) {     super(props);     console.log(this.props)     this.handleClick = this.handleClick.bind(this);   }   handleClick() {     this.props.onClick();   }   render() {     return (       &lt;div onClick={this.handleClick}&gt;hello world&lt;/div&gt;     );   } }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; import HelloWorld from './HelloWorld'; export default class Grandfather extends React.Component {   handleClick() {     console.log('点击事件');   }   render() {     return (       &lt;HelloWorld onClick={() =&gt; { this.handleClick() }}&gt;       &lt;/HelloWorld&gt;     )   } }</code></p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld(props) {   const { onClick } = props   const handleClick = () =&gt; {     onClick();   }   return (     &lt;div onClick={handleClick}&gt;hello world&lt;/div&gt;   ); }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HelloWorld from './HelloWorld'; export default function Index(){   const handleClick = ()=&gt;{     console.log('点击事件');   }   return (     &lt;HelloWorld onClick={() =&gt; { handleClick() }}&gt;     &lt;/HelloWorld&gt;   ) }</code></p>
<h2 id="7react中组件如何改变数据">7、React中组件如何改变数据<a hidden class="anchor" aria-hidden="true" href="#7react中组件如何改变数据">#</a></h2>
<p>上面介绍了，React组件的数据分为内部数据state和参数数据props，对应的改变方法也不一样。</p>
<h3 id="71-改变内部数据state">7.1 改变内部数据state<a hidden class="anchor" aria-hidden="true" href="#71-改变内部数据state">#</a></h3>
<p>比如要改变组件中定义的内部数据<code>title</code>。</p>
<ul>
<li>类组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props) {     super(props);     this.state = {       title: 'hello world',       className: 'title'     };     // 为了在回调中使用 `this`，这个绑定是必不可少的     this.handleClick = this.handleClick.bind(this);   }      handleClick() {     this.setState(state =&gt; ({       title: 'hello react',       className: 'title active'     }));   }   render() {     return (       &lt;div          className={className}         onClick={this.handleClick}       &gt;{title}&lt;/div&gt;     );   } }</code></p>
<p>在<code>this.setState()</code>中可以传递一个函数或一个对象，建议传递一个函数<code>(state,props) =&gt;{}</code>，函数可以接受内部数据state和参数数据props作为参数，而且<code>state</code>和<code>props</code>只读无法修改，每次调用<code>this.setState</code>时读取到的state和Props都是最新，特别适用多次调用<code>this.setState</code>修改同一个state的场景。最后函数放回一个对象，对象的内容为要修改的state。</p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState } from 'react'; export default function HelloWorld() {   const [title,setTitle] = useState('hello world');   const [className,setClassName] = useState('title');   const handleClick = () =&gt;{     setTitle('hello react');     setClassName('title active')   }   return (     &lt;div        className={className}        onClick={handleClick}     &gt;       {title}     &lt;/div&gt;   ); }</code></p>
<p>在React中称内部数据为state，使用<code>useState(param)</code>定义一个state时，可以通过参数<code>param</code>设置state的默认值，其返回一个数组，数组的第一个值是state，数组的第二个值是改变state的函数，可以调用该函数来改变state。</p>
<p>另外用<code>useState</code>定义的数据是响应式的，若页面有使用该数据，该数据改变后页面会重新渲染。</p>
<h3 id="72-改变参数数据props">7.2 改变参数数据props<a hidden class="anchor" aria-hidden="true" href="#72-改变参数数据props">#</a></h3>
<p>跟Vue一样，在组件中是不能直接改变props，假如要改变props，只能通过在父组件中改变传递给子组件的数据来间接改变props，那在子组件中怎么让父组件改变传递给子组件的数据呢，将在React中父子组件如何通讯介绍。</p>
<h2 id="8react中父子组件如何通讯">8、React中父子组件如何通讯<a hidden class="anchor" aria-hidden="true" href="#8react中父子组件如何通讯">#</a></h2>
<p>用一个例子来介绍，假如 HelloWorld 组件的 “hello world” 是用参数数据props中的<code>title</code>展示，点击组件中的改变标题按钮时变成 “hello React” 。</p>
<ul>
<li>类组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; class HelloWorld extends React.Component {   constructor(props) {     super(props);     this.handleChangeTitle=this.handleChangeTitle.bind(this);   }   handleChangeTitle(){     this.props.changeTitle('hello React');   }   render() {     return (       &lt;div&gt;         {this.props.title}         &lt;button            onClick={this.handleChangeTitle.bind(this)}&gt;           改变标题         &lt;/button&gt;       &lt;/div&gt;     );   } } HelloWorld.defaultProps = {   title: 'hello world' }; export default HelloWorld;</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HelloWorld from './HelloWorld.js' import React from 'react' class Index extends React.Component {   constructor(props) {     super(props);     this.state={       info:'hello world'     };     this.handleChangeTitle=this.handleChangeTitle.bind(this);   }   handleChangeTitle(data){     this.setState(state =&gt;{       return {         info:data       }     })   }   render() {     return (       &lt;HelloWorld          title={this.state.info}          changeTitle={this.handleChangeTitle}&gt;       &lt;/HelloWorld&gt;     );   } } export default Index;</code></p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld(props: any) {   const { title = 'hello world', changeTitle } = props;   const handleChangeTitle = () =&gt; {     changeTitle('hello React')   }   return (     &lt;div&gt;       {title}       &lt;button onClick={handleChangeTitle}&gt;改变标题&lt;/button&gt;     &lt;/div&gt;   ); }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState } from 'react' import HelloWorld from './HelloWorld.js' export default function Index(){   const [info,setInfo] = useState('hello world');   const handleChangeTitle = (data)=&gt;{     setInfo(data);   }   return (     &lt;HelloWorld title={info} changeTitle={handleChangeTitle}/&gt;   ) }</code></p>
<p>在父组件中定义一个<code>info</code>数据传递给子组件的<code>title</code>参数数据，同时也定义了一个回调函数<code>handleChangeTitle</code>来改变<code>info</code>数据，并把回调函数也传递给子组件的<code>changeTitle</code>参数数据。</p>
<p>这样子组件的<code>changeTitle</code>参数数据可以作为一个函数来调用，调用<code>changeTitle</code>时相当调用<code>handleChangeTitle</code>回调函数，可以把要改变的值通过<code>data</code>函数参数传递出来，再执行<code>setInfo(data)</code>改变<code>info</code>数据，再传递给子组件的<code>title</code>参数数据，间接改变了<code>title</code>参数数据，实现了React中组件如何改变参数数据。</p>
<p>在父组件中也可以调用<code>setInfo</code>改变传递给子组件的<code>title</code>参数数据的<code>info</code>数据，以上就是React中父子组件通讯的一个方法。</p>
<h2 id="9react中如何监听组件数据的变化">9、React中如何监听组件数据的变化<a hidden class="anchor" aria-hidden="true" href="#9react中如何监听组件数据的变化">#</a></h2>
<p>在Vue中可以用简单地用<code>watch</code>来监听数据的变化，而在React中比较复杂，子组件的类型不同实现方法也不同。</p>
<ul>
<li>类组件的写法：</li>
</ul>
<p>在类组件中用<code>componentDidUpdate</code>这个生命周期方法来实现，该方法首次渲染时<code>componentDidUpdate</code>不会执行，在后续props和state改变时会触发<code>componentDidUpdate</code>，其接受的第一个参数<code>prevProps</code>代表改变前的props，第二参数<code>prevState</code>代表改变前的state。</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>componentDidUpdate(prevProps, prevState){   if(prevProps.title !== this.props.title){      console.log('props中的title数据改变了');   }   if(prevState.info !== this.state.info){      console.log('state中的info数据改变了');   } }</code></p>
<ul>
<li>函数组件的写法</li>
</ul>
<p>在函数组件中，可以<code>useEffect</code>这个React Hook监听数据的变化，但是无法像Vue的<code>watch</code>能够获取改变前的旧数据。所以要自定义一个Hook来实现类似Vue的<code>watch</code>的功能。自定义Hook是一个函数，其名称以 “use” 开头，函数内部可以调用其他的 Hook。故把这个自定义Hook称为<code>useWatch</code>。</p>
<p>如何获取改变前的旧数据，可以在第一次数据改变时触发<code>useWatch</code>时用一个容器把旧数据存储起来，下次再触发<code>useWatch</code>时通过读取容器中的值就可以获取改变前的旧数据。容器可以用<code>useRef</code>这个 Hook 来创建。</p>
<blockquote>
<p>useRef 返回一个可变的 ref 对象，其 .current 属性被初始化为传入的参数（initialValue）。返回的 ref 对象在组件的整个生命周期内保持不变。</p>
</blockquote>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import {useEffect,useRef} from 'react'; export function useWatch(value,callback){   const oldValue = useRef();   useEffect(() =&gt;{     callback(value,oldValue.current);     oldValue.current=value;   },[value]) }</code></p>
<p>但是<code>useEffect</code>会在组件初次渲染后就会调用一次，导致<code>callback</code>回调函数会被执行一次，另外在Vue的<code>watch</code>是用<code>immediate</code>配置来控制在组件初次渲染后马上执行<code>callback</code>回调函数，且默认不会在组件初次渲染后执行<code>callback</code>回调函数，接着在_hook.js_中定义一个<code>useWatch</code>。</p>
<p>首先实现一下组件初次渲染不执行<code>callback</code>回调函数。</p>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import {useEffect,useRef} from 'react'; export function useWatch(value,callback){   const oldValue = useRef();   const isInit = useRef(false);   useEffect(() =&gt;{     if(!isInit.current){       isInit.current = true;     }else{       callback(value,oldValue.current);     }     oldValue.current=value;   },[value]) }</code></p>
<p>再添加<code>immediate</code>配置来控制在组件初次渲染后是否马上执行<code>callback</code>回调函数。</p>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import {useEffect,useRef} from 'react'; export function useWatch(value,callback,config={immediate: false}){   const oldValue = useRef();   const isInit = useRef(false);   useEffect(() =&gt;{     if(!isInit.current){       isInit.current = true;       if(config.immediate){         callback(value,oldValue.current);       }     }else{       callback(value,oldValue.current);     }     oldValue.current=value;   },[value]) }</code></p>
<p>另外Vue的<code>watch</code>还返回一个<code>unwatch</code>函数，调用<code>unwatch</code>函数可以停止监听该数据。</p>
<p>ini</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useEffect, useRef } from 'react'; export function useWatch(value, callback, config = { immediate: false }) {   const oldValue = useRef();   const isInit = useRef(false);   const isWatch = useRef(true);   useEffect(() =&gt; {     if (isWatch.current) {       if (!isInit.current) {         isInit.current = true;         if (config.immediate) {           callback(value, oldValue.current);         }       } else {         callback(value, oldValue.current);       }       oldValue.current = value;     }   }, [value])   const unwatch =  () =&gt; {     isWatch.current = false;   };   return unwatch; }</code></p>
<p><code>useWatch</code> 这个Hook 定义好后，这么使用。</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export {useState} from 'react'; export {useWatch} from './hook.js'; export default function HelloWorld() {   const [title,setTitle] = useState('hello world')   useWatch(title, (value, oldValue) =&gt; {     console.log(value);     console.log(oldValue)   })   const handleChangeTitle = () =&gt; {     setTitle('hello React')   }   return (     &lt;div onClick={handleChangeTitle}&gt;{title}&lt;/div&gt;   ); }</code></p>
<h2 id="10react中父组件如何调用子组件的方法">10、React中父组件如何调用子组件的方法<a hidden class="anchor" aria-hidden="true" href="#10react中父组件如何调用子组件的方法">#</a></h2>
<p>在Vue中是使用<code>ref</code>给子组件赋予一个标识 ID ，再使用<code>this.$refs[ID]</code>访问到这个子组件的实例对象，然后通过实例对象去调用子组件的方法。而在React中比较复杂，子组件的类型不同实现方法也不同。</p>
<ul>
<li>类子组件的写法：</li>
</ul>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props) {     super(props);     this.state = {       title:'hello World'     };   }   handleChangeTitle(){     this.setState({       title:'hello React'     });   }   render() {     return (       &lt;div&gt;         {this.state.title}       &lt;/div&gt;     );   } }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; import HelloWorld from './HelloWorld.js'; class Index extends React.Component {   constructor(props) {     super(props)     this.myCom = React.createRef();     this.changeTitle = this.changeTitle.bind(this);   }   changeTitle() {     this.myCom.current.handleChangeTitle();   }   render() {     return (       &lt;div&gt;         &lt;HelloWorld ref={this.myCom} /&gt;         &lt;button onClick={this.changeTitle}&gt;改变标题&lt;/button&gt;       &lt;/div&gt;     )   } } export default Index;</code></p>
<ul>
<li>函数组件的写法：</li>
</ul>
<p><code>useRef()</code>无法使用在函数组件上使用，在函数组件中要先使用 <code>useImperativeHandle</code> 定义要暴露给父组件的实例值，另外要把函数组件传入<code>forwardRef</code>处理后再导出。</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState, forwardRef, useImperativeHandle } from 'react'; const HelloWorld = (props, ref) =&gt; {   const [title, setTitle] = useState('hello World');   useImperativeHandle(ref, () =&gt; ({     handleChangeTitle: () =&gt; {       setTitle('hello React')     },   }));   return (     &lt;div&gt;{title}&lt;/div&gt;   ); } export default forwardRef(HelloWorld)</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useRef } from 'react' import HelloWorld from './HelloWorld.js' export default function Index() {   const myCom = useRef();   const changeTitle = () =&gt; {     myCom.current.handleChangeTitle();   }   return (     &lt;div&gt;       &lt;HelloWorld ref={myCom} /&gt;       &lt;button onClick={changeTitle}&gt;改变标题&lt;/button&gt;     &lt;/div&gt;   ) }</code></p>
<h2 id="11react中组件插槽怎么实现">11、React中组件插槽怎么实现<a hidden class="anchor" aria-hidden="true" href="#11react中组件插槽怎么实现">#</a></h2>
<h3 id="111-普通插槽">11.1 普通插槽<a hidden class="anchor" aria-hidden="true" href="#111-普通插槽">#</a></h3>
<p>其实React中是没有插槽的概念，不过可以用<code>props.children</code>来实现插槽的功能。</p>
<blockquote>
<p>每个组件都可以获取到 props.children。它包含组件的开始标签和结束标签之间的内容。</p>
</blockquote>
<p>例如开发一个 HelloWorld 组件用来展示 “ hello World ” ，也可以用插槽的形式来实现，通过<code>props.children</code>把 “ hello World ” 从父组件传递进去。</p>
<p>类组件的写法：</p>
<p>scala</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; export default class HelloWorld extends React.Component {   constructor(props) {     super(props);   }   render() {     return (       &lt;div&gt;         {this.props.children}       &lt;/div&gt;     );   } }</code></p>
<p>scala</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; import HelloWorld from './HelloWorld.js'; class Index extends React.Component{   constructor(props) {     super(props);   }   render() {     return (       &lt;HelloWorld&gt;hello World&lt;/HelloWorld&gt;     )   } } export default Index;</code></p>
<p>函数组件的写法：</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld(props){   const {children}=props;   return (     &lt;div&gt;       {children}     &lt;/div&gt;   ); }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HelloWorld from './HelloWorld.js'; export default function Index(){   return (     &lt;HelloWorld&gt;hello World&lt;/HelloWorld&gt;   ) }</code></p>
<h3 id="112-具名插槽">11.2 具名插槽<a hidden class="anchor" aria-hidden="true" href="#112-具名插槽">#</a></h3>
<p>可以通过props给子组件传递一个函数，如果这个函数最后返回React元素，其React元素是用JSX语法编写的，这样就间接实现具名插槽的功能。</p>
<p>例如开发一个 HelloWorld 组件用来展示 “ hello World ” ，用具名插槽的形式来实现。</p>
<p>类组件的写法：</p>
<p>scala</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; class HelloWorld extends React.Component{   constructor(props){     super(props)     this.elementSlot = &quot;&quot;;     if (this.props.element) {       this.elementSlot = this.props.element();     }   }   render(){     return (       &lt;div&gt;         {this.elementSlot}       &lt;/div&gt;     );   } } export default HelloWorld;</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; import HelloWorld from './HelloWorld.js'; class Index extends React.Component{   constructor(props) {     super(props);   }   info(){     return(       &lt;span&gt;hello World&lt;/span&gt;     )   }   render() {     return (       &lt;HelloWorld element={this.info}&gt;&lt;/HelloWorld&gt;     )   } } export default Index;</code></p>
<p>函数组件的写法：</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export default function HelloWorld(props) {   const { children, element } = props;   let elementSlot = &quot;&quot;;   if (element) {     elementSlot = element();   }   return (     &lt;div&gt;       {elementSlot}     &lt;/div&gt;   ); }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HelloWorld from './HelloWorld.js'; export default function Index(){   const info = () =&gt;{     return (       &lt;span&gt;hello World&lt;/span&gt;     )   }   return (     &lt;HelloWorld element={info}&gt;&lt;/HelloWorld&gt;   ) }</code></p>
<h3 id="113-作用域插槽">11.3 作用域插槽<a hidden class="anchor" aria-hidden="true" href="#113-作用域插槽">#</a></h3>
<p>Vue的作用域插槽的作用是用子组件中的数据在父组件中写插槽内容。</p>
<p>回顾上面具名插槽的实现过程，先在父组件中定义一个函数，该函数能返回一个React元素，再通过props把该函数传递给子组件，在子组件中执行该函数，把执行结果添加到子组件的React元素中。</p>
<p>如果在子组件中执行该函数时，把子组件的数据当作参数传递进去，那么在父组件中就可以用该函数接收子组件的数据来写React元素（插槽的内容）。这样就实现了作用域插槽。</p>
<p>例如开发一个 HelloWorld 组件用来展示 “ 用子组件的数据写具名插槽 hello World ” ，用作用域插槽的形式来实现。</p>
<p>类组件的写法：</p>
<p>scala</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; class HelloWorld extends React.Component{   constructor(props){     super(props)     this.state = {       info:'用子组件的数据写具名插槽 hello World'     }     this.elementSlot = &quot;&quot;;     if (this.props.element) {       this.elementSlot = this.props.element(this.state.info);     }   }   render(){     return (       &lt;div&gt;         {this.elementSlot}       &lt;/div&gt;     );   } } export default HelloWorld;</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import React from 'react'; import HelloWorld from './HelloWorld.js'; class Index extends React.Component{   constructor(props) {     super(props);   }   info(data){     return(       &lt;span&gt;{data}&lt;/span&gt;     )   }   render() {     return (       &lt;HelloWorld element={this.info}&gt;       &lt;/HelloWorld&gt;     )   } } export default Index;</code></p>
<p>函数组件的写法</p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { useState } from &quot;react&quot;; export default function HelloWorld(props) {   const { children, element } = props;   const [info] = useState('用子组件的数据写具名插槽 hello World')   let elementSlot = &quot;&quot;;   if (element) {     elementSlot = element(info);   }   return (     &lt;div&gt;       {elementSlot}       {children}     &lt;/div&gt;   ); }</code></p>
<p>javascript</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import HelloWorld from './HelloWorld.js'; export default function Index(){   const info = (data) =&gt;{     return (       &lt;span&gt;{data}&lt;/span&gt;     )   }   return (     &lt;HelloWorld element={info}&gt;&lt;/HelloWorld&gt;   ) }</code></p>
<h2 id="小结">小结<a hidden class="anchor" aria-hidden="true" href="#小结">#</a></h2>
<p>以上从Vue开发一个组件会用到的技术，在React中寻找对应的实现方案的角度来入门React，读完你应该会用React开发一些简单的页面，并能把页面分割成一个个组件，并在组件之间进行数据交互。下一篇文章将介绍开发组件时<a href="https://juejin.cn/post/6976212516850532365" title="https://juejin.cn/post/6976212516850532365">在Vue中那些常用的指令在React中是如何实现的</a>。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/react.js/">React.js</a></li>
      <li><a href="http://localhost:1313/tags/vue.js/">Vue.js</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/juejin/%E6%8E%A8%E8%8D%90java%E5%A3%B0%E6%98%8E%E5%BC%8Fhttp%E6%8E%A5%E5%8F%A3%E5%AF%B9%E6%8E%A5%E6%A1%86%E6%9E%B6unihttp/">
    <span class="title">« 上一页</span>
    <br>
    <span>【推荐】Java声明式Http接口对接框架UniHttp</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/juejin/%E4%BD%BF%E7%94%A8python%E5%86%99%E4%B8%80%E4%B8%AA%E7%88%AC%E8%99%AB%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB%E5%8F%8A%E6%80%9D%E8%B7%AF%E5%8F%82%E8%80%83/">
    <span class="title">下一页 »</span>
    <br>
    <span>使用python写一个爬虫所遇到的问题汇总，及思路参考</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on x"
            href="https://x.com/intent/tweet/?text=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f&amp;hashtags=React.js%2cVue.js">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f&amp;title=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8&amp;summary=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f&title=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on telegram"
            href="https://telegram.me/share/url?text=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 从Vue20到React17——React开发入门 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e4%bb%8eVue20%e5%88%b0React17%e2%80%94%e2%80%94React%e5%bc%80%e5%8f%91%e5%85%a5%e9%97%a8&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E4%25BB%258Evue20%25E5%2588%25B0react17react%25E5%25BC%2580%25E5%258F%2591%25E5%2585%25A5%25E9%2597%25A8%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
