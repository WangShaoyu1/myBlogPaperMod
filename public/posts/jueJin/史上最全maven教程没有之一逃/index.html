<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>史上最全Maven教程，没有之一(逃😎) | PaperMod</title>
<meta name="keywords" content="Java">
<meta name="description" content="你会Maven吗？再问一遍，你真的会用Maven了吗？什么？你说你会？我不听我不听，你就是不会，赶紧进来学习。">
<meta name="author" content="烽火戏诸诸诸侯">
<link rel="canonical" href="http://localhost:1313/posts/juejin/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8maven%E6%95%99%E7%A8%8B%E6%B2%A1%E6%9C%89%E4%B9%8B%E4%B8%80%E9%80%83/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/juejin/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8maven%E6%95%99%E7%A8%8B%E6%B2%A1%E6%9C%89%E4%B9%8B%E4%B8%80%E9%80%83/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="史上最全Maven教程，没有之一(逃😎)" />
<meta property="og:description" content="你会Maven吗？再问一遍，你真的会用Maven了吗？什么？你说你会？我不听我不听，你就是不会，赶紧进来学习。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/juejin/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8maven%E6%95%99%E7%A8%8B%E6%B2%A1%E6%9C%89%E4%B9%8B%E4%B8%80%E9%80%83/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-08-13T00:00:00+00:00" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="史上最全Maven教程，没有之一(逃😎)"/>
<meta name="twitter:description" content="你会Maven吗？再问一遍，你真的会用Maven了吗？什么？你说你会？我不听我不听，你就是不会，赶紧进来学习。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "史上最全Maven教程，没有之一(逃😎)",
      "item": "http://localhost:1313/posts/juejin/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8maven%E6%95%99%E7%A8%8B%E6%B2%A1%E6%9C%89%E4%B9%8B%E4%B8%80%E9%80%83/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "史上最全Maven教程，没有之一(逃😎)",
  "name": "史上最全Maven教程，没有之一(逃😎)",
  "description": "你会Maven吗？再问一遍，你真的会用Maven了吗？什么？你说你会？我不听我不听，你就是不会，赶紧进来学习。",
  "keywords": [
    "Java"
  ],
  "articleBody": "文章首发于博客：布袋青年，原文链接直达：史上最全Maven教程，没有之一。\n如果你是有一定的开发经验，我相信你一定被项目 lib 下的 JAR 包折磨过，如果碰上兼容问题，更是逐个下载不同版本 JAR 包进行替换排查，相信是每个程序员都不想再经历一边的噩梦。\nMaven 的出现则大大降低开发人员的准备工作，让开发人员更专心与业务，下面即介绍 Maven 基本使用。\nMaven 是一个项目管理工具，可以对 Java 项目进行构建、依赖管理。\n一、基础配置 1. 仓库配置 在 Maven 中引入了仓库的概念，开发人员将所编写的 JAR 按照相应格式推送到仓库中，当其他开发者需要引用这个 jar 包时在工程中引用相应依赖，则会先从中央仓库进行下载到本地仓库，此时项目将读取本地仓库的内容。\n对于部分组织或机构通常会在此基础上额外搭建私人仓库，在引用依赖时会先从私人仓库进行读取，如果未找到再从中央仓库下载至私人仓库，最后再下载到本地仓库。\n通过这种方式开发者则无需再手动管理繁杂的项目 JAR 包，从而实现更高的效率。\n2. 基本信息 一个最基本的 Maven 项目通常应包含如下内容，当我们引用一个模块时，也是通过 groupId、 artifactId、 version 三项内容进行确定。\n标 签\n作 用\ngroupId\n通常为组织或公司域名反写。\nartifactId\n项目的名称。\nversion\n项目的版本信息。\nname\n项目的简称。\ndescription\n项目的简要描述。\n下面是一个基本定义示例：\nxml\n代码解读\n复制代码\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e 4.0.0 xyz.ibudai maven-demo 1.0.0-SNAPSHOT maven demo This is maven demo. 二、依赖管理 1. 依赖引入 通过 dependencies 标签我们即可导入所需要的工程依赖。\nxml\n代码解读\n复制代码\nmysql mysql-connector-java 8.0.27 runtime 其中 scope 的可选值如下：\n作用域\n效果\ncompile\n编译时需要用到该 JAR 包（默认）\nruntime\n编译时不需要，但运行时需要用到。\nprovided\n编译时需要用到，但运行时由 JDK 或某个服务器提供。\ntest\n编译Test时需要用到该 JAR 包。\n2. 间接依赖 当项目需要引用到其它依赖时，只需指定所依赖的工程的基本信息即可，剩下的一切都交给 Maven 处理。即便是所要依赖的工程依赖了其它工程，我们也只需引入项目所直接的依赖的工程。\n如下图示例中 Dependency-A 引用了 Dependency-B ，而 Dependency-B 又依赖于 Dependency-C ，在传统项目中若在 Dependency-A 中引用 Dependency-B 则需要同时手动添加 Dependency-B 与 Dependency-C 所对应的 JAR 包，但在 Maven 中我们只需要引入 Dependency-B 即可， Mavne 会自动将子模块所依赖的包导入。\n依赖顺序 在 maven 工程中遵循先定义先导入的原则，即当存在多个相同间接依赖，优先导入其父依赖定义在前的简洁依赖。\n举个例子，如工程中引入 Dependency-A 与 Dependency-B 两个依赖，二者又分别引用了不同版本的 Dependency-C ，但对于 Maven 而言最终编译时同一个依赖即便是不同的版本也只会选择一份。\n其计算规则如下：若 Dependency-A 定义在 Dependency-B 之前则最终将导入 Dependency-A 中的 C-1.0 版本。而在右侧图例中虽然 Dependency-A 引入优先级高于 Dependency-B ，但是 C-2.0 的间接依赖层级高于 C-1.0，因此将导入 C-2.0 版本。\n3. 依赖排除 在引用多个模块时可能会发生版本兼容冲突问题，通过 excludes 标签即可实现依赖排除。\n如下我们在工程中引入了 demo-a 依赖，但其又引用 dependency-b 依赖，如想要在当前工程中移除 dependency-b 依赖，此时即可通过 excludes 标签将 dependency-b 排除依赖。\nxml\n代码解读\n复制代码\nxyz.ibudai demo-a 1.0.0 xyz.ibudai dependency-b 1.0.0 除了手动通过 excludes 标签排除依赖，被引模块也可以在导入依赖时通过 optional 标签禁用依赖传递。\n上述示例中若在 demo-a 工程中引入 dependency-b 依赖时添加 optional 标签，那么其它工程在引入 demo-a 依赖时将不会将 dependency-b 作为间接依赖导入。\nxml\n代码解读\n复制代码\nxyz.ibudai demo-b 1.0.0 true 4. 变量配置 当项目中引入了大量依赖，为了方便管理通常将引入依赖的版本通过变量进行统一配置，从而实现更直观的依赖管理。\n通过 properties 标签即可自定义变量配置，然后使用 ${} 引用变量。\nxml\n代码解读\n复制代码\n8.0.30 4.13.2 mysql mysql-connector-java ${mysql.version} junit junit ${junit.version} 三、模块配置 1. 模块管理 当我们项目包含多个子项目时，通过 modules 标签即可实现模块管理。\nxml\n代码解读\n复制代码\nmodule-1 module-2 如下在 maven-demo 中又包含了 module-1 和 module-2 两个工程。 2. 模块继承 通过 parent 即可标记当前模块的父模块，且子模块将会继承父模块中的所有依赖配置。子模块若没有指定的 groupId 和 version 默认继承父模块中的配置。\n其中 relativePath 用于指定父模块的 POM 文件目录，省略时默认值为 ../pom.xml 即当前目录的上一级中，若仍未找到则会在本地仓库中寻找。\nxml\n代码解读\n复制代码\nxyz.ibudai maven-demo 1.0-SNAPSHOT ../pom.xml module-1\n四、统一管理 1. 依赖管理 当一共项目包含多个模块，且多个模块引用了相同依赖时显然重复引用是不太合适的，而通过 dependencyManagement 即可很好的解决依赖共用的问题。\n将项目依赖统一定义在父模块的 dependencyManagement 标签中，子模块只需继承父模块并在 dependencies 引入所需的依赖，便可自动读取父模块 dependencyManagement 所指定的版本。\ndependencyManagement 既不会在当前模块引入依赖，也不会给其子模块引入依赖，但其可以被继承的，只有在子模块下同样声明了该依赖，才会引入到模块中，子模块中只需在依赖中引入 groupId 与 artifactId 即可, 也可以指定版本则会进行覆盖。\n2. 模块示例 接下来以下图中的模块层级关系进行举例：\nmaven-demo 在 maven-demo 的 dependencyManagement 定义 mysql 和 junit 两个依赖。\nxml\n代码解读\n复制代码\nmysql mysql-connector-java 8.0.30 junit junit 4.13.2 module-1 在 module-1 中继承 maven-demo 工程，引入 mysql，无需指定版本，将会自动读取父模块中 dependencyManagement 中所指定的版本。当然你也可以选择指定版本，则将会进行覆盖，但并不建议这么操作，将提高项目维护难度。\nmodule-1 的 pom 文件内容如下：\nxml\n代码解读\n复制代码\nxyz.ibudai maven-demo 1.0-SNAPSHOT mysql mysql-connector-java module-2 在 module-2 配置同 module-1，通过 dependencyManagement 我们即实现了项目依赖版本的统一管理。\nxml\n代码解读\n复制代码\nxyz.ibudai maven-demo 1.0-SNAPSHOT junit junit 3. 依赖导入 上面介绍了如何通过 dependencyManagement 实现全局的依赖版本管理，但如果工程中的两个子模块都需要配置相同的 dependencyManagement 配置时，当然你可以选择通过继承父模块来实现，也可以用笨办法直接复制粘贴一份。\n在上述的 maven-demo 创建同级模块 maven-demo1 ，如果要实现 maven-demo 中配置的 dependencyManagement 则在其 dependencyManagement 配置中导入 maven-demo 并将 scope 设置为 import，并将 type 设置为 pom。\n通过导入即可实现更轻量化的模块信息继承，具体配置内容如下：\nxml\n代码解读\n复制代码\nxyz.ibudai maven-demo 1.0.0-SNAPSHOT import pom 五、插件管理 经过前面的介绍相信对于 Maven 你已经有了一个初步的了解，但 Maven 除了依赖管理之外提供一系列强大的插件，插件对于 Maven 而言可谓时左膀右臂但却经常被人忽略。\n今天就让我介绍一下 Maven 中常用的构建插件。\n1. Jar 在使用 Java 开发时通常情况下我们都会将工程打包为 JAR 文件，首先了解一下 JAR 的文件结构。\n下图即为通过 Maven 打包后的 JAR 文件，其中 org.example 目录为工程中定义的包名，存在编译后的 .class 文件， META-INF 目录用于存放工程的元数据信息。\n如上图中 META-INF 下的 MANIFEST.MF 文件内容如下：\nyaml\n代码解读\n复制代码\nManifest-Version: 1.0 Archiver-Version: Plexus Archiver Built-By: great Created-By: Apache Maven 3.6.3 Build-Jdk: 1.8.0_202\n而通过 maven-jar-plugin 插件我们即可在添加额外信息至打包后的 JAR 文件，插件配置信息如下：\nxml\n代码解读\n复制代码\norg.apache.maven.plugins maven-jar-plugin 2.3.1 org.example.MyTest true true demo-plugin 1.0.0 在之前的工程 POM 文件中添加上述构建插件重新进行打包，可以看到 MANIFEST.MF 文件中即添加了我们配置的额外属性。\nyaml\n代码解读\n复制代码\nManifest-Version: 1.0 Archiver-Version: Plexus Archiver Created-By: Apache Maven Built-By: great Build-Jdk: 1.8.0_202 # Specification entries Specification-Title: maven-v1 Specification-Version: 1.0-SNAPSHOT # Implementation entries Implementation-Title: maven-v1 Implementation-Version: 1.0-SNAPSHOT Implementation-Vendor-Id: org.example # Manifest Main-Class: org.example.MyTest # ManifestEntries Plugin-Id: demo-plugin Plugin-Version: 1.0.0\n2. Assembly 在普通 Maven 工程打包时默认仅会编译工程中新建的 java 文件并存储其 .class 文件，对于 POM 文件中引用的第三方依赖并不会一同打包。\n如新建一个 Maven 工程并在依赖中导入 Jackson 依赖库并进行打包编译，可以看到下图编译后的 JAR 文件中只有工程中新建的 MyTest.class 文件，项目中所导入的依赖并没有被一起打包。\n而通过 assembly 插件即可将 POM 配置中的所有依赖一同打包编译至 JAR 文件中。\n其中 execution 标签定义了 assembly 插件的作用阶段，如这里设置了在 Maven package 即打包阶段生效。\nxml\n代码解读\n复制代码\norg.apache.maven.plugins maven-assembly-plugin 3.1.0 jar-with-dependencies ${project.artifactId}-${project.version}-all false false fully.qualified.MainClass true true make-assembly package single 在工程 POM 配置中添加上述信息并重新编译打包工程，可以看到此时 JAR 文件中除了自定义创建的 MyTest.clss 文件外同时包含了依赖的第三方库。\n3. Shade Shade 插件的功能更为强大，其提供了两个功能：第一个即与 assembly 类似可实现依赖的打包编译，与 assembly 不同的是 Shade 提供了更灵活的执行策略，可指定需要打包编译的依赖集合。\n另一个即实现包的重命名功能，我们都知道 Maven 并不允许在一共工程中同时引入单个依赖的不同版本，而通过 Shade 插件即可实现二次包装从而绕开该限制。\n下面介绍一个 Shade 插件中各标签的使用。\nartifactSet 通过 includes 标签可以指定需要一同打包编译的第三方依赖。\n定义的格式为：groupId:artifactId。\nxml\n代码解读\n复制代码\ngroupId:artifactId relocations 通过 relocations 标签即可实现模块的重命名功能。\n其中 pattern 为需要重命名的模块包， shadedPattern 为重命名后的模块名。\nxml\n代码解读\n复制代码\nold.package.name new.package.name filters 通过 filters 标签可以实现非必要文件的排除，如常见的协议文件等，可通过文件名或类型实现匹配。\nxml\n代码解读\n复制代码\n*:* filename file pattern 完整配置 Shade 同样可以通过 execution 设置作用阶段，上述介绍标签的完整配置内容如下：\nxml\n代码解读\n复制代码\norg.apache.maven.plugins maven-shade-plugin 3.2.0 package shade true com.fasterxml.jackson.core:jackson-core com.fasterxml.jackson.core com.ibudai.fasterxml.jackson.core *:* META-INF/license/** META-INF/* LICENSE NOTICE 在之前的工程中添加上述配置并重新打包，可以看到编译后的 Jackson 模块包层级已经变成我们自定义的内容，而 Java 的类加载即通过类的完成限定名（包名+类名）来区分是否为同一个类，因此通过 Shade 插件即可实现 Maven 的单一工程多版本引入。 六、构建配置 在上面介绍了工程的依赖管理与多模块的管理配置，下面介绍一下工程打包构建时涉及的配置。\n注意以下所有配置项都是定义在 标签组内，下述不再重复说明。\n1. 版本指定 在 标签内可指定工程打包编译时使用的 JDK 版本，可根据服务器环境手动修改版本。\nxml\n代码解读\n复制代码\norg.apache.maven.plugins maven-compiler-plugin 3.1 8 8 2. 文件排除 默认项目打包后 /resources 目录下文件都将统一打包进编译后的 JAR 文件，但为了方便配置修改通常将配置文件排除打包，使用时只需将文件放置于 JAR 同级即可。\n如下示例中将 application.yml 文件排除打包，后续若需要修改配置无需重新打包只需重启项目即可。\nxml\n代码解读\n复制代码\nsrc/main/resources application.yml 3. 主类配置 在打包时可能出现无法识别工程主类的问题，导致编译后的文件无法正常运行，此时则可以在 pom 文件中手动设置工程的主类。\n其中 中配置的为项目主类的完成限定名。\nxml\n代码解读\n复制代码\norg.springframework.boot spring-boot-maven-plugin xyz.ibudai.TestWebApplication JAR ",
  "wordCount" : "929",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2023-08-13T00:00:00Z",
  "dateModified": "2023-08-13T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "烽火戏诸诸诸侯"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/juejin/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8maven%E6%95%99%E7%A8%8B%E6%B2%A1%E6%9C%89%E4%B9%8B%E4%B8%80%E9%80%83/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      史上最全Maven教程，没有之一(逃😎)
    </h1>
    <div class="post-description">
      你会Maven吗？再问一遍，你真的会用Maven了吗？什么？你说你会？我不听我不听，你就是不会，赶紧进来学习。
    </div>
    <div class="post-meta"><span title='2023-08-13 00:00:00 +0000 UTC'>八月 13, 2023</span>&nbsp;·&nbsp;5 分钟&nbsp;·&nbsp;烽火戏诸诸诸侯&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/jueJin/%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e4%b8%80%e5%9f%ba%e7%a1%80%e9%85%8d%e7%bd%ae" aria-label="一、基础配置">一、基础配置</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%93%e5%ba%93%e9%85%8d%e7%bd%ae" aria-label="1. 仓库配置">1. 仓库配置</a></li>
                <li>
                    <a href="#2-%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af" aria-label="2. 基本信息">2. 基本信息</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e4%be%9d%e8%b5%96%e7%ae%a1%e7%90%86" aria-label="二、依赖管理">二、依赖管理</a><ul>
                        
                <li>
                    <a href="#1-%e4%be%9d%e8%b5%96%e5%bc%95%e5%85%a5" aria-label="1. 依赖引入">1. 依赖引入</a></li>
                <li>
                    <a href="#2-%e9%97%b4%e6%8e%a5%e4%be%9d%e8%b5%96" aria-label="2. 间接依赖">2. 间接依赖</a><ul>
                        
                <li>
                    <a href="#%e4%be%9d%e8%b5%96%e9%a1%ba%e5%ba%8f" aria-label="依赖顺序">依赖顺序</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e4%be%9d%e8%b5%96%e6%8e%92%e9%99%a4" aria-label="3. 依赖排除">3. 依赖排除</a></li>
                <li>
                    <a href="#4-%e5%8f%98%e9%87%8f%e9%85%8d%e7%bd%ae" aria-label="4. 变量配置">4. 变量配置</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e6%a8%a1%e5%9d%97%e9%85%8d%e7%bd%ae" aria-label="三、模块配置">三、模块配置</a><ul>
                        
                <li>
                    <a href="#1-%e6%a8%a1%e5%9d%97%e7%ae%a1%e7%90%86" aria-label="1. 模块管理">1. 模块管理</a></li>
                <li>
                    <a href="#2-%e6%a8%a1%e5%9d%97%e7%bb%a7%e6%89%bf" aria-label="2. 模块继承">2. 模块继承</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e7%bb%9f%e4%b8%80%e7%ae%a1%e7%90%86" aria-label="四、统一管理">四、统一管理</a><ul>
                        
                <li>
                    <a href="#1-%e4%be%9d%e8%b5%96%e7%ae%a1%e7%90%86" aria-label="1. 依赖管理">1. 依赖管理</a></li>
                <li>
                    <a href="#2-%e6%a8%a1%e5%9d%97%e7%a4%ba%e4%be%8b" aria-label="2. 模块示例">2. 模块示例</a><ul>
                        
                <li>
                    <a href="#maven-demo" aria-label="maven-demo">maven-demo</a></li>
                <li>
                    <a href="#module-1" aria-label="module-1">module-1</a></li>
                <li>
                    <a href="#module-2" aria-label="module-2">module-2</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e4%be%9d%e8%b5%96%e5%af%bc%e5%85%a5" aria-label="3. 依赖导入">3. 依赖导入</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e6%8f%92%e4%bb%b6%e7%ae%a1%e7%90%86" aria-label="五、插件管理">五、插件管理</a><ul>
                        
                <li>
                    <a href="#1-jar" aria-label="1. Jar">1. Jar</a></li>
                <li>
                    <a href="#2-assembly" aria-label="2. Assembly">2. Assembly</a></li>
                <li>
                    <a href="#3-shade" aria-label="3. Shade">3. Shade</a><ul>
                        
                <li>
                    <a href="#artifactset" aria-label="artifactSet">artifactSet</a></li>
                <li>
                    <a href="#relocations" aria-label="relocations">relocations</a></li>
                <li>
                    <a href="#filters" aria-label="filters">filters</a></li>
                <li>
                    <a href="#%e5%ae%8c%e6%95%b4%e9%85%8d%e7%bd%ae" aria-label="完整配置">完整配置</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ad%e6%9e%84%e5%bb%ba%e9%85%8d%e7%bd%ae" aria-label="六、构建配置">六、构建配置</a><ul>
                        
                <li>
                    <a href="#1-%e7%89%88%e6%9c%ac%e6%8c%87%e5%ae%9a" aria-label="1. 版本指定">1. 版本指定</a></li>
                <li>
                    <a href="#2-%e6%96%87%e4%bb%b6%e6%8e%92%e9%99%a4" aria-label="2. 文件排除">2. 文件排除</a></li>
                <li>
                    <a href="#3-%e4%b8%bb%e7%b1%bb%e9%85%8d%e7%bd%ae" aria-label="3. 主类配置">3. 主类配置</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>文章首发于博客：<a href="https://link.juejin.cn?target=https%3A%2F%2Fgreat-jin.github.io" title="https://great-jin.github.io">布袋青年</a>，原文链接直达：<a href="https://link.juejin.cn?target=https%3A%2F%2Fgreat-jin.github.io%2Fmaven%2Fbasis%2F" title="https://great-jin.github.io/maven/basis/">史上最全Maven教程，没有之一</a>。</p>
<hr>
<p>如果你是有一定的开发经验，我相信你一定被项目 <code>lib</code> 下的 <code>JAR</code> 包折磨过，如果碰上兼容问题，更是逐个下载不同版本 <code>JAR</code> 包进行替换排查，相信是每个程序员都不想再经历一边的噩梦。</p>
<p><code>Maven</code> 的出现则大大降低开发人员的准备工作，让开发人员更专心与业务，下面即介绍 <code>Maven</code> 基本使用。</p>
<blockquote>
<p>Maven 是一个项目管理工具，可以对 Java 项目进行构建、依赖管理。</p>
</blockquote>
<h3 id="一基础配置">一、基础配置<a hidden class="anchor" aria-hidden="true" href="#一基础配置">#</a></h3>
<h4 id="1-仓库配置">1. 仓库配置<a hidden class="anchor" aria-hidden="true" href="#1-仓库配置">#</a></h4>
<p>在 <code>Maven</code> 中引入了仓库的概念，开发人员将所编写的 <code>JAR</code> 按照相应格式推送到仓库中，当其他开发者需要引用这个 jar 包时在工程中引用相应依赖，则会先从中央仓库进行下载到本地仓库，此时项目将读取本地仓库的内容。</p>
<p>对于部分组织或机构通常会在此基础上额外搭建私人仓库，在引用依赖时会先从私人仓库进行读取，如果未找到再从中央仓库下载至私人仓库，最后再下载到本地仓库。</p>
<p><img loading="lazy" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/346092664b9743aa97bf8400c4b4c779~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<p>通过这种方式开发者则无需再手动管理繁杂的项目 <code>JAR</code> 包，从而实现更高的效率。</p>
<h4 id="2-基本信息">2. 基本信息<a hidden class="anchor" aria-hidden="true" href="#2-基本信息">#</a></h4>
<p>一个最基本的 <code>Maven</code> 项目通常应包含如下内容，当我们引用一个模块时，也是通过 <code>groupId</code>、 <code>artifactId</code>、 <code>version</code> 三项内容进行确定。</p>
<p>标  签</p>
<p>作  用</p>
<p>groupId</p>
<p>通常为组织或公司域名反写。</p>
<p>artifactId</p>
<p>项目的名称。</p>
<p>version</p>
<p>项目的版本信息。</p>
<p>name</p>
<p>项目的简称。</p>
<p>description</p>
<p>项目的简要描述。</p>
<p>下面是一个基本定义示例：</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project ...&gt;     &lt;!-- 固定 4.0.0, 指定了当前 POM 模型的版本 --&gt;     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;     &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;     &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;     &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;     &lt;version&gt;maven demo&lt;/version&gt;     &lt;description&gt;This is maven demo.&lt;/description&gt;      &lt;/project&gt;</code></p>
<h3 id="二依赖管理">二、依赖管理<a hidden class="anchor" aria-hidden="true" href="#二依赖管理">#</a></h3>
<h4 id="1-依赖引入">1. 依赖引入<a hidden class="anchor" aria-hidden="true" href="#1-依赖引入">#</a></h4>
<p>通过 <code>dependencies</code> 标签我们即可导入所需要的工程依赖。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;mysql&lt;/groupId&gt;         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;         &lt;version&gt;8.0.27&lt;/version&gt;         &lt;scope&gt;runtime&lt;/scope&gt;     &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>
<p>其中 <code>scope</code> 的可选值如下：</p>
<p>作用域</p>
<p>效果</p>
<p>compile</p>
<p>编译时需要用到该 JAR 包（默认）</p>
<p>runtime</p>
<p>编译时不需要，但运行时需要用到。</p>
<p>provided</p>
<p>编译时需要用到，但运行时由 JDK 或某个服务器提供。</p>
<p>test</p>
<p>编译Test时需要用到该 JAR 包。</p>
<h4 id="2-间接依赖">2. 间接依赖<a hidden class="anchor" aria-hidden="true" href="#2-间接依赖">#</a></h4>
<p>当项目需要引用到其它依赖时，只需指定所依赖的工程的基本信息即可，剩下的一切都交给 <code>Maven</code> 处理。即便是所要依赖的工程依赖了其它工程，我们也只需引入项目所直接的依赖的工程。</p>
<p>如下图示例中 <code>Dependency-A</code> 引用了 <code>Dependency-B</code> ，而 <code>Dependency-B</code> 又依赖于 <code>Dependency-C</code> ，在传统项目中若在 <code>Dependency-A</code> 中引用 <code>Dependency-B</code> 则需要同时手动添加 <code>Dependency-B</code> 与 <code>Dependency-C</code> 所对应的 <code>JAR</code> 包，但在 <code>Maven</code> 中我们只需要引入 <code>Dependency-B</code> 即可， <code>Mavne</code> 会自动将子模块所依赖的包导入。</p>
<p><img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/234d07f605754643abeb55cac223654d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<ul>
<li>
<h5 id="依赖顺序">依赖顺序<a hidden class="anchor" aria-hidden="true" href="#依赖顺序">#</a></h5>
<p>在 <code>maven</code> 工程中遵循先定义先导入的原则，即当存在多个相同间接依赖，优先导入其父依赖定义在前的简洁依赖。</p>
<p>举个例子，如工程中引入 <code>Dependency-A</code> 与 <code>Dependency-B</code> 两个依赖，二者又分别引用了不同版本的 <code>Dependency-C</code> ，但对于 <code>Maven</code> 而言最终编译时同一个依赖即便是不同的版本也只会选择一份。</p>
<p>其计算规则如下：若 <code>Dependency-A</code> 定义在 <code>Dependency-B</code> 之前则最终将导入 <code>Dependency-A</code> 中的 <code>C-1.0</code> 版本。而在右侧图例中虽然 <code>Dependency-A</code> 引入优先级高于 <code>Dependency-B</code> ，但是 <code>C-2.0</code> 的间接依赖层级高于 <code>C-1.0</code>，因此将导入 <code>C-2.0</code> 版本。</p>
</li>
</ul>
<p><img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45e905397fb94f90b4da7d5471182879~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<h4 id="3-依赖排除">3. 依赖排除<a hidden class="anchor" aria-hidden="true" href="#3-依赖排除">#</a></h4>
<p>在引用多个模块时可能会发生版本兼容冲突问题，通过 <code>excludes</code> 标签即可实现依赖排除。</p>
<p>如下我们在工程中引入了 <code>demo-a</code> 依赖，但其又引用 <code>dependency-b</code> 依赖，如想要在当前工程中移除 <code>dependency-b</code> 依赖，此时即可通过 <code>excludes</code> 标签将 <code>dependency-b</code> 排除依赖。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;         &lt;artifactId&gt;demo-a&lt;/artifactId&gt;         &lt;version&gt;1.0.0&lt;/version&gt;         &lt;excludes&gt;             &lt;exclude&gt;                 &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;                 &lt;artifactId&gt;dependency-b&lt;/artifactId&gt;                 &lt;version&gt;1.0.0&lt;/version&gt;             &lt;/exclude&gt;         &lt;/excludes&gt;     &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>
<p>除了手动通过 <code>excludes</code> 标签排除依赖，被引模块也可以在导入依赖时通过 <code>optional</code> 标签禁用依赖传递。</p>
<p>上述示例中若在 <code>demo-a</code> 工程中引入 <code>dependency-b</code> 依赖时添加 <code>optional</code> 标签，那么其它工程在引入 <code>demo-a</code> 依赖时将不会将 <code>dependency-b</code> 作为间接依赖导入。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;         &lt;artifactId&gt;demo-b&lt;/artifactId&gt;         &lt;version&gt;1.0.0&lt;/version&gt;         &lt;optional&gt;true&lt;/optional&gt;     &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>
<h4 id="4-变量配置">4. 变量配置<a hidden class="anchor" aria-hidden="true" href="#4-变量配置">#</a></h4>
<p>当项目中引入了大量依赖，为了方便管理通常将引入依赖的版本通过变量进行统一配置，从而实现更直观的依赖管理。</p>
<p>通过 <code>properties</code> 标签即可自定义变量配置，然后使用 <code>${}</code> 引用变量。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;properties&gt;     &lt;mysql.version&gt;8.0.30&lt;/mysql.version&gt;     &lt;junit.version&gt;4.13.2&lt;/junit.version&gt; &lt;/properties&gt; &lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;mysql&lt;/groupId&gt;         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;         &lt;!-- 使用 &quot;${}&quot; 引用上述自定义变量 --&gt;         &lt;version&gt;${mysql.version}&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;junit&lt;/groupId&gt;         &lt;artifactId&gt;junit&lt;/artifactId&gt;         &lt;version&gt;${junit.version}&lt;/version&gt;     &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>
<h3 id="三模块配置">三、模块配置<a hidden class="anchor" aria-hidden="true" href="#三模块配置">#</a></h3>
<h4 id="1-模块管理">1. 模块管理<a hidden class="anchor" aria-hidden="true" href="#1-模块管理">#</a></h4>
<p>当我们项目包含多个子项目时，通过 <code>modules</code> 标签即可实现模块管理。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;!-- maven-demo pom.xml --&gt; &lt;modules&gt;     &lt;module&gt;module-1&lt;/module&gt;     &lt;module&gt;module-2&lt;/module&gt; &lt;/modules&gt;</code></p>
<p>如下在 <code>maven-demo</code> 中又包含了 <code>module-1</code> 和 <code>module-2</code> 两个工程。 <img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/01d40ad22301428ea8a7f36268a0ed9d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<h4 id="2-模块继承">2. 模块继承<a hidden class="anchor" aria-hidden="true" href="#2-模块继承">#</a></h4>
<p>通过 <code>parent</code> 即可标记当前模块的父模块，且子模块将会继承父模块中的所有依赖配置。子模块若没有指定的 <code>groupId</code> 和 <code>version</code> 默认继承父模块中的配置。</p>
<p>其中 <code>relativePath</code> 用于指定父模块的 <code>POM</code> 文件目录，省略时默认值为 <code>../pom.xml</code> 即当前目录的上一级中，若仍未找到则会在本地仓库中寻找。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;!-- module-1 pom.xml --&gt; &lt;parent&gt;     &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;     &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;     &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;artifactId&gt;module-1&lt;/artifactId&gt;</code></p>
<h3 id="四统一管理">四、统一管理<a hidden class="anchor" aria-hidden="true" href="#四统一管理">#</a></h3>
<h4 id="1-依赖管理">1. 依赖管理<a hidden class="anchor" aria-hidden="true" href="#1-依赖管理">#</a></h4>
<p>当一共项目包含多个模块，且多个模块引用了相同依赖时显然重复引用是不太合适的，而通过 <code>dependencyManagement</code> 即可很好的解决依赖共用的问题。</p>
<p>将项目依赖统一定义在父模块的 <code>dependencyManagement</code> 标签中，子模块只需继承父模块并在 <code>dependencies</code> 引入所需的依赖，便可自动读取父模块 <code>dependencyManagement</code> 所指定的版本。</p>
<p><code>dependencyManagement</code> 既不会在当前模块引入依赖，也不会给其子模块引入依赖，但其可以被继承的，只有在子模块下同样声明了该依赖，才会引入到模块中，子模块中只需在依赖中引入 <code>groupId</code> 与 <code>artifactId</code> 即可, 也可以指定版本则会进行覆盖。</p>
<h4 id="2-模块示例">2. 模块示例<a hidden class="anchor" aria-hidden="true" href="#2-模块示例">#</a></h4>
<p>接下来以下图中的模块层级关系进行举例：</p>
<p><img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/01d40ad22301428ea8a7f36268a0ed9d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<ul>
<li>
<h5 id="maven-demo">maven-demo<a hidden class="anchor" aria-hidden="true" href="#maven-demo">#</a></h5>
<p>在 <code>maven-demo</code> 的 <code>dependencyManagement</code> 定义 <code>mysql</code> 和 <code>junit</code> 两个依赖。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;dependencyManagement&gt;     &lt;dependencies&gt;         &lt;dependency&gt;             &lt;groupId&gt;mysql&lt;/groupId&gt;             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;             &lt;version&gt;8.0.30&lt;/version&gt;         &lt;/dependency&gt;         &lt;dependency&gt;             &lt;groupId&gt;junit&lt;/groupId&gt;             &lt;artifactId&gt;junit&lt;/artifactId&gt;             &lt;version&gt;4.13.2&lt;/version&gt;         &lt;/dependency&gt;     &lt;/dependencies&gt; &lt;/dependencyManagement&gt;</code></p>
</li>
<li>
<h5 id="module-1">module-1<a hidden class="anchor" aria-hidden="true" href="#module-1">#</a></h5>
<p>在 <code>module-1</code> 中继承 <code>maven-demo</code> 工程，引入 <code>mysql</code>，无需指定版本，将会自动读取父模块中 <code>dependencyManagement</code> 中所指定的版本。当然你也可以选择指定版本，则将会进行覆盖，但并不建议这么操作，将提高项目维护难度。</p>
<p><code>module-1</code> 的 <code>pom</code> 文件内容如下：</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;parent&gt;     &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;     &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;mysql&lt;/groupId&gt;         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;     &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>
</li>
<li>
<h5 id="module-2">module-2<a hidden class="anchor" aria-hidden="true" href="#module-2">#</a></h5>
<p>在 <code>module-2</code> 配置同 <code>module-1</code>，通过 <code>dependencyManagement</code> 我们即实现了项目依赖版本的统一管理。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;parent&gt;     &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;     &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;junit&lt;/groupId&gt;         &lt;artifactId&gt;junit&lt;/artifactId&gt;     &lt;/dependency&gt; &lt;/dependencies&gt;</code></p>
</li>
</ul>
<h4 id="3-依赖导入">3. 依赖导入<a hidden class="anchor" aria-hidden="true" href="#3-依赖导入">#</a></h4>
<p>上面介绍了如何通过 <code>dependencyManagement</code> 实现全局的依赖版本管理，但如果工程中的两个子模块都需要配置相同的 <code>dependencyManagement</code> 配置时，当然你可以选择通过继承父模块来实现，也可以用笨办法直接复制粘贴一份。</p>
<p>在上述的 <code>maven-demo</code> 创建同级模块 <code>maven-demo1</code> ，如果要实现 <code>maven-demo</code> 中配置的 <code>dependencyManagement</code> 则在其 <code>dependencyManagement</code> 配置中导入 <code>maven-demo</code> 并将 <code>scope</code> 设置为 <code>import</code>，并将 <code>type</code> 设置为 <code>pom</code>。</p>
<p>通过导入即可实现更轻量化的模块信息继承，具体配置内容如下：</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;dependencyManagement&gt;     &lt;dependencies&gt;         &lt;dependency&gt;             &lt;groupId&gt;xyz.ibudai&lt;/groupId&gt;             &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;             &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;             &lt;!-- 导入目标模块的 dependencyManagement --&gt;             &lt;!-- 依赖范围为 import --&gt;             &lt;scope&gt;import&lt;/scope&gt;             &lt;!-- 类型一般为 pom --&gt;             &lt;type&gt;pom&lt;/type&gt;         &lt;/dependency&gt;     &lt;/dependencies&gt; &lt;/dependencyManagement&gt;</code></p>
<h3 id="五插件管理">五、插件管理<a hidden class="anchor" aria-hidden="true" href="#五插件管理">#</a></h3>
<p>经过前面的介绍相信对于 <code>Maven</code> 你已经有了一个初步的了解，但 <code>Maven</code> 除了依赖管理之外提供一系列强大的插件，插件对于 <code>Maven</code> 而言可谓时左膀右臂但却经常被人忽略。</p>
<blockquote>
<p>今天就让我介绍一下 Maven 中常用的构建插件。</p>
</blockquote>
<h4 id="1-jar">1. Jar<a hidden class="anchor" aria-hidden="true" href="#1-jar">#</a></h4>
<p>在使用 <code>Java</code> 开发时通常情况下我们都会将工程打包为 <code>JAR</code> 文件，首先了解一下 <code>JAR</code> 的文件结构。</p>
<p>下图即为通过 <code>Maven</code> 打包后的 <code>JAR</code> 文件，其中 <code>org.example</code> 目录为工程中定义的包名，存在编译后的 <code>.class</code> 文件， <code>META-INF</code> 目录用于存放工程的元数据信息。</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aa1f649e6fe74d55a839a64ea84386cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<p>如上图中 <code>META-INF</code> 下的 <code>MANIFEST.MF</code> 文件内容如下：</p>
<p>yaml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>Manifest-Version: 1.0 Archiver-Version: Plexus Archiver Built-By: great Created-By: Apache Maven 3.6.3 Build-Jdk: 1.8.0_202</code></p>
<p>而通过 <code>maven-jar-plugin</code> 插件我们即可在添加额外信息至打包后的 <code>JAR</code> 文件，插件配置信息如下：</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;plugin&gt;       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;       &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;       &lt;version&gt;2.3.1&lt;/version&gt;       &lt;configuration&gt;           &lt;archive&gt;               &lt;manifest&gt;   				&lt;mainClass&gt;org.example.MyTest&lt;/mainClass&gt;                  &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt; 				&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;              &lt;/manifest&gt;             &lt;!-- 配置额外属性信息 --&gt;             &lt;manifestEntries&gt;                   &lt;Plugin-Id&gt;demo-plugin&lt;/Plugin-Id&gt;                   &lt;Plugin-Version&gt;1.0.0&lt;/Plugin-Version&gt;               &lt;/manifestEntries&gt;           &lt;/archive&gt;       &lt;/configuration&gt;   &lt;/plugin&gt;</code></p>
<p>在之前的工程 <code>POM</code> 文件中添加上述构建插件重新进行打包，可以看到 <code>MANIFEST.MF</code> 文件中即添加了我们配置的额外属性。</p>
<p>yaml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>Manifest-Version: 1.0 Archiver-Version: Plexus Archiver Created-By: Apache Maven Built-By: great Build-Jdk: 1.8.0_202 # Specification entries Specification-Title: maven-v1 Specification-Version: 1.0-SNAPSHOT # Implementation entries Implementation-Title: maven-v1 Implementation-Version: 1.0-SNAPSHOT Implementation-Vendor-Id: org.example # Manifest Main-Class: org.example.MyTest # ManifestEntries Plugin-Id: demo-plugin Plugin-Version: 1.0.0</code></p>
<h4 id="2-assembly">2. Assembly<a hidden class="anchor" aria-hidden="true" href="#2-assembly">#</a></h4>
<p>在普通 <code>Maven</code> 工程打包时默认仅会编译工程中新建的 <code>java</code> 文件并存储其 <code>.class</code> 文件，对于 <code>POM</code> 文件中引用的第三方依赖并不会一同打包。</p>
<p>如新建一个 <code>Maven</code> 工程并在依赖中导入 <code>Jackson</code> 依赖库并进行打包编译，可以看到下图编译后的 <code>JAR</code> 文件中只有工程中新建的 <code>MyTest.class</code> 文件，项目中所导入的依赖并没有被一起打包。</p>
<p><img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d37bf253d1c34b38989cab8740d5f4ee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<p>而通过 <code>assembly</code> 插件即可将 <code>POM</code> 配置中的所有依赖一同打包编译至 <code>JAR</code> 文件中。</p>
<p>其中 <code>execution</code> 标签定义了 <code>assembly</code> 插件的作用阶段，如这里设置了在 <code>Maven package</code> 即打包阶段生效。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;plugin&gt;       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;       &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;       &lt;version&gt;3.1.0&lt;/version&gt;       &lt;configuration&gt;           &lt;descriptorRefs&gt;               &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;           &lt;/descriptorRefs&gt;           &lt;!-- Set jar file name --&gt;         &lt;finalName&gt;${project.artifactId}-${project.version}-all&lt;/finalName&gt;           &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;           &lt;attach&gt;false&lt;/attach&gt;           &lt;archive&gt;               &lt;manifest&gt;   				&lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;                  &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt; 				&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;              &lt;/manifest&gt;            &lt;/archive&gt;       &lt;/configuration&gt;       &lt;executions&gt;           &lt;execution&gt;   	        &lt;!-- Set effect phase --&gt;             &lt;id&gt;make-assembly&lt;/id&gt;               &lt;phase&gt;package&lt;/phase&gt;               &lt;goals&gt;                   &lt;goal&gt;single&lt;/goal&gt;               &lt;/goals&gt;           &lt;/execution&gt;       &lt;/executions&gt;   &lt;/plugin&gt;</code></p>
<p>在工程 <code>POM</code> 配置中添加上述信息并重新编译打包工程，可以看到此时 <code>JAR</code> 文件中除了自定义创建的 <code>MyTest.clss</code> 文件外同时包含了依赖的第三方库。</p>
<p><img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a429e9ad7ecf4731801ae4174c8ddf41~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"  />
</p>
<h4 id="3-shade">3. Shade<a hidden class="anchor" aria-hidden="true" href="#3-shade">#</a></h4>
<p><code>Shade</code> 插件的功能更为强大，其提供了两个功能：第一个即与 <code>assembly</code> 类似可实现依赖的打包编译，与 <code>assembly</code> 不同的是 <code>Shade</code> 提供了更灵活的执行策略，可指定需要打包编译的依赖集合。</p>
<p>另一个即实现包的重命名功能，我们都知道 <code>Maven</code> 并不允许在一共工程中同时引入单个依赖的不同版本，而通过 <code>Shade</code> 插件即可实现二次包装从而绕开该限制。</p>
<p>下面介绍一个 <code>Shade</code> 插件中各标签的使用。</p>
<ul>
<li>
<h5 id="artifactset">artifactSet<a hidden class="anchor" aria-hidden="true" href="#artifactset">#</a></h5>
<p>通过 <code>includes</code> 标签可以指定需要一同打包编译的第三方依赖。</p>
<p>定义的格式为：<code>groupId:artifactId</code>。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;artifactSet&gt;       &lt;includes&gt;           &lt;include&gt;groupId:artifactId&lt;/include&gt;       &lt;/includes&gt;   &lt;/artifactSet&gt;</code></p>
</li>
<li>
<h5 id="relocations">relocations<a hidden class="anchor" aria-hidden="true" href="#relocations">#</a></h5>
<p>通过 <code>relocations</code> 标签即可实现模块的重命名功能。</p>
<p>其中 <code>pattern</code> 为需要重命名的模块包， <code>shadedPattern</code> 为重命名后的模块名。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;relocations&gt;       &lt;relocation&gt;           &lt;pattern&gt;old.package.name&lt;/pattern&gt;           &lt;shadedPattern&gt;new.package.name&lt;/shadedPattern&gt;       &lt;/relocation&gt; &lt;/relocations&gt;</code></p>
</li>
<li>
<h5 id="filters">filters<a hidden class="anchor" aria-hidden="true" href="#filters">#</a></h5>
<p>通过 <code>filters</code> 标签可以实现非必要文件的排除，如常见的协议文件等，可通过文件名或类型实现匹配。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;filters&gt;       &lt;filter&gt;           &lt;artifact&gt;*:*&lt;/artifact&gt;           &lt;excludes&gt;               &lt;exclude&gt;filename&lt;/exclude&gt;               &lt;exclude&gt;file pattern&lt;/exclude&gt;           &lt;/excludes&gt;       &lt;/filter&gt;   &lt;/filters&gt;</code></p>
</li>
<li>
<h5 id="完整配置">完整配置<a hidden class="anchor" aria-hidden="true" href="#完整配置">#</a></h5>
<p><code>Shade</code> 同样可以通过 <code>execution</code> 设置作用阶段，上述介绍标签的完整配置内容如下：</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;plugins&gt;       &lt;plugin&gt;           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;           &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;           &lt;version&gt;3.2.0&lt;/version&gt;           &lt;executions&gt;               &lt;!-- Working phase --&gt;               &lt;execution&gt;                   &lt;phase&gt;package&lt;/phase&gt;                   &lt;goals&gt;                       &lt;goal&gt;shade&lt;/goal&gt;                   &lt;/goals&gt;               &lt;/execution&gt;           &lt;/executions&gt;           &lt;configuration&gt;               &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;               &lt;!-- Defined what dependencies to pull into the uber JAR --&gt;               &lt;artifactSet&gt;                   &lt;includes&gt;                       &lt;include&gt;com.fasterxml.jackson.core:jackson-core&lt;/include&gt;                   &lt;/includes&gt;               &lt;/artifactSet&gt;               &lt;!-- Rename the package --&gt;               &lt;relocations&gt;                   &lt;relocation&gt;                       &lt;!-- Old name --&gt;                       &lt;pattern&gt;com.fasterxml.jackson.core&lt;/pattern&gt;                       &lt;!-- New name --&gt;                       &lt;shadedPattern&gt;com.ibudai.fasterxml.jackson.core&lt;/shadedPattern&gt;                   &lt;/relocation&gt;                &lt;/relocations&gt;               &lt;!-- Exclude the file that didn't want --&gt;               &lt;filters&gt;                   &lt;filter&gt;                       &lt;artifact&gt;*:*&lt;/artifact&gt;                       &lt;excludes&gt;                           &lt;exclude&gt;META-INF/license/**&lt;/exclude&gt;                           &lt;exclude&gt;META-INF/*&lt;/exclude&gt;                           &lt;exclude&gt;LICENSE&lt;/exclude&gt;                           &lt;exclude&gt;NOTICE&lt;/exclude&gt;                       &lt;/excludes&gt;                   &lt;/filter&gt;               &lt;/filters&gt;           &lt;/configuration&gt;       &lt;/plugin&gt;   &lt;/plugins&gt;</code></p>
</li>
</ul>
<p>在之前的工程中添加上述配置并重新打包，可以看到编译后的 <code>Jackson</code> 模块包层级已经变成我们自定义的内容，而 <code>Java</code> 的类加载即通过类的完成限定名（包名+类名）来区分是否为同一个类，因此通过 <code>Shade</code> 插件即可实现 <code>Maven</code> 的单一工程多版本引入。 <img loading="lazy" src="/album/article/java/maven/8.png" alt="转存失败，建议直接上传图片文件"  />
</p>
<h3 id="六构建配置">六、构建配置<a hidden class="anchor" aria-hidden="true" href="#六构建配置">#</a></h3>
<p>在上面介绍了工程的依赖管理与多模块的管理配置，下面介绍一下工程打包构建时涉及的配置。</p>
<p>注意以下所有配置项都是定义在 <code>&lt;build&gt;</code> 标签组内，下述不再重复说明。</p>
<h4 id="1-版本指定">1. 版本指定<a hidden class="anchor" aria-hidden="true" href="#1-版本指定">#</a></h4>
<p>在 <code>&lt;plugin&gt;</code> 标签内可指定工程打包编译时使用的 <code>JDK</code> 版本，可根据服务器环境手动修改版本。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;plugins&gt;     &lt;plugin&gt;         &lt;!-- 编译时使用 JDK 版本 --&gt;         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;         &lt;version&gt;3.1&lt;/version&gt;         &lt;configuration&gt;             &lt;source&gt;8&lt;/source&gt;             &lt;target&gt;8&lt;/target&gt;         &lt;/configuration&gt;     &lt;/plugin&gt; &lt;/plugins&gt;</code></p>
<h4 id="2-文件排除">2. 文件排除<a hidden class="anchor" aria-hidden="true" href="#2-文件排除">#</a></h4>
<p>默认项目打包后 <code>/resources</code> 目录下文件都将统一打包进编译后的 <code>JAR</code> 文件，但为了方便配置修改通常将配置文件排除打包，使用时只需将文件放置于 <code>JAR</code> 同级即可。</p>
<p>如下示例中将 <code>application.yml</code> 文件排除打包，后续若需要修改配置无需重新打包只需重启项目即可。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;resources&gt;     &lt;resource&gt;         &lt;!-- 设置编译去除 yml 配置文件 --&gt;         &lt;directory&gt;src/main/resources&lt;/directory&gt;         &lt;excludes&gt;             &lt;exclude&gt;application.yml&lt;/exclude&gt;         &lt;/excludes&gt;     &lt;/resource&gt; &lt;/resources&gt;</code></p>
<h4 id="3-主类配置">3. 主类配置<a hidden class="anchor" aria-hidden="true" href="#3-主类配置">#</a></h4>
<p>在打包时可能出现无法识别工程主类的问题，导致编译后的文件无法正常运行，此时则可以在 <code>pom</code> 文件中手动设置工程的主类。</p>
<p>其中 <code>&lt;mainClass&gt;</code> 中配置的为项目主类的完成限定名。</p>
<p>xml</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;plugins&gt;     &lt;plugin&gt;         &lt;!-- 设置工程主类路径, 可略去 --&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;         &lt;configuration&gt;             &lt;mainClass&gt;xyz.ibudai.TestWebApplication&lt;/mainClass&gt;             &lt;layout&gt;JAR&lt;/layout&gt;         &lt;/configuration&gt;     &lt;/plugin&gt; &lt;/plugins&gt;</code></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/java/">Java</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/wiki/2%E7%AB%9E%E5%93%81%E5%88%86%E6%9E%90/">
    <span class="title">« 上一页</span>
    <br>
    <span>2、竞品分析</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/juejin/%E5%BB%BA%E8%AE%AE%E6%94%B6%E8%97%8Fjetpackcompose%E7%BC%96%E7%A8%8B%E7%9F%A5%E8%AF%86%E5%85%A8%E6%B1%87%E6%80%BB%E5%90%AB%E8%AF%A6%E7%BB%86%E5%AE%9E%E4%BE%8B%E8%AE%B2%E8%A7%A3/">
    <span class="title">下一页 »</span>
    <br>
    <span>【建议收藏】JetpackCompose编程知识全汇总（含详细实例讲解）</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on x"
            href="https://x.com/intent/tweet/?text=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f&amp;hashtags=Java">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f&amp;title=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29&amp;summary=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f&title=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on whatsapp"
            href="https://api.whatsapp.com/send?text=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on telegram"
            href="https://telegram.me/share/url?text=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 史上最全Maven教程，没有之一(逃😎) on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e5%8f%b2%e4%b8%8a%e6%9c%80%e5%85%a8Maven%e6%95%99%e7%a8%8b%ef%bc%8c%e6%b2%a1%e6%9c%89%e4%b9%8b%e4%b8%80%28%e9%80%83%f0%9f%98%8e%29&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2f%25E5%258F%25B2%25E4%25B8%258A%25E6%259C%2580%25E5%2585%25A8maven%25E6%2595%2599%25E7%25A8%258B%25E6%25B2%25A1%25E6%259C%2589%25E4%25B9%258B%25E4%25B8%2580%25E9%2580%2583%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
