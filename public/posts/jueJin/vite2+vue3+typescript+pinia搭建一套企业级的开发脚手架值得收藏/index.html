<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 | PaperMod</title>
<meta name="keywords" content="前端, Vue.js">
<meta name="description" content="由于vue3.2版本的发布，`&lt;scriptsetup&gt;`的实验性标志已经去掉，已经陆陆续续有不少公司开始使用`vue3.2`开发项目了。这篇文章就来帮助大家如何快速使用`vue3.x`">
<meta name="author" content="前端开发爱好者">
<link rel="canonical" href="http://localhost:1313/posts/juejin/vite2&#43;vue3&#43;typescript&#43;pinia%E6%90%AD%E5%BB%BA%E4%B8%80%E5%A5%97%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9A%84%E5%BC%80%E5%8F%91%E8%84%9A%E6%89%8B%E6%9E%B6%E5%80%BC%E5%BE%97%E6%94%B6%E8%97%8F/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/juejin/vite2&#43;vue3&#43;typescript&#43;pinia%E6%90%AD%E5%BB%BA%E4%B8%80%E5%A5%97%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9A%84%E5%BC%80%E5%8F%91%E8%84%9A%E6%89%8B%E6%9E%B6%E5%80%BC%E5%BE%97%E6%94%B6%E8%97%8F/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】" />
<meta property="og:description" content="由于vue3.2版本的发布，`&lt;scriptsetup&gt;`的实验性标志已经去掉，已经陆陆续续有不少公司开始使用`vue3.2`开发项目了。这篇文章就来帮助大家如何快速使用`vue3.x`" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/juejin/vite2&#43;vue3&#43;typescript&#43;pinia%E6%90%AD%E5%BB%BA%E4%B8%80%E5%A5%97%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9A%84%E5%BC%80%E5%8F%91%E8%84%9A%E6%89%8B%E6%9E%B6%E5%80%BC%E5%BE%97%E6%94%B6%E8%97%8F/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-01T00:00:00+00:00" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】"/>
<meta name="twitter:description" content="由于vue3.2版本的发布，`&lt;scriptsetup&gt;`的实验性标志已经去掉，已经陆陆续续有不少公司开始使用`vue3.2`开发项目了。这篇文章就来帮助大家如何快速使用`vue3.x`"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Vite2+Vue3+TypeScript+Pinia搭建一套企业级的开发脚手架【值得收藏】",
      "item": "http://localhost:1313/posts/juejin/vite2+vue3+typescript+pinia%E6%90%AD%E5%BB%BA%E4%B8%80%E5%A5%97%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9A%84%E5%BC%80%E5%8F%91%E8%84%9A%E6%89%8B%E6%9E%B6%E5%80%BC%E5%BE%97%E6%94%B6%E8%97%8F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Vite2+Vue3+TypeScript+Pinia搭建一套企业级的开发脚手架【值得收藏】",
  "name": "Vite2\u002bVue3\u002bTypeScript\u002bPinia搭建一套企业级的开发脚手架【值得收藏】",
  "description": "由于vue3.2版本的发布，``的实验性标志已经去掉，已经陆陆续续有不少公司开始使用`vue3.2`开发项目了。这篇文章就来帮助大家如何快速使用`vue3.x`",
  "keywords": [
    "前端", "Vue.js"
  ],
  "articleBody": " 哈喽,大家好 我是xy👨🏻‍💻。 从我最初接触vue3版本到现在已经有一年的时间。由于 vue3.2 版本的发布，\ngetters 用法介绍 Pinia 中的 getter 与 Vuex 中的 getter 、组件中的计算属性具有相同的功能\nstore =\u003e mian.ts\njs\n代码解读\n复制代码\nimport { defineStore } from 'pinia' export const useMainStore = defineStore({ id: 'mian', state: () =\u003e ({ name: '超级管理员', }), // getters getters: { nameLength: (state) =\u003e state.name.length, } })\n组件中使用:\njs\n代码解读\n复制代码\n用户名:{{ mainStore.name }}\n长度:{{ mainStore.nameLength }} 修改store中的name actions 这里与 Vuex 有极大的不同，Pinia 仅提供了一种方法来定义如何更改状态的规则，放弃 mutations 只依靠 Actions，这是一项重大的改变。\nPinia 让 Actions 更加的灵活：\n可以通过组件或其他 action 调用 可以从其他 store 的 action 中调用 直接在 store 实例上调用 支持同步或异步 有任意数量的参数 可以包含有关如何更改状态的逻辑（也就是 vuex 的 mutations 的作用） 可以 $patch 方法直接更改状态属性 ts\n代码解读\n复制代码\nimport { defineStore } from 'pinia' export const useMainStore = defineStore({ id: 'mian', state: () =\u003e ({ name: '超级管理员', }), getters: { nameLength: (state) =\u003e state.name.length, }, actions: { async insertPost(data:string){ // 可以做异步 // await doAjaxRequest(data); this.name = data; } }, })\n环境变量配置 vite 提供了两种模式：具有开发服务器的开发模式（development）和生产模式（production）\n项目根目录新建:.env.development :\nenv\n代码解读\n复制代码\nNODE_ENV=development VITE_APP_WEB_URL= 'YOUR WEB URL'\n项目根目录新建:.env.production :\nenv\n代码解读\n复制代码\nNODE_ENV=production VITE_APP_WEB_URL= 'YOUR WEB URL'\n组件中使用：\njs\n代码解读\n复制代码\nconsole.log(import.meta.env.VITE_APP_WEB_URL)\n配置 package.json:\n打包区分开发环境和生产环境\njson\n代码解读\n复制代码\n\"build:dev\": \"vite build --mode development\", \"build:pro\": \"vite build --mode production\",\n使用组件库 Naive UI 组件库选择，这里我们选择 Naive UI 至于为什么选择它？我可以直接说尤大大推荐的吗？\n官方介绍： 一个 Vue 3 组件库 比较完整，主题可调，使用 TypeScript，不算太慢 有点意思 介绍还是比较谦虚的，既然尤大推荐，肯定有它的优势了!!!\n安装 Naive UI bash\n代码解读\n复制代码\n# 安装 组件库 yarn add naive-ui # 安装 字体 yarn add vfonts\n如何使用 js\n代码解读\n复制代码\nimport { NButton } from \"naive-ui\" naive-ui\n全局配置 Config Provider 全局化配置设置内部组件的主题、语言和组件卸载于其他位置的 DOM 的类名。\nhtml\n代码解读\n复制代码\n尤其是主题配置这个功能，我真的很喜欢 ❤️\n组件库选择上不做任何强制，根据自己的项目需要选择合适的组件库即可\nVite 常用基础配置 基础配置 运行 代理 和 打包 配置\njs\n代码解读\n复制代码\nserver: { host: '0.0.0.0', port: 3000, open: true, https: false, proxy: {} },\n生产环境去除 console debugger\njs\n代码解读\n复制代码\nbuild:{ ... terserOptions: { compress: { drop_console: true, drop_debugger: true } } }\n生产环境生成 .gz 文件 开启 gzip 可以极大的压缩静态资源，对页面加载的速度起到了显著的作用。\n使用 vite-plugin-compression 可以 gzip 或 brotli 的方式来压缩资源，这一步需要服务器端的配合，vite 只能帮你打包出 .gz 文件。此插件使用简单，你甚至无需配置参数，引入即可。\nbash\n代码解读\n复制代码\n# 安装 yarn add --dev vite-plugin-compression\nplugins 中添加：\njs\n代码解读\n复制代码\nimport viteCompression from 'vite-plugin-compression' // gzip压缩 生产环境生成 .gz 文件 viteCompression({ verbose: true, disable: false, threshold: 10240, algorithm: 'gzip', ext: '.gz', }),\n最终 vite.config.ts js\n代码解读\n复制代码\nimport { defineConfig } from 'vite' import vue from '@vitejs/plugin-vue' import path from 'path' //@ts-ignore import viteCompression from 'vite-plugin-compression' // https://vitejs.dev/config/ export default defineConfig({ base: './', //打包路径 plugins: [ vue(), // gzip压缩 生产环境生成 .gz 文件 viteCompression({ verbose: true, disable: false, threshold: 10240, algorithm: 'gzip', ext: '.gz', }), ], // 配置别名 resolve: { alias: { '@': path.resolve(__dirname, 'src'), }, }, css:{ preprocessorOptions:{ scss:{ additionalData:'@import \"@/assets/style/mian.scss\";' } } }, //启动服务配置 server: { host: '0.0.0.0', port: 8000, open: true, https: false, proxy: {} }, // 生产环境打包配置 //去除 console debugger build: { terserOptions: { compress: { drop_console: true, drop_debugger: true, }, }, }, })\n常用插件 可以查看官方文档：vitejs.cn/plugins/\n@vitejs/plugin-vue 提供 Vue 3 单文件组件支持 @vitejs/plugin-vue-jsx 提供 Vue 3 JSX 支持（通过 专用的 Babel 转换插件） @vitejs/plugin-legacy 为打包后的文件提供传统浏览器兼容性支持 unplugin-vue-components 组件的按需自动导入 vite-plugin-compression 使用 gzip 或者 brotli 来压缩资源 ….. 非常推荐使用的 hooks 库 因为vue3.x和react hooks真的很像，所以就称为 hooks\nVueUse：vueuse.org/\n看到这个库的第一眼，让我立马想到了 react 的 ahooks\nVueUse 是一个基于 Composition API 的实用函数集合。通俗的来说，这就是一个工具函数包，它可以帮助你快速实现一些常见的功能，免得你自己去写，解决重复的工作内容。以及进行了基于 Composition API 的封装。让你在 vue3 中更加得心应手。\n💡想要入手 vue3 的小伙伴，赶快学习起来吧！！！\n💡最后给大家奉上仓库地址吧：github.com/xushanpei/v…\n写在最后 如果你喜欢我的文章，欢迎加我wx: xsp_web_share 为好友，一起交流前端技术。\n",
  "wordCount" : "2174",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2021-12-01T00:00:00Z",
  "dateModified": "2021-12-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "前端开发爱好者"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/juejin/vite2+vue3+typescript+pinia%E6%90%AD%E5%BB%BA%E4%B8%80%E5%A5%97%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9A%84%E5%BC%80%E5%8F%91%E8%84%9A%E6%89%8B%E6%9E%B6%E5%80%BC%E5%BE%97%E6%94%B6%E8%97%8F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】
    </h1>
    <div class="post-description">
      由于vue3.2版本的发布，`&lt;scriptsetup&gt;`的实验性标志已经去掉，已经陆陆续续有不少公司开始使用`vue3.2`开发项目了。这篇文章就来帮助大家如何快速使用`vue3.x`
    </div>
    <div class="post-meta"><span title='2021-12-01 00:00:00 +0000 UTC'>十二月 1, 2021</span>&nbsp;·&nbsp;11 分钟&nbsp;·&nbsp;前端开发爱好者&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/jueJin/Vite2&#43;Vue3&#43;TypeScript&#43;Pinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e6%90%ad%e5%bb%ba%e5%89%8d%e5%87%86%e5%a4%87" aria-label="搭建前准备">搭建前准备</a></li>
                <li>
                    <a href="#vue2-%e4%b8%8e-vue3-%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="Vue2 与 Vue3 的区别">Vue2 与 Vue3 的区别</a></li>
                <li>
                    <a href="#%e4%bb%8b%e7%bb%8d-vite" aria-label="介绍 vite">介绍 vite</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-vite-%e5%bf%ab%e9%80%9f%e5%88%9b%e5%bb%ba%e8%84%9a%e6%89%8b%e6%9e%b6" aria-label="使用 vite 快速创建脚手架">使用 vite 快速创建脚手架</a></li>
                <li>
                    <a href="#%e7%ba%a6%e6%9d%9f%e4%bb%a3%e7%a0%81%e9%a3%8e%e6%a0%bc" aria-label="约束代码风格">约束代码风格</a><ul>
                        
                <li>
                    <a href="#eslint-%e6%94%af%e6%8c%81" aria-label="Eslint 支持">Eslint 支持</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e4%b8%8b%e6%96%b0%e5%bb%ba-eslintrcjs" aria-label="项目下新建 .eslintrc.js">项目下新建 .eslintrc.js</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e4%b8%8b%e6%96%b0%e5%bb%ba-eslintignore" aria-label="项目下新建 .eslintignore">项目下新建 .eslintignore</a></li>
                <li>
                    <a href="#prettier-%e6%94%af%e6%8c%81" aria-label="prettier 支持">prettier 支持</a></li>
                <li>
                    <a href="#%e8%a7%a3%e5%86%b3-eslint-%e5%92%8c-prettier-%e5%86%b2%e7%aa%81" aria-label="解决 eslint 和 prettier 冲突">解决 eslint 和 prettier 冲突</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e4%b8%8b%e6%96%b0%e5%bb%ba-prettierjs" aria-label="项目下新建 .prettier.js">项目下新建 .prettier.js</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e4%b8%8b%e6%96%b0%e5%bb%ba-prettierignore" aria-label="项目下新建 .prettierignore">项目下新建 .prettierignore</a></li>
                <li>
                    <a href="#packagejson-%e9%85%8d%e7%bd%ae" aria-label="package.json 配置:">package.json 配置:</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae-husky--lint-staged" aria-label="配置 husky &#43; lint-staged">配置 husky + lint-staged</a></li>
                <li>
                    <a href="#%e9%a6%96%e5%85%88%e5%ae%89%e8%a3%85-mrm" aria-label="首先安装 mrm">首先安装 mrm</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-lint-staged" aria-label="安装 lint-staged">安装 lint-staged</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e5%bc%95%e7%94%a8%e5%88%ab%e5%90%8d-alias" aria-label="配置文件引用别名 alias">配置文件引用别名 alias</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae-css-%e9%a2%84%e5%a4%84%e7%90%86%e5%99%a8-scss" aria-label="配置 css 预处理器 scss">配置 css 预处理器 scss</a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85" aria-label="安装">安装</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e5%85%a8%e5%b1%80-scss-%e6%a0%b7%e5%bc%8f%e6%96%87%e4%bb%b6" aria-label="配置全局 scss 样式文件">配置全局 scss 样式文件</a></li>
                <li>
                    <a href="#%e7%bb%84%e4%bb%b6%e4%b8%ad%e4%bd%bf%e7%94%a8" aria-label="组件中使用">组件中使用</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%b7%af%e7%94%b1" aria-label="路由">路由</a></li>
                <li>
                    <a href="#%e7%bb%9f%e4%b8%80%e8%af%b7%e6%b1%82%e5%b0%81%e8%a3%85" aria-label="统一请求封装">统一请求封装</a></li>
                <li>
                    <a href="#%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86-pinia" aria-label="状态管理 pinia">状态管理 pinia</a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-pinia" aria-label="安装 pinia">安装 pinia</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba-store-miants-" aria-label="创建 store, mian.ts :">创建 store, mian.ts :</a></li>
                <li>
                    <a href="#getters-%e7%94%a8%e6%b3%95%e4%bb%8b%e7%bb%8d" aria-label="getters 用法介绍">getters 用法介绍</a></li>
                <li>
                    <a href="#actions" aria-label="actions">actions</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f%e9%85%8d%e7%bd%ae" aria-label="环境变量配置">环境变量配置</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e7%bb%84%e4%bb%b6%e5%ba%93-naive-ui" aria-label="使用组件库 Naive UI">使用组件库 Naive UI</a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-naive-ui" aria-label="安装 Naive UI">安装 Naive UI</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8" aria-label="如何使用">如何使用</a></li>
                <li>
                    <a href="#%e5%85%a8%e5%b1%80%e9%85%8d%e7%bd%ae-config-provider" aria-label="全局配置 Config Provider">全局配置 Config Provider</a></li></ul>
                </li>
                <li>
                    <a href="#vite-%e5%b8%b8%e7%94%a8%e5%9f%ba%e7%a1%80%e9%85%8d%e7%bd%ae" aria-label="Vite 常用基础配置">Vite 常用基础配置</a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e7%a1%80%e9%85%8d%e7%bd%ae" aria-label="基础配置">基础配置</a></li>
                <li>
                    <a href="#%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e7%94%9f%e6%88%90-gz-%e6%96%87%e4%bb%b6" aria-label="生产环境生成 .gz 文件">生产环境生成 .gz 文件</a></li>
                <li>
                    <a href="#%e6%9c%80%e7%bb%88-viteconfigts" aria-label="最终 vite.config.ts">最终 vite.config.ts</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%8f%92%e4%bb%b6" aria-label="常用插件">常用插件</a></li>
                <li>
                    <a href="#%e9%9d%9e%e5%b8%b8%e6%8e%a8%e8%8d%90%e4%bd%bf%e7%94%a8%e7%9a%84-hooks-%e5%ba%93" aria-label="非常推荐使用的 hooks 库">非常推荐使用的 hooks 库</a></li>
                <li>
                    <a href="#%e5%86%99%e5%9c%a8%e6%9c%80%e5%90%8e" aria-label="写在最后">写在最后</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><blockquote>
<p>哈喽,大家好 我是<code>xy</code>👨🏻‍💻。 从我最初接触<code>vue3</code>版本到现在已经有一年的时间。由于 vue3.2 版本的发布，<code>&lt;script setup&gt;</code> 的实验性标志已经去掉，已经陆陆续续有不少公司开始使用 <code>vue3.2</code>开发项目了。这篇文章就来帮助大家如何快速使用 <code>vue3.x</code>，<code>typeScript</code>， <code>vite</code> 搭建一套企业级的开发脚手架 🤖。废话不多说，直接上手开搞 💪</p>
</blockquote>
<h2 id="搭建前准备">搭建前准备<a hidden class="anchor" aria-hidden="true" href="#搭建前准备">#</a></h2>
<ol>
<li><code>Vscode</code>: 前端人必备写码神器</li>
<li><code>Chrome</code>：对开发者非常友好的浏览器(反正我是很依赖它的)</li>
<li><code>Nodejs</code>&amp;<code>npm</code>：配置本地开发环境，安装 Node 后你会发现 npm 也会一起安装下来</li>
<li><code>Vue.js devtools</code>：浏览器调试插件</li>
<li><code>Vue Language Features (Volar)</code>：Vscode 开发 vue3 必备插件，提供语法高亮提示，非常好用</li>
<li><code>Vue 3 Snippets</code>：vue3 快捷输入</li>
</ol>
<blockquote>
<p>由于<code>Vue.js devtools</code> 需要到谷歌扩展商店才能下载,贴心 ❤️ 的<code>xy</code>已经为大家准备好了<code>crx</code>文件了,公众号回复:【<code>VueDevTools</code>】可自动获取哦 💪</p>
</blockquote>
<h2 id="vue2-与-vue3-的区别">Vue2 与 Vue3 的区别<a hidden class="anchor" aria-hidden="true" href="#vue2-与-vue3-的区别">#</a></h2>
<p><code>Vue3</code>由于完全由<code>TS</code>进行重写，在应用中对类型判断的定义和使用有很强的表现。同一对象的多个键返回值必须通过定义对应的接口（<code>interface</code>）来进行类型定义。要不然在 ESLint 时都会报错。</p>
<p><code>vue2</code> 的双向数据绑定是利用 <code>ES5</code> 的一个 <code>API Object.definePropert()</code>对数据进行劫持 结合 <code>发布订阅</code>模式的方式来实现的。<code>Vue3</code> 中使用了 <code>es6</code> 的 <code>ProxyAPI</code> 对数据代理。</p>
<p><code>Vue3</code>支持碎片(<code>Fragments</code>)</p>
<p>Vue2 与 Vue3 最大的区别: Vue2 使用<code>Options API</code>而 Vue3 使用的<code>Composition API</code></p>
<p>生命周期钩子变化:</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>Vue2 ~~~~~~~~~~~ vue3 beforeCreate  -&gt; setup() created       -&gt; setup() beforeMount   -&gt; onBeforeMount mounted       -&gt; onMounted beforeUpdate  -&gt; onBeforeUpdate updated       -&gt; onUpdated beforeDestroy -&gt; onBeforeUnmount destroyed     -&gt; onUnmounted activated     -&gt; onActivated deactivated   -&gt; onDeactivated</code></p>
<h2 id="介绍-vite">介绍 vite<a hidden class="anchor" aria-hidden="true" href="#介绍-vite">#</a></h2>
<blockquote>
<p>Vite：下一代前端开发与构建工具</p>
</blockquote>
<ul>
<li>💡 极速的开发服务器启动</li>
<li>⚡️ 轻量快速的热模块重载（HMR）</li>
<li>🛠️ 丰富的功能</li>
<li>📦 自带优化的构建</li>
<li>🔩 通用的插件接口</li>
<li>🔑 完全类型化的 API</li>
</ul>
<p><code>Vite</code> （法语意为 “迅速”，发音 /vit/）是一种全新的前端构建工具，它极大地改善了前端开发体验。</p>
<p>它主要由两部分组成：</p>
<ul>
<li>
<p>一个开发服务器，它基于 原生 <code>ES</code> 模块 提供了 丰富的内建功能，如速度快到惊人的 模块热更新（HMR）。</p>
</li>
<li>
<p>一套构建指令，它使用 <code>Rollup</code> 打包你的代码，并且它是预配置的，可以输出用于生产环境的优化过的静态资源。</p>
</li>
<li>
<p>Vite 意在提供开箱即用的配置，同时它的 插件 API 和 JavaScript API 带来了高度的<code>可扩展性</code>，并有完整的类型支持。</p>
</li>
</ul>
<h2 id="使用-vite-快速创建脚手架">使用 vite 快速创建脚手架<a hidden class="anchor" aria-hidden="true" href="#使用-vite-快速创建脚手架">#</a></h2>
<blockquote>
<p>兼容性注意:Vite 需要 <code>Node.js</code> 版本 <code>&gt;= 12.0.0</code>。</p>
</blockquote>
<ol>
<li>第一步: 在需要创建项目文件目录下打开 <code>cmd</code> 运行以下命令</li>
</ol>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># npm 6.x npm init @vitejs/app vite_vue3_ts --template # npm 7+, 需要额外的双横线： npm init @vitejs/app vite_vue3_ts -- --template # yarn yarn create @vitejs/app vite_vue3_ts --template</code></p>
<p>这里我采用 <code>yarn</code> 来安装</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4d3de6d98f643f2b7e2a4937a22f0c6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<ol start="2">
<li>第二步: 选择 <code>vue</code>回车 =&gt; <code>vue-ts</code>回车</li>
</ol>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c16b23c70309483c9cae51d0f096425a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
 <img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acd58631a0494185871a488558f60e75~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<ol start="3">
<li>第三步: <code>cd</code> 到项目文件夹,安装依赖,启动项目</li>
</ol>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 进入项目文件夹 cd vite_vue3_ts # 安装依赖 yarn # 启动 yarn dev</code></p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/704ced7929da4c56b29633f188d780e2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<h2 id="约束代码风格">约束代码风格<a hidden class="anchor" aria-hidden="true" href="#约束代码风格">#</a></h2>
<h3 id="eslint-支持">Eslint 支持<a hidden class="anchor" aria-hidden="true" href="#eslint-支持">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># eslint 安装 yarn add eslint --dev # eslint 插件安装 yarn add eslint-plugin-vue --dev yarn add @typescript-eslint/eslint-plugin --dev yarn add eslint-plugin-prettier --dev # typescript parser yarn add @typescript-eslint/parser --dev</code></p>
<p>注意: 如果 <code>eslint</code> 安装报错:</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/799c7eee7a66421294a69676b24b1010~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p>可以尝试运行以下命令:</p>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn config set ignore-engines true</code></p>
<p>运行成功后再次执行 <code>eslint</code> 安装命令</p>
<h3 id="项目下新建-eslintrcjs">项目下新建 .eslintrc.js<a hidden class="anchor" aria-hidden="true" href="#项目下新建-eslintrcjs">#</a></h3>
<blockquote>
<p>配置 <code>eslint</code> 校验规则:</p>
</blockquote>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>module.exports = {   root: true,   env: {     browser: true,     node: true,     es2021: true,   },   parser: 'vue-eslint-parser',   extends: [     'eslint:recommended',     'plugin:vue/vue3-recommended',     'plugin:@typescript-eslint/recommended',     'plugin:prettier/recommended',     // eslint-config-prettier 的缩写     'prettier',   ],   parserOptions: {     ecmaVersion: 12,     parser: '@typescript-eslint/parser',     sourceType: 'module',     ecmaFeatures: {       jsx: true,     },   },   // eslint-plugin-vue @typescript-eslint/eslint-plugin eslint-plugin-prettier的缩写   plugins: ['vue', '@typescript-eslint', 'prettier'],   rules: {     '@typescript-eslint/ban-ts-ignore': 'off',     '@typescript-eslint/no-unused-vars': 'off',     '@typescript-eslint/explicit-function-return-type': 'off',     '@typescript-eslint/no-explicit-any': 'off',     '@typescript-eslint/no-var-requires': 'off',     '@typescript-eslint/no-empty-function': 'off',     '@typescript-eslint/no-use-before-define': 'off',     '@typescript-eslint/ban-ts-comment': 'off',     '@typescript-eslint/ban-types': 'off',     '@typescript-eslint/no-non-null-assertion': 'off',     '@typescript-eslint/explicit-module-boundary-types': 'off',     'no-var': 'error',     'prettier/prettier': 'error',     // 禁止出现console     'no-console': 'warn',     // 禁用debugger     'no-debugger': 'warn',     // 禁止出现重复的 case 标签     'no-duplicate-case': 'warn',     // 禁止出现空语句块     'no-empty': 'warn',     // 禁止不必要的括号     'no-extra-parens': 'off',     // 禁止对 function 声明重新赋值     'no-func-assign': 'warn',     // 禁止在 return、throw、continue 和 break 语句之后出现不可达代码     'no-unreachable': 'warn',     // 强制所有控制语句使用一致的括号风格     curly: 'warn',     // 要求 switch 语句中有 default 分支     'default-case': 'warn',     // 强制尽可能地使用点号     'dot-notation': 'warn',     // 要求使用 === 和 !==     eqeqeq: 'warn',     // 禁止 if 语句中 return 语句之后有 else 块     'no-else-return': 'warn',     // 禁止出现空函数     'no-empty-function': 'warn',     // 禁用不必要的嵌套块     'no-lone-blocks': 'warn',     // 禁止使用多个空格     'no-multi-spaces': 'warn',     // 禁止多次声明同一变量     'no-redeclare': 'warn',     // 禁止在 return 语句中使用赋值语句     'no-return-assign': 'warn',     // 禁用不必要的 return await     'no-return-await': 'warn',     // 禁止自我赋值     'no-self-assign': 'warn',     // 禁止自身比较     'no-self-compare': 'warn',     // 禁止不必要的 catch 子句     'no-useless-catch': 'warn',     // 禁止多余的 return 语句     'no-useless-return': 'warn',     // 禁止变量声明与外层作用域的变量同名     'no-shadow': 'off',     // 允许delete变量     'no-delete-var': 'off',     // 强制数组方括号中使用一致的空格     'array-bracket-spacing': 'warn',     // 强制在代码块中使用一致的大括号风格     'brace-style': 'warn',     // 强制使用骆驼拼写法命名约定     camelcase: 'warn',     // 强制使用一致的缩进     indent: 'off',     // 强制在 JSX 属性中一致地使用双引号或单引号     // 'jsx-quotes': 'warn',     // 强制可嵌套的块的最大深度4     'max-depth': 'warn',     // 强制最大行数 300     // &quot;max-lines&quot;: [&quot;warn&quot;, { &quot;max&quot;: 1200 }],     // 强制函数最大代码行数 50     // 'max-lines-per-function': ['warn', { max: 70 }],     // 强制函数块最多允许的的语句数量20     'max-statements': ['warn', 100],     // 强制回调函数最大嵌套深度     'max-nested-callbacks': ['warn', 3],     // 强制函数定义中最多允许的参数数量     'max-params': ['warn', 3],     // 强制每一行中所允许的最大语句数量     'max-statements-per-line': ['warn', { max: 1 }],     // 要求方法链中每个调用都有一个换行符     'newline-per-chained-call': ['warn', { ignoreChainWithDepth: 3 }],     // 禁止 if 作为唯一的语句出现在 else 语句中     'no-lonely-if': 'warn',     // 禁止空格和 tab 的混合缩进     'no-mixed-spaces-and-tabs': 'warn',     // 禁止出现多行空行     'no-multiple-empty-lines': 'warn',     // 禁止出现;     semi: ['warn', 'never'],     // 强制在块之前使用一致的空格     'space-before-blocks': 'warn',     // 强制在 function的左括号之前使用一致的空格     // 'space-before-function-paren': ['warn', 'never'],     // 强制在圆括号内使用一致的空格     'space-in-parens': 'warn',     // 要求操作符周围有空格     'space-infix-ops': 'warn',     // 强制在一元操作符前后使用一致的空格     'space-unary-ops': 'warn',     // 强制在注释中 // 或 /* 使用一致的空格     // &quot;spaced-comment&quot;: &quot;warn&quot;,     // 强制在 switch 的冒号左右有空格     'switch-colon-spacing': 'warn',     // 强制箭头函数的箭头前后使用一致的空格     'arrow-spacing': 'warn',     'no-var': 'warn',     'prefer-const': 'warn',     'prefer-rest-params': 'warn',     'no-useless-escape': 'warn',     'no-irregular-whitespace': 'warn',     'no-prototype-builtins': 'warn',     'no-fallthrough': 'warn',     'no-extra-boolean-cast': 'warn',     'no-case-declarations': 'warn',     'no-async-promise-executor': 'warn',   },   globals: {     defineProps: 'readonly',     defineEmits: 'readonly',     defineExpose: 'readonly',     withDefaults: 'readonly',   }, }</code></p>
<h3 id="项目下新建-eslintignore">项目下新建 .eslintignore<a hidden class="anchor" aria-hidden="true" href="#项目下新建-eslintignore">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># eslint 忽略检查 (根据项目需要自行添加) node_modules dist</code></p>
<h3 id="prettier-支持">prettier 支持<a hidden class="anchor" aria-hidden="true" href="#prettier-支持">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装 prettier yarn add prettier --dev</code></p>
<h3 id="解决-eslint-和-prettier-冲突">解决 eslint 和 prettier 冲突<a hidden class="anchor" aria-hidden="true" href="#解决-eslint-和-prettier-冲突">#</a></h3>
<blockquote>
<p>解决 <code>ESLint</code> 中的样式规范和 <code>prettier</code> 中样式规范的<code>冲突</code>，以 <code>prettier</code> 的样式规范<code>为准</code>，使 ESLint 中的样式规范自动失效</p>
</blockquote>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装插件 eslint-config-prettier yarn add eslint-config-prettier --dev</code></p>
<h3 id="项目下新建-prettierjs">项目下新建 .prettier.js<a hidden class="anchor" aria-hidden="true" href="#项目下新建-prettierjs">#</a></h3>
<blockquote>
<p>配置 <code>prettier</code> 格式化规则:</p>
</blockquote>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>module.exports = {   tabWidth: 2,   jsxSingleQuote: true,   jsxBracketSameLine: true,   printWidth: 100,   singleQuote: true,   semi: false,   overrides: [     {       files: '*.json',       options: {         printWidth: 200,       },     },   ],   arrowParens: 'always', }</code></p>
<h3 id="项目下新建-prettierignore">项目下新建 .prettierignore<a hidden class="anchor" aria-hidden="true" href="#项目下新建-prettierignore">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 忽略格式化文件 (根据项目需要自行添加) node_modules dist</code></p>
<h3 id="packagejson-配置">package.json 配置:<a hidden class="anchor" aria-hidden="true" href="#packagejson-配置">#</a></h3>
<p>json</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>{   &quot;script&quot;: {     &quot;lint&quot;: &quot;eslint src --fix --ext .ts,.tsx,.vue,.js,.jsx&quot;,     &quot;prettier&quot;: &quot;prettier --write .&quot;   } }</code></p>
<p>上面配置完成后,可以运行以下<code>命令</code>测试下代码检查个<code>格式化</code>效果:</p>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># eslint 检查 yarn lint # prettier 自动格式化 yarn prettier</code></p>
<h3 id="配置-husky--lint-staged">配置 husky + lint-staged<a hidden class="anchor" aria-hidden="true" href="#配置-husky--lint-staged">#</a></h3>
<blockquote>
<p>使用<code>husky</code> + <code>lint-staged</code>助力团队编码规范, husky&amp;lint-staged 安装推荐使用 <code>mrm</code>, 它将根据 <code>package.json</code> 依赖项中的代码质量工具来安装和配置 husky 和 lint-staged，因此请确保在此之前安装并配置所有代码质量工具，如 <code>Prettier 和 ESlint</code></p>
</blockquote>
<h3 id="首先安装-mrm">首先安装 mrm<a hidden class="anchor" aria-hidden="true" href="#首先安装-mrm">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>npm i mrm -D --registry=https://registry.npm.taobao.org</code></p>
<p><code>husky</code> 是一个为 git 客户端增加 <code>hook</code> 的工具。安装后，它会自动在仓库中的 <code>.git/</code> 目录下增加相应的钩子；比如 <code>pre-commit</code> 钩子就会在你执行 <code>git commit</code> 的触发。</p>
<p>那么我们可以在 <code>pre-commit</code> 中实现一些比如 <code>lint 检查</code>、<code>单元测试</code>、<code>代码美化</code>等操作。当然，<code>pre-commit</code> 阶段执行的命令当然要保证其速度不要太慢，每次 commit 都等很久也不是什么好的体验。</p>
<p><code>lint-staged</code>，一个仅仅过滤出 Git 代码暂存区文件(被 <code>git add</code> 的文件)的工具；这个很实用，因为我们如果对整个项目的代码做一个检查，可能耗时很长，如果是老项目，要对之前的代码做一个代码规范检查并修改的话，这可能就麻烦了呀，可能导致项目改动很大。</p>
<p>所以这个 <code>lint-staged</code>，对团队项目和开源项目来说，是一个很好的工具，它是对个人要提交的代码的一个规范和约束</p>
<h3 id="安装-lint-staged">安装 lint-staged<a hidden class="anchor" aria-hidden="true" href="#安装-lint-staged">#</a></h3>
<blockquote>
<p><code>mrm</code> 安装 <code>lint-staged</code> 会<code>自动</code>把 <code>husky</code> 一起安装下来</p>
</blockquote>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>npx mrm lint-staged</code></p>
<p>安装成功后会发现 <code>package.json</code> 中多了一下几个配置:</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da046b9e80384811a35a5bc81cef04db~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p>因为我们要结合 <code>prettier</code> 代码格式化,所有修改一下配置:</p>
<p>json</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&quot;husky&quot;: {     &quot;hooks&quot;: {       &quot;pre-commit&quot;: &quot;lint-staged&quot;     }   },   &quot;lint-staged&quot;: {     &quot;*.{js,jsx,vue,ts,tsx}&quot;: [       &quot;yarn lint&quot;,       &quot;prettier --write&quot;,       &quot;git add&quot;     ]   }</code></p>
<p>好了,到这里代码格式化配置基本大功告成了!!!</p>
<p>可以修改部分代码尝试 <code>git commit</code> ,你会发现代码将自动格式化:</p>
<p>提交前的代码(发现编辑器<code>爆红</code>了):</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/19e0c1073cdb4a098b4b8d1c927d454f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p>执行 <code>commit</code> 操作,控制台可以看到走了哪些流程:</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c60beb3181b24abfa3568d5ce19d0895~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p><code>commit</code> 后的代码,是不是已经被格式化了</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4ff017be0f847cdbb147f343a6ba0e4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<h3 id="配置文件引用别名-alias">配置文件引用别名 alias<a hidden class="anchor" aria-hidden="true" href="#配置文件引用别名-alias">#</a></h3>
<blockquote>
<p>直接修改 <code>vite.config.ts</code> 文件配置:</p>
</blockquote>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineConfig } from 'vite' import vue from '@vitejs/plugin-vue' import path from 'path' // https://vitejs.dev/config/ export default defineConfig({   plugins: [vue()],   resolve: {     alias: {       '@': path.resolve(__dirname, 'src'),     },   }, })</code></p>
<blockquote>
<p>修改 <code>tsconfig.json</code></p>
</blockquote>
<p>json</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>{   &quot;compilerOptions&quot;: {     &quot;target&quot;: &quot;esnext&quot;,     &quot;module&quot;: &quot;esnext&quot;,     &quot;moduleResolution&quot;: &quot;node&quot;,     &quot;strict&quot;: true,     &quot;jsx&quot;: &quot;preserve&quot;,     &quot;sourceMap&quot;: true,     &quot;resolveJsonModule&quot;: true,     &quot;esModuleInterop&quot;: true,     &quot;lib&quot;: [&quot;esnext&quot;, &quot;dom&quot;],     &quot;baseUrl&quot;: &quot;.&quot;,     &quot;paths&quot;: {       &quot;@/*&quot;:[&quot;src/*&quot;]     }   },   &quot;include&quot;: [&quot;src/**/*.ts&quot;, &quot;src/**/*.d.ts&quot;, &quot;src/**/*.tsx&quot;, &quot;src/**/*.vue&quot;] }</code></p>
<h2 id="配置-css-预处理器-scss">配置 css 预处理器 scss<a hidden class="anchor" aria-hidden="true" href="#配置-css-预处理器-scss">#</a></h2>
<blockquote>
<p>虽然 <code>vite</code> 原生支持 <code>less/sass/scss/stylus</code>，但是你必须手动安装他们的预处理器依赖</p>
</blockquote>
<h3 id="安装">安装<a hidden class="anchor" aria-hidden="true" href="#安装">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>yarn add dart-sass --dev yarn add sass --dev</code></p>
<h3 id="配置全局-scss-样式文件">配置全局 scss 样式文件<a hidden class="anchor" aria-hidden="true" href="#配置全局-scss-样式文件">#</a></h3>
<p>在 <code>src/assets</code> 下新增 <code>style</code> 文件夹，用于存放全局样式文件</p>
<p>新建 <code>main.scss</code>, 设置一个用于测试的颜色<code>变量</code> :</p>
<p>scss</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>$test-color: red;</code></p>
<p>如何将这个全局样式文件<code>全局注入</code>到项目中呢？配置 <code>Vite</code> 即可：</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>css:{     preprocessorOptions:{       scss:{         additionalData:'@import &quot;@/assets/style/mian.scss&quot;;'       }     }   },</code></p>
<h3 id="组件中使用">组件中使用<a hidden class="anchor" aria-hidden="true" href="#组件中使用">#</a></h3>
<blockquote>
<p>不需要任何引入可以直接使用全局<code>scss</code>定义的变量</p>
</blockquote>
<p>scss</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>.test{   color: $test-color; }</code></p>
<h2 id="路由">路由<a hidden class="anchor" aria-hidden="true" href="#路由">#</a></h2>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装路由 yarn add vue-router@4</code></p>
<p>在 <code>src</code> 文件下新增 <code>router</code> 文件夹 =&gt; <code>router.ts</code> 文件,内容如下:</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router' const routes: RouteRecordRaw[] = [   {     path: '/',     name: 'Login',     component: () =&gt; import('@/pages/login/Login.vue'), // 注意这里要带上 文件后缀.vue   }, ] const router = createRouter({   history: createWebHistory(),   routes, }) export default router</code></p>
<p>修改入口文件 <code>mian.ts</code> :</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { createApp } from 'vue' import App from './App.vue' import router from './router/index' const app = createApp(App) app.use(router) app.mount('#app')</code></p>
<p>到这里路由的基础配置已经完成了,更多配置信息可以查看 <code>vue-router</code> 官方文档:</p>
<blockquote>
<p>vue-router: <code>https://next.router.vuejs.org/zh/guide/</code></p>
</blockquote>
<p><code>vue-router4.x</code> 支持 <code>typescript</code>，配置路由的类型是 <code>RouteRecordRaw</code>，这里 <code>meta</code> 可以让我们有更多的发挥空间，这里提供一些参考：</p>
<ul>
<li><code>title</code>:<code>string</code>; 页面标题，通常必选。</li>
<li><code>icon?</code>:<code>string</code>; 图标，一般配合菜单使用。</li>
<li><code>auth?</code>:<code>boolean</code>; 是否需要登录权限。</li>
<li><code>ignoreAuth?</code>:<code>boolean</code>; 是否忽略权限。</li>
<li><code>roles?</code>:<code>RoleEnum[]</code>; 可以访问的角色</li>
<li><code>keepAlive?</code>:<code>boolean</code>; 是否开启页面缓存</li>
<li><code>hideMenu?</code>:<code>boolean</code>; 有些路由我们并不想在菜单中显示，比如某些编辑页面。</li>
<li><code>order?</code>:<code>number</code>; 菜单排序。</li>
<li><code>frameUrl?</code>:<code>string</code>; 嵌套外链。</li>
</ul>
<blockquote>
<p>这里只提供一些思路，每个项目涉及到的业务都会存在些差异，这里就不作详细讲解了，根据自己业务需求做配置即可。</p>
</blockquote>
<h2 id="统一请求封装">统一请求封装<a hidden class="anchor" aria-hidden="true" href="#统一请求封装">#</a></h2>
<blockquote>
<p>使用过 vue2.x 的同学应该对 axios 很熟悉了，这里我们直接使用 axios 做封装：</p>
</blockquote>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装 axios yarn add axios # 安装 nprogress 用于请求 loading # 也可以根据项目需求自定义其它 loading yarn add nprogress # 类型声明，或者添加一个包含 `declare module 'nprogress' yarn add @types/nprogress --dev</code></p>
<p>实际使用中可以根据项目修改，比如<code>RESTful</code> <code>api</code>中可以自行添加<code>put</code>和<code>delete</code>请求,<code>ResType</code>也可以根据后端的通用返回值动态的去修改</p>
<p>新增 <code>service</code> 文件夹，<code>service</code> 下新增 <code>http.ts</code> 文件以及 <code>api</code> 文件夹:</p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3cb14fd2f686450aaaeab8865442f0d6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p><code>http.ts</code> : 用于<code>axios</code>封装</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>//http.ts import axios, { AxiosRequestConfig } from 'axios' import NProgress from 'nprogress' // 设置请求头和请求路径 axios.defaults.baseURL = '/api' axios.defaults.timeout = 10000 axios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8' axios.interceptors.request.use(   (config): AxiosRequestConfig&lt;any&gt; =&gt; {     const token = window.sessionStorage.getItem('token')     if (token) {       //@ts-ignore       config.headers.token = token     }     return config   },   (error) =&gt; {     return error   } ) // 响应拦截 axios.interceptors.response.use((res) =&gt; {   if (res.data.code === 111) {     sessionStorage.setItem('token', '')     // token过期操作   }   return res }) interface ResType&lt;T&gt; {   code: number   data?: T   msg: string   err?: string } interface Http {   get&lt;T&gt;(url: string, params?: unknown): Promise&lt;ResType&lt;T&gt;&gt;   post&lt;T&gt;(url: string, params?: unknown): Promise&lt;ResType&lt;T&gt;&gt;   upload&lt;T&gt;(url: string, params: unknown): Promise&lt;ResType&lt;T&gt;&gt;   download(url: string): void } const http: Http = {   get(url, params) {     return new Promise((resolve, reject) =&gt; {       NProgress.start()       axios         .get(url, { params })         .then((res) =&gt; {           NProgress.done()           resolve(res.data)         })         .catch((err) =&gt; {           NProgress.done()           reject(err.data)         })     })   },   post(url, params) {     return new Promise((resolve, reject) =&gt; {       NProgress.start()       axios         .post(url, JSON.stringify(params))         .then((res) =&gt; {           NProgress.done()           resolve(res.data)         })         .catch((err) =&gt; {           NProgress.done()           reject(err.data)         })     })   },   upload(url, file) {     return new Promise((resolve, reject) =&gt; {       NProgress.start()       axios         .post(url, file, {           headers: { 'Content-Type': 'multipart/form-data' },         })         .then((res) =&gt; {           NProgress.done()           resolve(res.data)         })         .catch((err) =&gt; {           NProgress.done()           reject(err.data)         })     })   },   download(url) {     const iframe = document.createElement('iframe')     iframe.style.display = 'none'     iframe.src = url     iframe.onload = function () {       document.body.removeChild(iframe)     }     document.body.appendChild(iframe)   }, } export default http</code></p>
<p><code>api</code> : 项目中接口做统一管理，按照模块来划分</p>
<p>在 <code>api</code> 文件下新增 <code>login</code> 文件夹,用于存放登录模块的请求接口,login 文件夹下分别新增 <code>login.ts</code> <code>types.ts</code> :</p>
<p><code>login.ts</code>:</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import http from '@/service/http' import * as T from './types' const loginApi: T.ILoginApi = {     login(params){         return http.post('/login', params)     } } export default loginApi</code></p>
<p><code>types.ts</code>:</p>
<p>ts</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>export interface ILoginParams {     userName: string     passWord: string | number } export interface ILoginApi {     login: (params: ILoginParams)=&gt; Promise&lt;any&gt; }</code></p>
<p>至此,一个简单地请求封装完成了!!!!</p>
<p>除了自己手动封装 axios ,这里还推荐一个 vue3 的请求库: <code>VueRequest</code>,非常好用,下面来看看 <code>VueRequest</code>有哪些比较好用的功能吧!!!</p>
<ul>
<li>🚀 所有数据都具有响应式</li>
<li>🔄 轮询请求</li>
<li>🤖 自动处理错误重试</li>
<li>🗄 内置请求缓存</li>
<li>💧 节流请求与防抖请求</li>
<li>🎯 聚焦页面时自动重新请求</li>
<li>⚙️ 强大的分页扩展以及加载更多扩展</li>
<li>📠 完全使用 Typescript 编写，具有强大的类型提示</li>
<li>⚡️ 兼容 Vite</li>
<li>🍃 轻量化</li>
<li>📦 开箱即用</li>
</ul>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fbba09e4803b4fd4985a7cc040e6e65c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p>是不是很强大 💪</p>
<blockquote>
<p>官网链接: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.attojs.com%2F" title="https://www.attojs.com/">www.attojs.com/</a></p>
</blockquote>
<h2 id="状态管理-pinia">状态管理 pinia<a hidden class="anchor" aria-hidden="true" href="#状态管理-pinia">#</a></h2>
<blockquote>
<p>由于 vuex 4 对 typescript 的支持让人感到难过，所以状态管理弃用了 vuex 而采取了 pinia. pinia 的作者是 Vue 核心团队成员</p>
</blockquote>
<p>尤大好像说 <code>pinia</code> 可能会代替 <code>vuex</code>，所以请放心使用。</p>
<h3 id="安装-pinia">安装 pinia<a hidden class="anchor" aria-hidden="true" href="#安装-pinia">#</a></h3>
<p>Pinia 与 Vuex 的区别：</p>
<ul>
<li><code>id</code> 是必要的，它将所使用 store 连接到 devtools。</li>
<li>创建方式：<code>new Vuex.Store(...)</code>(vuex3)，<code>createStore(...)</code>(vuex4)。</li>
<li>对比于 vuex3 ，state 现在是一个<code>函数返回对象</code>。</li>
<li>没有 <code>mutations</code>，不用担心，state 的变化依然记录在 devtools 中。</li>
</ul>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装 yarn add pinia@next</code></p>
<p>main.ts 中增加</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 引入 import { createPinia } from &quot;pinia&quot; # 创建根存储库并将其传递给应用程序 app.use(createPinia())</code></p>
<p>在 <code>src</code> 文件夹下新增 <code>store</code> 文件夹,接在在 store 中新增 <code>main.ts</code></p>
<h3 id="创建-store-miants-">创建 <code>store</code>, mian.ts :<a hidden class="anchor" aria-hidden="true" href="#创建-store-miants-">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineStore } from 'pinia' export const useMainStore = defineStore({   id: 'mian',   state: () =&gt;({     name: '超级管理员'   }) })</code></p>
<p>组建中获取 store :</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;template&gt;   &lt;div&gt;{{mainStore.name}}&lt;/div&gt; &lt;/template&gt; &lt;script setup lang=&quot;ts&quot;&gt; import { useMainStore } from &quot;@/store/mian&quot; const mainStore = useMainStore() &lt;/script&gt;</code></p>
<h3 id="getters-用法介绍">getters 用法介绍<a hidden class="anchor" aria-hidden="true" href="#getters-用法介绍">#</a></h3>
<blockquote>
<p>Pinia 中的 getter 与 Vuex 中的 getter 、组件中的计算属性具有相同的功能</p>
</blockquote>
<p><code>store</code> =&gt; <code>mian.ts</code></p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineStore } from 'pinia' export const useMainStore = defineStore({   id: 'mian',   state: () =&gt; ({     name: '超级管理员',   }),   // getters   getters: {     nameLength: (state) =&gt; state.name.length,   } })</code></p>
<p>组件中使用:</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;template&gt;   &lt;div&gt;用户名:{{ mainStore.name }}&lt;br /&gt;长度:{{ mainStore.nameLength }}&lt;/div&gt;   &lt;hr/&gt;   &lt;button @click=&quot;updateName&quot;&gt;修改store中的name&lt;/button&gt; &lt;/template&gt; &lt;script setup lang=&quot;ts&quot;&gt; import { useMainStore } from '@/store/mian' const mainStore = useMainStore() const updateName = ()=&gt;{   // $patch 修改 store 中的数据   mainStore.$patch({     name: '名称被修改了,nameLength也随之改变了'   }) } &lt;/script&gt;</code></p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c1f6aa466fc4783b1b56b05c4f5809e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<h3 id="actions">actions<a hidden class="anchor" aria-hidden="true" href="#actions">#</a></h3>
<blockquote>
<p>这里与 <code>Vuex</code> 有极大的不同，<code>Pinia</code> 仅提供了一种方法来定义如何更改状态的规则，放弃 <code>mutations</code> 只依靠 <code>Actions</code>，这是一项重大的改变。</p>
</blockquote>
<p><code>Pinia</code> 让 <code>Actions</code> 更加的灵活：</p>
<ul>
<li>可以通过组件或其他 <code>action</code> 调用</li>
<li>可以从其他 <code>store</code> 的 <code>action</code> 中调用</li>
<li>直接在 <code>store</code> 实例上调用</li>
<li>支持<code>同步</code>或<code>异步</code></li>
<li>有任意数量的参数</li>
<li>可以包含有关如何更改状态的逻辑（也就是 vuex 的 mutations 的作用）</li>
<li>可以 <code>$patch</code> 方法直接更改状态属性</li>
</ul>
<p>ts</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineStore } from 'pinia' export const useMainStore = defineStore({   id: 'mian',   state: () =&gt; ({     name: '超级管理员',   }),   getters: {     nameLength: (state) =&gt; state.name.length,   },   actions: {     async insertPost(data:string){       // 可以做异步       // await doAjaxRequest(data);       this.name = data;     }   }, })</code></p>
<h2 id="环境变量配置">环境变量配置<a hidden class="anchor" aria-hidden="true" href="#环境变量配置">#</a></h2>
<blockquote>
<p><code>vite</code> 提供了两种模式：具有开发服务器的<code>开发模式</code>（development）和<code>生产模式</code>（production）</p>
</blockquote>
<p>项目根目录新建:<code>.env.development</code> :</p>
<p>env</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>NODE_ENV=development VITE_APP_WEB_URL= 'YOUR WEB URL'</code></p>
<p>项目根目录新建:<code>.env.production</code> :</p>
<p>env</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>NODE_ENV=production VITE_APP_WEB_URL= 'YOUR WEB URL'</code></p>
<p>组件中使用：</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>console.log(import.meta.env.VITE_APP_WEB_URL)</code></p>
<p>配置 <code>package.json</code>:</p>
<blockquote>
<p>打包区分开发环境和生产环境</p>
</blockquote>
<p>json</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&quot;build:dev&quot;: &quot;vite build --mode development&quot;, &quot;build:pro&quot;: &quot;vite build --mode production&quot;,</code></p>
<h2 id="使用组件库-naive-ui">使用组件库 Naive UI<a hidden class="anchor" aria-hidden="true" href="#使用组件库-naive-ui">#</a></h2>
<blockquote>
<p>组件库选择，这里我们选择 <code>Naive UI</code> 至于为什么选择它？我可以直接说<code>尤大大</code>推荐的吗？</p>
</blockquote>
<ul>
<li>官方介绍：
<ul>
<li>一个 <code>Vue 3</code> 组件库</li>
<li>比较完整，<code>主题可调</code>，使用 <code>TypeScript</code>，不算太慢</li>
<li>有点意思</li>
</ul>
</li>
</ul>
<p>介绍还是比较谦虚的，既然<code>尤大</code>推荐，肯定有它的优势了!!!</p>
<h3 id="安装-naive-ui">安装 Naive UI<a hidden class="anchor" aria-hidden="true" href="#安装-naive-ui">#</a></h3>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装 组件库 yarn add naive-ui # 安装 字体 yarn add vfonts</code></p>
<h3 id="如何使用">如何使用<a hidden class="anchor" aria-hidden="true" href="#如何使用">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { NButton } from &quot;naive-ui&quot; &lt;n-button&gt;naive-ui&lt;/n-button&gt;</code></p>
<h3 id="全局配置-config-provider">全局配置 Config Provider<a hidden class="anchor" aria-hidden="true" href="#全局配置-config-provider">#</a></h3>
<blockquote>
<p>全局化配置设置内部组件的<code>主题</code>、<code>语言</code>和组件卸载于其他位置的 <code>DOM</code> 的类名。</p>
</blockquote>
<p>html</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>&lt;n-config-provider :locale=&quot;zhCN&quot; :theme=&quot;theme&quot;&gt;     &lt;!-- 容器 --&gt; &lt;/n-config-provider&gt;</code></p>
<p>尤其是主题配置这个功能，我真的很喜欢 ❤️</p>
<blockquote>
<p>组件库选择上不做任何强制，根据自己的项目需要选择合适的组件库即可</p>
</blockquote>
<h2 id="vite-常用基础配置">Vite 常用基础配置<a hidden class="anchor" aria-hidden="true" href="#vite-常用基础配置">#</a></h2>
<h3 id="基础配置">基础配置<a hidden class="anchor" aria-hidden="true" href="#基础配置">#</a></h3>
<p><code>运行</code> <code>代理</code> 和 <code>打包</code> 配置</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>server: {     host: '0.0.0.0',     port: 3000,     open: true,     https: false,     proxy: {} },</code></p>
<p>生产环境去除 <code>console</code> <code>debugger</code></p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>build:{   ...   terserOptions: {       compress: {         drop_console: true,         drop_debugger: true       }   } }</code></p>
<h3 id="生产环境生成-gz-文件">生产环境生成 .gz 文件<a hidden class="anchor" aria-hidden="true" href="#生产环境生成-gz-文件">#</a></h3>
<blockquote>
<p>开启 <code>gzip</code> 可以极大的压缩静态资源，对页面加载的速度起到了显著的作用。</p>
</blockquote>
<p>使用 <code>vite-plugin-compression</code> 可以 <code>gzip</code> 或 <code>brotli</code> 的方式来压缩资源，这一步需要服务器端的配合，<code>vite</code> 只能帮你打包出 <code>.gz</code> 文件。此插件使用简单，你甚至无需配置参数，引入即可。</p>
<p>bash</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code># 安装 yarn add --dev vite-plugin-compression</code></p>
<p>plugins 中添加：</p>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import viteCompression from 'vite-plugin-compression' // gzip压缩 生产环境生成 .gz 文件 viteCompression({       verbose: true,       disable: false,       threshold: 10240,       algorithm: 'gzip',       ext: '.gz',     }),</code></p>
<h3 id="最终-viteconfigts">最终 vite.config.ts<a hidden class="anchor" aria-hidden="true" href="#最终-viteconfigts">#</a></h3>
<p>js</p>
<p>代码解读</p>
<p>复制代码</p>
<p><code>import { defineConfig } from 'vite' import vue from '@vitejs/plugin-vue' import path from 'path' //@ts-ignore import viteCompression from 'vite-plugin-compression' // https://vitejs.dev/config/ export default defineConfig({   base: './', //打包路径   plugins: [     vue(),     // gzip压缩 生产环境生成 .gz 文件     viteCompression({       verbose: true,       disable: false,       threshold: 10240,       algorithm: 'gzip',       ext: '.gz',     }),   ],   // 配置别名   resolve: {     alias: {       '@': path.resolve(__dirname, 'src'),     },   },   css:{     preprocessorOptions:{       scss:{         additionalData:'@import &quot;@/assets/style/mian.scss&quot;;'       }     }   },   //启动服务配置   server: {     host: '0.0.0.0',     port: 8000,     open: true,     https: false,     proxy: {}   },   // 生产环境打包配置   //去除 console debugger   build: {     terserOptions: {       compress: {         drop_console: true,         drop_debugger: true,       },     },   }, })</code></p>
<h2 id="常用插件">常用插件<a hidden class="anchor" aria-hidden="true" href="#常用插件">#</a></h2>
<blockquote>
<p>可以查看官方文档：<a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.cn%2Fplugins%2F" title="https://vitejs.cn/plugins/">vitejs.cn/plugins/</a></p>
</blockquote>
<ul>
<li><code>@vitejs/plugin-vue</code> 提供 <code>Vue 3</code> 单文件组件支持</li>
<li><code>@vitejs/plugin-vue-jsx</code> 提供 Vue 3 <code>JSX</code> 支持（通过 专用的 Babel 转换插件）</li>
<li><code>@vitejs/plugin-legacy</code> 为打包后的文件提供传统浏览器<code>兼容性</code>支持</li>
<li><code>unplugin-vue-components</code> 组件的按需自动导入</li>
<li><code>vite-plugin-compression</code> 使用 gzip 或者 brotli 来压缩资源</li>
<li>&hellip;..</li>
</ul>
<h2 id="非常推荐使用的-hooks-库">非常推荐使用的 hooks 库<a hidden class="anchor" aria-hidden="true" href="#非常推荐使用的-hooks-库">#</a></h2>
<blockquote>
<p>因为<code>vue3.x</code>和<code>react hooks</code>真的很像，所以就称为 <code>hooks</code></p>
</blockquote>
<p><code>VueUse</code>：<a href="https://link.juejin.cn?target=https%3A%2F%2Fvueuse.org%2F" title="https://vueuse.org/">vueuse.org/</a></p>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5cad83aaa662431cb6f73dc404a18791~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""  />
</p>
<p>看到这个库的第一眼，让我立马想到了 react 的 <code>ahooks</code></p>
<p><code>VueUse</code> 是一个基于 <code>Composition API</code> 的实用函数集合。通俗的来说，这就是一个<code>工具函数</code>包，它可以帮助你快速实现一些常见的功能，免得你自己去写，解决重复的工作内容。以及进行了基于 Composition API 的封装。让你在 vue3 中更加得心应手。</p>
<p>💡想要入手 vue3 的小伙伴，赶快学习起来吧！！！</p>
<p>💡最后给大家奉上仓库地址吧：<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxushanpei%2Fvite_vue3_ts" title="https://github.com/xushanpei/vite_vue3_ts">github.com/xushanpei/v…</a></p>
<h2 id="写在最后">写在最后<a hidden class="anchor" aria-hidden="true" href="#写在最后">#</a></h2>
<blockquote>
<p>如果你喜欢我的文章，欢迎加我wx: <code>xsp_web_share</code> 为好友，一起交流前端技术。</p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
      <li><a href="http://localhost:1313/tags/vue.js/">Vue.js</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/wiki/1%E8%99%9A%E6%8B%9F%E4%BA%BApta%E5%BD%A2%E8%B1%A1%E8%A3%85%E9%A5%B0%E8%B0%83%E7%A0%942.0/">
    <span class="title">« 上一页</span>
    <br>
    <span>1、虚拟人PTA形象装饰调研2.0</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/wiki/2pta%E6%A8%A1%E6%9D%BF%E9%9C%80%E6%B1%82/">
    <span class="title">下一页 »</span>
    <br>
    <span>2、PTA模板需求</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on x"
            href="https://x.com/intent/tweet/?text=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f&amp;hashtags=%e5%89%8d%e7%ab%af%2cVue.js">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f&amp;title=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91&amp;summary=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f&title=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on whatsapp"
            href="https://api.whatsapp.com/send?text=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on telegram"
            href="https://telegram.me/share/url?text=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vite2&#43;Vue3&#43;TypeScript&#43;Pinia搭建一套企业级的开发脚手架【值得收藏】 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Vite2%2bVue3%2bTypeScript%2bPinia%e6%90%ad%e5%bb%ba%e4%b8%80%e5%a5%97%e4%bc%81%e4%b8%9a%e7%ba%a7%e7%9a%84%e5%bc%80%e5%8f%91%e8%84%9a%e6%89%8b%e6%9e%b6%e3%80%90%e5%80%bc%e5%be%97%e6%94%b6%e8%97%8f%e3%80%91&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvite2%2bvue3%2btypescript%2bpinia%25E6%2590%25AD%25E5%25BB%25BA%25E4%25B8%2580%25E5%25A5%2597%25E4%25BC%2581%25E4%25B8%259A%25E7%25BA%25A7%25E7%259A%2584%25E5%25BC%2580%25E5%258F%2591%25E8%2584%259A%25E6%2589%258B%25E6%259E%25B6%25E5%2580%25BC%25E5%25BE%2597%25E6%2594%25B6%25E8%2597%258F%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">粤ICP备2023039897号-1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
