<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ | PaperMod</title>
<meta name="keywords" content="å‰ç«¯, JavaScript, Vue.js">
<meta name="description" content="ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥”æ•ˆæœåŒºåŸŸï¼Œè¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~">
<meta name="author" content="é‡‡é»">
<link rel="canonical" href="http://localhost:1313/posts/juejin/vue3&#43;fabricjs%E5%AE%9A%E5%88%B6%E5%9B%BD%E5%BA%86%E4%B8%93%E5%B1%9E%E5%A4%B4%E5%83%8F/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7b92bf4867c997b58ec50f63451b83777173d5bd5593376852abd85746d09d71.css" integrity="sha256-e5K/SGfJl7WOxQ9jRRuDd3Fz1b1VkzdoUqvYV0bQnXE=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/juejin/vue3&#43;fabricjs%E5%AE%9A%E5%88%B6%E5%9B%BD%E5%BA%86%E4%B8%93%E5%B1%9E%E5%A4%B4%E5%83%8F/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ" />
<meta property="og:description" content="ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥”æ•ˆæœåŒºåŸŸï¼Œè¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/juejin/vue3&#43;fabricjs%E5%AE%9A%E5%88%B6%E5%9B%BD%E5%BA%86%E4%B8%93%E5%B1%9E%E5%A4%B4%E5%83%8F/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-09-27T00:00:00+00:00" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ"/>
<meta name="twitter:description" content="ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥”æ•ˆæœåŒºåŸŸï¼Œè¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Vue3+Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ",
      "item": "http://localhost:1313/posts/juejin/vue3+fabricjs%E5%AE%9A%E5%88%B6%E5%9B%BD%E5%BA%86%E4%B8%93%E5%B1%9E%E5%A4%B4%E5%83%8F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Vue3+Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ",
  "name": "Vue3\u002bFabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ",
  "description": "ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥”æ•ˆæœåŒºåŸŸï¼Œè¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~",
  "keywords": [
    "å‰ç«¯", "JavaScript", "Vue.js"
  ],
  "articleBody": "Vue3 + Fabricjs å®ç°å®šåˆ¶å¤´åƒ2.0ğŸŒˆ ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥ å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æ¬¢è¿å¤§å®¶ç‚¹èµæ”¶è—åŠ å…³æ³¨å“¦\nå‰è¨€ æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥” æ•ˆæœåŒºåŸŸï¼›\næƒ³ä¸€ç¹å®šåˆ¶å¤´åƒ2.0å°å·¥å…·çš„åŸç†åŠå®ç°æ€è·¯è¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~\nåœ¨è¯„è®ºåŒºæ™’å®šåˆ¶å¤´åƒï¼Œçœ‹çœ‹è°çš„å¤´åƒæœ€å¥½çœ‹ï¼ğŸ¤£ åœ¨çº¿å®šåˆ¶ ğŸš€ğŸš€ğŸš€ å®šåˆ¶å¤´åƒå…¥å£, ä½“éªŒåœ°å€ ğŸš€ğŸš€ğŸš€\nğŸš€ğŸš€ğŸš€ githubé¡¹ç›®åœ°å€ï¼ˆæ¬¢è¿â­ï¼‰ ğŸš€ğŸš€ğŸš€\nå–œæ¬¢è¿™ä¸ªå°å·¥å…·çš„è¯ï¼ŒåŠ¨åŠ¨å°æ‰‹ç‚¹ä¸ªstarâ­å“¦ï¼Œè°¢è°¢ï¼\nå…³äºè¿­ä»£ ç»§ å®šåˆ¶å…”å¹´æ˜¥èŠ‚å¤´åƒ ä¸Šçº¿åï¼Œå¾ˆå¤šå°ä¼™ä¼´ä½“éªŒåç¬¬ä¸€æ—¶é—´å°±ç»™äº†å»ºè®®ã€åé¦ˆï¼›åœ¨å¤§å®¶çš„å¸®åŠ©ä¸‹ï¼Œå·¥å…·ä¹Ÿåœ¨ä¸æ–­çš„å®Œå–„ï¼›æ¯”å¦‚å¯¼å‡ºå›¾ç‰‡ä¸å¤Ÿæ¸…æ™°ã€ä¸èƒ½è®¾ç½®é€æ˜åº¦ç­‰ç­‰ï¼Œè¿­ä»£åˆ°1.4.0åï¼Œå·²ç»å¯ä»¥ä¿è¯æ­£å¸¸çš„ä½¿ç”¨äº†ï¼Œè¿™é‡Œé‡‡é»ç»™å¤§å®¶è¯´å£°è°¢è°¢ï¼\nç”±äºå½“æ—¶èšç„¦åœ¨å…”å¹´ã€æ˜¥èŠ‚å¤´åƒä¸Šï¼Œå·¥å…·é£æ ¼å•ä¸€ï¼ŒåŠŸèƒ½è¿˜ä¸å¤Ÿå®Œå–„ï¼Œå†…éƒ¨é€»è¾‘æœ‰ç‚¹å¤§æå°ç”¨ç­‰ç­‰ï¼Œäºæ˜¯ä¾¿æœ‰äº†å¤§ç‰ˆæœ¬çš„å®šåˆ¶å¤´åƒ2.0è¿­ä»£ã€‚\næ›´æ–°å†…å®¹ ä»“åº“åç§° ç”± custom-rabbitImage æ”¹ä¸º custom-avatar é¡µé¢ é‡æ„é¡µé¢æ•´ä½“é£æ ¼ï¼Œè°ƒæ•´ä¸ºé€šç”¨å‹é£æ ¼ å…¼å®¹pcã€ç§»åŠ¨ç«¯ ç§»åŠ¨ç«¯å¤´åƒå¢™é‡‡ç”¨ç€‘å¸ƒæµ ç”»å¸ƒç›¸å…³ ç”¨æˆ·ä¸Šä¼ çš„åŸå›¾åšçŸ­è¾¹é€‚é…ï¼Œä¿è¯ä¸å˜å½¢ ä¼˜åŒ–å…ƒç´ æ§ä»¶æ•ˆæœï¼Œå¢åŠ åˆ é™¤æ§ä»¶ ä¼˜åŒ–ç»˜åˆ¶é€»è¾‘ï¼Œå‡å°‘æ— ç”¨è¿ç®—ã€‚ æ–°å¢åŠŸèƒ½ å¢åŠ å¤šä¸»é¢˜é€‰é¡¹ï¼ˆä¸­ç§‹èŠ‚ã€å›½åº†èŠ‚ã€æ˜¥èŠ‚ç­‰ï¼Œå…¶ä»–ä¼ ç»ŸèŠ‚æ—¥æ•¬è¯·æœŸå¾…ï¼‰ å¢åŠ è´´çº¸æ•ˆæœï¼Œå¯å¤šé€‰ã€å¯åˆ é™¤ å¢åŠ å¿«é€Ÿåˆ‡æ¢å¤´åƒæ¡†åŠŸèƒ½ å¢åŠ é€šçŸ¥åŠŸèƒ½ï¼ˆxxç”¨æˆ·åœ¨3åˆ†é’Ÿå‰å®šåˆ¶äº†å›½åº†å¤´åƒï¼‰ å¢åŠ åˆ†äº«æµ·æŠ¥åŠŸèƒ½ å¢åŠ å¤´åƒå¢™åŠŸèƒ½ï¼Œç”¨æˆ·å¯é¢„è§ˆä»–äººå®šåˆ¶çš„å¤´åƒ ä¿®å¤å·²çŸ¥é—®é¢˜ ä¿®å¤qqæµè§ˆå™¨æ— æ³•é€‰æ‹©æ–‡ä»¶ ä¿®å¤å¾®ä¿¡æµè§ˆå™¨æ— æ³•ä¿å­˜å›¾ç‰‡ é¡¹ç›®æ¶æ„ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nvue3 | vite | ts | less | Elemenu UI | eslint | stylelint | husky | lint-staged | commitlint\næ‰€éœ€ç´ æ å¤´åƒæ¡†ã€è´´çº¸æ­£åœ¨è®¾è®¡ä¸­ï¼Œä¼šä¸€ç‚¹ä¸€ç‚¹è¡¥èµ·æ¥ã€‚\nä¸­ç§‹ä¸»é¢˜ å›½åº†ä¸»é¢˜ æ˜¥èŠ‚ä¸»é¢˜ æ€è·¯ åŸºæœ¬æ€è·¯ä¸å˜ï¼Œå®šåˆ¶å…”å¹´æ˜¥èŠ‚å¤´åƒä¸­å·²ç»è®²è¿‡ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚\nç”»å¸ƒäº¤äº’é€»è¾‘ä¼˜åŒ– è¿™æ˜¯ç¬¬ä¸€ç‰ˆçš„é€»è¾‘æ¢³ç† è€ƒè™‘åˆ°å®šåˆ¶å¤´åƒå·¥å…·å›¾å±‚ä¸ä¼šè¿‡å¤šï¼ŒåŠŸèƒ½ä¸ä¼šå¤ªå¤æ‚ï¼Œäºæ˜¯ åœ¨æ–°ç‰ˆä¸­åšäº†å¦‚ä¸‹ä¼˜åŒ–\nåˆ é™¤ç»˜åˆ¶å¤šä¸ªå›¾å±‚é€»è¾‘ï¼ˆç›‘å¬å›¾å±‚åˆ—è¡¨å˜åŒ–ï¼Œè¿›è€Œç»˜åˆ¶å›¾å±‚ï¼‰ ç»˜åˆ¶å¤´åƒæ¡†æ”¹ä¸ºä¸»åŠ¨è°ƒç”¨ï¼Œå‡å°‘æ— ç”¨è°ƒç”¨é¢‘æ¬¡ï¼› ç»˜åˆ¶è´´çº¸ä¸ºä¸»åŠ¨è°ƒç”¨ï¼Œå¯ç»˜åˆ¶å¤šä¸ª åˆ é™¤ç”»å¸ƒæ“ä½œåŒæ­¥é€»è¾‘ï¼ˆä¸éœ€è¦å›æ˜¾æ•°æ®åˆ°é¡µé¢ï¼Œä¹Ÿä¸ç”¨äºŒæ¬¡ç»˜åˆ¶ï¼Œæ•…åˆ é™¤ï¼‰ åšå®Œä¸Šè¿°ä¼˜åŒ–åï¼Œä»£ç é‡æ˜æ˜¾ä¸‹æ¥äº†ï¼›åªæ€ªå½“æ—¶æ²¡æœ‰è¿‡å¤šçš„æ€è€ƒï¼Œå°±å°†å…¶ä»–é¡¹ç›®çš„å®ç°æ–¹å¼ç”Ÿæ¬ç¡¬å¥—äº†ã€‚\nä»£ç å®ç° ç”»å¸ƒ åˆå§‹åŒ–ç”»å¸ƒåŠæ§ä»¶ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nconst init = () =\u003e { /* åˆå§‹åŒ–æ§ä»¶ */ initFabricControl() /* åˆå§‹åŒ–ç”»å¸ƒ */ Canvas = initCanvas(CanvasId.value, canvasSize, false) // å…ƒç´ ç¼©æ”¾äº‹ä»¶ Canvas.on('object:scaling', canvasMouseScaling) } /* åˆå§‹åŒ–æ§ä»¶ */ const initFabricControl = () =\u003e { fabric.Object.prototype.set(control) // è®¾ç½®ç¼©æ”¾æ‘‡æ†åç§» fabric.Object.prototype.controls.mtr.offsetY = control.mtrOffsetY // éšè—ä¸éœ€è¦çš„æ§ä»¶ hiddenControl.map((name: string) =\u003e (fabric.Object.prototype.controls[name].visible = false)) /* æ·»åŠ åˆ é™¤æ§ä»¶ */ const delImgElement = document.createElement('img') delImgElement.src = new URL('./icons/delete.png', import.meta.url).href const size = 52 const deleteControlHandel = (e, transform:any) =\u003e { const target = transform.target const canvas = target.canvas canvas.remove(target).renderAll() } const renderDeleteIcon = (ctx:any, left:any, top:any, styleOverride:any, fabricObject:any) =\u003e { ctx.save() ctx.translate(left, top) ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle)) ctx.drawImage(delImgElement, -size / 2, -size / 2, size, size) ctx.restore() } fabric.Object.prototype.controls.deleteControl = new fabric.Control({ x: 0.5, y: -0.5, cornerSize: size, offsetY: -48, offsetX: 48, cursorStyle: 'pointer', // eslint-disable-next-line @typescript-eslint/ban-ts-comment // @ts-ignore mouseUpHandler: deleteControlHandel, render: renderDeleteIcon }) }\nç›‘å¬åŸå›¾ï¼ˆç”¨æˆ·ä¸Šä¼ çš„å¤´åƒï¼‰æ”¹å˜ï¼Œå¹¶è¿›è¡ŒçŸ­è¾¹é€‚é… ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n/* æ›´æ”¹åŸå›¾ */ watch(() =\u003e props.bg, async (val) =\u003e (await drawBackground(Canvas, val))) /** * @function drawBackground ç»˜åˆ¶èƒŒæ™¯ * @param { Object } Canvas ç”»å¸ƒå®ä¾‹ * @param { String } bgUrl ç”¨æˆ·ä¸Šä¼ å¾—åŸå›¾ç‰‡é“¾æ¥ */ export const drawBackground = async (Canvas, bgUrl: string) =\u003e { return new Promise((resolve: any) =\u003e { if (!bgUrl) return resolve() fabric.Image.fromURL(bgUrl, (img: any) =\u003e { img.set({ left: Canvas.width / 2, top: Canvas.height / 2, originX: 'center', originY: 'center' }) /* çŸ­è¾¹é€‚é… */ img.width \u003e img.height ? img.scaleToHeight(Canvas.height, true) : img.scaleToWidth(Canvas.width, true) Canvas.setBackgroundImage(img, Canvas.renderAll.bind(Canvas)) resolve() }, { crossOrigin: 'Anonymous' }) }) }\nç»˜åˆ¶å¤´åƒæ¡†ï¼Œå¹¶éšè—åˆ é™¤æŒ‰é’®æ§ä»¶ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nconst frameName = 'frame' /** * @function addFrame æ·»åŠ å¤´åƒæ¡†å›¾å±‚ * @param { String } url å¤´åƒæ¡†é“¾æ¥ */ const addFrame = async (url = '') =\u003e { if (!url) return const frameLayer: any = await drawImg(`${ url }!frame`) frameLayer.set({ left: Canvas.width / 2, top: Canvas.height / 2 }) /* éšè—åˆ é™¤æŒ‰é’® */ frameLayer.setControlVisible('deleteControl', false) frameLayer.scaleToWidth(Canvas.width, true) frameLayer.name = frameName addOrReplaceLayer(Canvas, frameLayer) }\nè®¾ç½®å¤´åƒæ¡†é€æ˜åº¦ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n/** * @function setFrameOpacity è®¾ç½®å¤´åƒæ¡†é€æ˜åº¦ * @param { Number } opacity é€æ˜åº¦ */ const setFrameOpacity = (opacity = 1) =\u003e { const frameLayer: any = findCanvasItem(Canvas, frameName)[1] || '' if (!frameLayer) return frameLayer.set({ opacity }) Canvas.renderAll() }\nç»˜åˆ¶è´´çº¸ js\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n/** * @function addMark æ·»åŠ è´´çº¸ * @param { String } url è´´çº¸é“¾æ¥ */ const addMark = async (url) =\u003e { if (!url) return const markLayer: any = await drawImg(url) markLayer.set({ left: Canvas.width / 2, top: Canvas.height / 2 }) markLayer.width \u003e markLayer.height ? markLayer.scaleToHeight(200, true) : markLayer.scaleToWidth(200, true) markLayer.name = `mark-${ createUuid() }` addOrReplaceLayer(Canvas, markLayer) }\nä¿å­˜å›¾ç‰‡ï¼Œå¯¼å‡ºbase64 ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n/** * @function save ä¿å­˜æ•ˆæœå›¾ * @return { String } result base64 ä¿å­˜/é¢„è§ˆæ—¶è¿”å› */ const save = async (): Promise =\u003e { return Canvas.toDataURL({ format: 'png', left: 0, top: 0, width: Canvas.width, height: Canvas.height }) }\nç°åœ¨ä»£ç æ˜æœ—äº†å¾ˆå¤šï¼ŒçŠ¹å¦‚æŸ³æš—èŠ±æ˜ã€‚\né¡µé¢äº¤äº’ ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ï¼Œç”Ÿæˆæœ¬åœ°çŸ­é“¾ï¼Œç„¶åç»˜åˆ¶åŸå¤´åƒï¼Œå¹¶é»˜è®¤ç»˜åˆ¶ç¬¬ä¸€ä¸ªå¤´åƒæ¡†ã€‚ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nconst uploadFile = async (e: any) =\u003e { if (!e.target.files || !e.target.files.length) return ElMessage.warning('ä¸Šä¼ å¤±è´¥ï¼') const file = e.target.files[0] if (!file.type.includes('image')) return ElMessage.warning('è¯·ä¸Šä¼ æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼ï¼') const url = getCreatedUrl(file) ?? '' /* ç”¨æˆ·åˆæ¬¡ä¸Šä¼ å¤´åƒé»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªå¤´åƒæ¡† */ if (!originAvatarUrl.value) { originAvatarUrl.value = url selectFrame(0) } else { originAvatarUrl.value = url } (document.getElementById('uploadImg') as HTMLInputElement).value = '' }\nç”¨æˆ·ç‚¹å‡»å¤´åƒæ¡†æˆ–ç‚¹å‡»å¿«é€Ÿåˆ‡æ¢æŒ‰é’®ï¼Œç»˜åˆ¶å¤´åƒæ¡† ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n/* å¿«é€Ÿåˆ‡æ¢å¤´åƒæ¡† */ const changeFrame = (isNext) =\u003e { if (!originAvatarUrl.value) return ElMessage.warning('è¯·å…ˆä¸Šä¼ å¤´åƒï¼') const frameList = picList[styleIndex.value].frameList if (isNext) { (selectFrameIndex.value === frameList.length - 1) ? selectFrameIndex.value = 0 : (selectFrameIndex.value as number)++ } else { (selectFrameIndex.value === 0) ? selectFrameIndex.value = frameList.length - 1 : (selectFrameIndex.value as number)-- } selectFrame(selectFrameIndex.value as number) } /* ç»˜åˆ¶å¤´åƒæ¡†-è°ƒç”¨ç”»å¸ƒç»˜åˆ¶å‡½æ•° */ const selectFrame = (index: number) =\u003e { if (!originAvatarUrl.value) return ElMessage.warning('è¯·å…ˆä¸Šä¼ å¤´åƒï¼') opacity.value = 1 selectFrameIndex.value = index frameUrl.value = picList[styleIndex.value].frameList[index] DrawRef.value.addFrame(frameUrl.value) }\nè®¾ç½®å¤´åƒæ¡†é€æ˜åº¦ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nconst opacity = ref(1) const opacityChange = (num: number) =\u003e DrawRef.value.setFrameOpacity(num)\nç‚¹å‡»è´´çº¸ï¼Œç»˜åˆ¶è´´çº¸ ts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nconst selectMark = (index: number) =\u003e { if (!originAvatarUrl.value) return ElMessage.warning('è¯·å…ˆä¸Šä¼ å¤´åƒï¼') const markUrl = picList[styleIndex.value].markList[index] DrawRef.value.addMark(markUrl) }\né¡µé¢çš„äº¤äº’é€»è¾‘ç›¸å¯¹ç®€å•ï¼Œä¸€æ­¥ä¸€æ­¥èµ°å°±okã€‚\næ»šåŠ¨é€šçŸ¥åŠ¨ç”»æ•ˆæœ è¿™é‡Œä½¿ç”¨vueçš„è¿‡æ¸¡åŠ¨ç”»ï¼Œæ¨¡æ‹Ÿäº†æ»šåŠ¨çš„æ•ˆæœï¼Œ æœ¬è´¨å°±æ˜¯keyå˜äº†åï¼Œä¼šè§¦å‘å¼¹å…¥å¼¹å‡ºæ•ˆæœã€‚\nhtml\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \næ¸¸å®¢{{ (avatarList[noticeIndex].last_modified + '').slice(-5) }} {{ calcOverTime(avatarList[noticeIndex].last_modified) }}å‰ åˆ¶ä½œäº† {{ styleEnums[avatarList[noticeIndex].id] }}å¤´åƒ æµ·æŠ¥åŠŸèƒ½ è¿™ä¸ªç”¨html2canvasåº“å°±å¥½äº†ï¼Œç”¨æ­£å¸¸çš„csså±æ€§ï¼Œä»–éƒ½å¯ä»¥å®ç°ã€‚\nhtml\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nts\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n/* æ³¨æ„å›¾ç‰‡è·¨åŸŸ */ await nextTick(() =\u003e { /* ç”Ÿæˆæµ·æŠ¥ */ const posterDom = document.getElementById('poster') as HTMLElement html2canvas(posterDom, { useCORS: true }).then((canvas) =\u003e { shareUrl.value = canvas.toDataURL('image/png') shareShow.value = true loading.value = false }) })\nç§»åŠ¨ç«¯ç€‘å¸ƒæµå®ç° pcå’Œç§»åŠ¨ç«¯éƒ½æ˜¯gridå¸ƒå±€ï¼Œæˆ‘ä»¬ç»™ç§»åŠ¨ç«¯çš„è¡Œåˆ—ä»½æ•°éšæœºï¼Œpcç«¯å¼ºåˆ¶è®¾ä¸º1ï¼Œä¿è¯è¡Œã€åˆ—æ‰€å çš„ä»½æ•°ä¸€è‡´å°±å¥½ï¼ˆå®šåˆ¶å¤´åƒå¯¼å‡ºéƒ½æ˜¯æ­£æ–¹å½¢çš„ï¼‰\ngrid-auto-flow: dense; è¿™ä¸ªæ ·å¼æ˜¯å…³é”®ï¼Œ\nhtml\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \nless\nä»£ç è§£è¯»\nå¤åˆ¶ä»£ç \n.wall { .wall-list { display: grid; gap: 8px; grid-template-columns: repeat(8, minmax(0, 1fr)); grid-auto-flow: dense; } .wall-more { padding-top: 16px; text-align: center; } } /* pcç«¯ä¸ä½¿ç”¨ç€‘å¸ƒæµï¼Œå¼ºè¦†ç›–è¡Œåˆ—ä»½æ•° */ @media only screen and (min-width: 769px) { .wall { .wall-list { \u003e div { grid-row: span 1 !important; grid-column: span 1 !important; } } } }\nåˆ°è¿™é‡Œï¼ŒåŸºæœ¬æ ¸å¿ƒã€ç»†èŠ‚çš„ç‚¹éƒ½å®ç°äº†ï¼›è‹¥æƒ³çŸ¥é“æ›´å¤šä»£ç è®¾è®¡ã€å¼€å‘æ€è·¯ï¼Œè¯·ç§»æ­¥githubï¼Œä»£ç å·²å¼€æºã€‚\nå…³äºå¼€æº è¿™ä¸€è·¯èµ°æ¥å®å±ä¸æ˜“ï¼Œå…¶ä¸­è‹¦æ¶©ä¸ç¦è¨€è¯´ï¼›æˆ‘ä¹Ÿæ·±çŸ¥ï¼Œè¿™ä¸ªé¡¹ç›®è¿˜æœ‰è®¸å¤šçš„ä¸è¶³ï¼Œè¿™å¹¶ä¸èƒ½å¤Ÿä¸€è¹´è€Œå°±çš„ï¼›å¤§å®¶åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»€ä¹ˆå»ºè®®æˆ–æ„è§ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ã€‚è¿™ä¹Ÿæ˜¯æˆ‘è§‰å¾—å¼€æºé¡¹ç›®æ›´æœ‰é­…åŠ›çš„ç‚¹ï¼Œå¯ä»¥é›†æ€å¹¿ç›Šï¼Œé›†ç™¾å®¶ä¹‹ä¼—é•¿ã€‚å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½æ„ˆå‘å®Œå–„ï¼Œå¾—åˆ°æ›´å¤šäººçš„å–œæ¬¢ï¼\nä½™éŸ³ æœ€è¿‘æœ‰ä¸ªæƒ³æ³•ï¼Œå‡†å¤‡åšä¸ªåˆ›æ„å·¥å…·ä¸“æ ï¼Œè¿™ä¸ªè¿˜å¾—å†æ–Ÿé…Œæ–Ÿé…Œã€‚\nç¥ç¥–å›½èŠ‚æ—¥å¿«ä¹ï¼Œä¹Ÿç¥å¤§å®¶å›½åº†å¿«ä¹å“¦ï¼Œå†ä¼šï¼\n",
  "wordCount" : "898",
  "inLanguage": "zh",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2023-09-27T00:00:00Z",
  "dateModified": "2023-09-27T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "é‡‡é»"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/juejin/vue3+fabricjs%E5%AE%9A%E5%88%B6%E5%9B%BD%E5%BA%86%E4%B8%93%E5%B1%9E%E5%A4%B4%E5%83%8F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PaperMod",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                        
                    <img src="http://localhost:1313/images/msg_hu15231257772499651944.png" alt="" aria-label="logo"
                        height="20">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ
    </h1>
    <div class="post-description">
      ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥”æ•ˆæœåŒºåŸŸï¼Œè¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~
    </div>
    <div class="post-meta"><span title='2023-09-27 00:00:00 +0000 UTC'>ä¹æœˆ 27, 2023</span>&nbsp;Â·&nbsp;5 åˆ†é’Ÿ&nbsp;Â·&nbsp;é‡‡é»&nbsp;|&nbsp;<a href="https://github.com/WangShaoyu1/myBlogPaperMod/tree/master/content/posts/jueJin/Vue3&#43;Fabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#vue3--fabricjs-%e5%ae%9e%e7%8e%b0%e5%ae%9a%e5%88%b6%e5%a4%b4%e5%83%8f20" aria-label="Vue3 &#43; Fabricjs å®ç°å®šåˆ¶å¤´åƒ2.0ğŸŒˆ">Vue3 + Fabricjs å®ç°å®šåˆ¶å¤´åƒ2.0ğŸŒˆ</a><ul>
                        
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="å‰è¨€">å‰è¨€</a><ul>
                        
                <li>
                    <a href="#%e5%9c%a8%e8%af%84%e8%ae%ba%e5%8c%ba%e6%99%92%e5%ae%9a%e5%88%b6%e5%a4%b4%e5%83%8f%e7%9c%8b%e7%9c%8b%e8%b0%81%e7%9a%84%e5%a4%b4%e5%83%8f%e6%9c%80%e5%a5%bd%e7%9c%8b" aria-label="åœ¨è¯„è®ºåŒºæ™’å®šåˆ¶å¤´åƒï¼Œçœ‹çœ‹è°çš„å¤´åƒæœ€å¥½çœ‹ï¼ğŸ¤£">åœ¨è¯„è®ºåŒºæ™’å®šåˆ¶å¤´åƒï¼Œçœ‹çœ‹è°çš„å¤´åƒæœ€å¥½çœ‹ï¼ğŸ¤£</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9c%a8%e7%ba%bf%e5%ae%9a%e5%88%b6" aria-label="åœ¨çº¿å®šåˆ¶">åœ¨çº¿å®šåˆ¶</a></li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e%e8%bf%ad%e4%bb%a3" aria-label="å…³äºè¿­ä»£">å…³äºè¿­ä»£</a></li>
                <li>
                    <a href="#%e6%9b%b4%e6%96%b0%e5%86%85%e5%ae%b9" aria-label="æ›´æ–°å†…å®¹">æ›´æ–°å†…å®¹</a><ul>
                        
                <li>
                    <a href="#%e4%bb%93%e5%ba%93%e5%90%8d%e7%a7%b0" aria-label="ä»“åº“åç§°">ä»“åº“åç§°</a></li>
                <li>
                    <a href="#%e9%a1%b5%e9%9d%a2" aria-label="é¡µé¢">é¡µé¢</a></li>
                <li>
                    <a href="#%e7%94%bb%e5%b8%83%e7%9b%b8%e5%85%b3" aria-label="ç”»å¸ƒç›¸å…³">ç”»å¸ƒç›¸å…³</a></li>
                <li>
                    <a href="#%e6%96%b0%e5%a2%9e%e5%8a%9f%e8%83%bd" aria-label="æ–°å¢åŠŸèƒ½">æ–°å¢åŠŸèƒ½</a></li>
                <li>
                    <a href="#%e4%bf%ae%e5%a4%8d%e5%b7%b2%e7%9f%a5%e9%97%ae%e9%a2%98" aria-label="ä¿®å¤å·²çŸ¥é—®é¢˜">ä¿®å¤å·²çŸ¥é—®é¢˜</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e6%9e%b6%e6%9e%84" aria-label="é¡¹ç›®æ¶æ„">é¡¹ç›®æ¶æ„</a></li>
                <li>
                    <a href="#%e6%89%80%e9%9c%80%e7%b4%a0%e6%9d%90" aria-label="æ‰€éœ€ç´ æ">æ‰€éœ€ç´ æ</a><ul>
                        
                <li>
                    <a href="#%e4%b8%ad%e7%a7%8b%e4%b8%bb%e9%a2%98" aria-label="ä¸­ç§‹ä¸»é¢˜">ä¸­ç§‹ä¸»é¢˜</a></li>
                <li>
                    <a href="#%e5%9b%bd%e5%ba%86%e4%b8%bb%e9%a2%98" aria-label="å›½åº†ä¸»é¢˜">å›½åº†ä¸»é¢˜</a></li>
                <li>
                    <a href="#%e6%98%a5%e8%8a%82%e4%b8%bb%e9%a2%98" aria-label="æ˜¥èŠ‚ä¸»é¢˜">æ˜¥èŠ‚ä¸»é¢˜</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%9d%e8%b7%af" aria-label="æ€è·¯">æ€è·¯</a><ul>
                        
                <li>
                    <a href="#%e7%94%bb%e5%b8%83%e4%ba%a4%e4%ba%92%e9%80%bb%e8%be%91%e4%bc%98%e5%8c%96" aria-label="ç”»å¸ƒäº¤äº’é€»è¾‘ä¼˜åŒ–">ç”»å¸ƒäº¤äº’é€»è¾‘ä¼˜åŒ–</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0" aria-label="ä»£ç å®ç°">ä»£ç å®ç°</a><ul>
                        
                <li>
                    <a href="#%e7%94%bb%e5%b8%83" aria-label="ç”»å¸ƒ">ç”»å¸ƒ</a></li>
                <li>
                    <a href="#%e9%a1%b5%e9%9d%a2%e4%ba%a4%e4%ba%92" aria-label="é¡µé¢äº¤äº’">é¡µé¢äº¤äº’</a></li>
                <li>
                    <a href="#%e6%bb%9a%e5%8a%a8%e9%80%9a%e7%9f%a5%e5%8a%a8%e7%94%bb%e6%95%88%e6%9e%9c" aria-label="æ»šåŠ¨é€šçŸ¥åŠ¨ç”»æ•ˆæœ">æ»šåŠ¨é€šçŸ¥åŠ¨ç”»æ•ˆæœ</a></li>
                <li>
                    <a href="#%e6%b5%b7%e6%8a%a5%e5%8a%9f%e8%83%bd" aria-label="æµ·æŠ¥åŠŸèƒ½">æµ·æŠ¥åŠŸèƒ½</a></li>
                <li>
                    <a href="#%e7%a7%bb%e5%8a%a8%e7%ab%af%e7%80%91%e5%b8%83%e6%b5%81%e5%ae%9e%e7%8e%b0" aria-label="ç§»åŠ¨ç«¯ç€‘å¸ƒæµå®ç°">ç§»åŠ¨ç«¯ç€‘å¸ƒæµå®ç°</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e%e5%bc%80%e6%ba%90" aria-label="å…³äºå¼€æº">å…³äºå¼€æº</a></li>
                <li>
                    <a href="#%e4%bd%99%e9%9f%b3" aria-label="ä½™éŸ³">ä½™éŸ³</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="vue3--fabricjs-å®ç°å®šåˆ¶å¤´åƒ20">Vue3 + Fabricjs å®ç°å®šåˆ¶å¤´åƒ2.0ğŸŒˆ<a hidden class="anchor" aria-hidden="true" href="#vue3--fabricjs-å®ç°å®šåˆ¶å¤´åƒ20">#</a></h1>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86b5e36a1b5441e8bed0860114b48e79~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1000&amp;h=495&amp;s=888187&amp;e=png&amp;b=ebdad4" alt="perview.png"  />
</p>
<blockquote>
<p>ç”Ÿåœ¨å›½æ——ä¸‹ï¼Œé•¿åœ¨æ˜¥é£é‡Œï¼å›½åº†å°†è‡³ï¼Œé‡‡é»ä¸ºå¤§å®¶å¸¦æ¥ <strong>å®šåˆ¶å¤´åƒ2.0ï¼ˆå›½åº†å¤´åƒï¼‰</strong>ï¼Œè®©æˆ‘ä»¬ç”¨ä»£ç çš„å½¢å¼ä¸ºç¥–å›½åº†ç”Ÿï¼æ¬¢è¿å¤§å®¶<strong>ç‚¹èµæ”¶è—åŠ å…³æ³¨å“¦</strong></p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€<a hidden class="anchor" aria-hidden="true" href="#å‰è¨€">#</a></h2>
<p>æƒ³çœ‹æ•ˆæœæˆ–è€…æƒ³å®šåˆ¶æ˜¥èŠ‚å¤´åƒçš„å°ä¼™ä¼´è¯·ç›´å¥” <strong>æ•ˆæœ</strong>åŒºåŸŸï¼›<br>
æƒ³ä¸€ç¹<strong>å®šåˆ¶å¤´åƒ2.0</strong>å°å·¥å…·çš„åŸç†åŠå®ç°æ€è·¯è¯·è€å¿ƒé˜…è¯»ï¼Œæœ¬æ–‡ä»£ç ç‰‡æ®µè¾ƒå¤š~</p>
<h3 id="åœ¨è¯„è®ºåŒºæ™’å®šåˆ¶å¤´åƒçœ‹çœ‹è°çš„å¤´åƒæœ€å¥½çœ‹"><strong>åœ¨è¯„è®ºåŒºæ™’å®šåˆ¶å¤´åƒï¼Œçœ‹çœ‹è°çš„å¤´åƒæœ€å¥½çœ‹ï¼ğŸ¤£</strong><a hidden class="anchor" aria-hidden="true" href="#åœ¨è¯„è®ºåŒºæ™’å®šåˆ¶å¤´åƒçœ‹çœ‹è°çš„å¤´åƒæœ€å¥½çœ‹">#</a></h3>
<h2 id="åœ¨çº¿å®šåˆ¶">åœ¨çº¿å®šåˆ¶<a hidden class="anchor" aria-hidden="true" href="#åœ¨çº¿å®šåˆ¶">#</a></h2>
<p>ğŸš€ğŸš€ğŸš€ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.xiaoli.vip%2Fcustom-avatar" title="https://www.xiaoli.vip/custom-avatar">å®šåˆ¶å¤´åƒå…¥å£, ä½“éªŒåœ°å€</a></strong> ğŸš€ğŸš€ğŸš€</p>
<p>ğŸš€ğŸš€ğŸš€ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoli1999%2Fcustom-avatar" title="https://github.com/xiaoli1999/custom-avatar">githubé¡¹ç›®åœ°å€ï¼ˆæ¬¢è¿â­ï¼‰</a></strong> ğŸš€ğŸš€ğŸš€</p>
<p>å–œæ¬¢è¿™ä¸ªå°å·¥å…·çš„è¯ï¼ŒåŠ¨åŠ¨å°æ‰‹ç‚¹ä¸ªstarâ­å“¦ï¼Œè°¢è°¢ï¼</p>
<h2 id="å…³äºè¿­ä»£">å…³äºè¿­ä»£<a hidden class="anchor" aria-hidden="true" href="#å…³äºè¿­ä»£">#</a></h2>
<p>ç»§ <code>å®šåˆ¶å…”å¹´æ˜¥èŠ‚å¤´åƒ</code> ä¸Šçº¿åï¼Œå¾ˆå¤šå°ä¼™ä¼´ä½“éªŒåç¬¬ä¸€æ—¶é—´å°±ç»™äº†å»ºè®®ã€åé¦ˆï¼›åœ¨å¤§å®¶çš„å¸®åŠ©ä¸‹ï¼Œå·¥å…·ä¹Ÿåœ¨ä¸æ–­çš„å®Œå–„ï¼›æ¯”å¦‚å¯¼å‡ºå›¾ç‰‡ä¸å¤Ÿæ¸…æ™°ã€ä¸èƒ½è®¾ç½®é€æ˜åº¦ç­‰ç­‰ï¼Œè¿­ä»£åˆ°1.4.0åï¼Œå·²ç»å¯ä»¥ä¿è¯æ­£å¸¸çš„ä½¿ç”¨äº†ï¼Œè¿™é‡Œé‡‡é»ç»™å¤§å®¶è¯´å£°è°¢è°¢ï¼</p>
<p>ç”±äºå½“æ—¶èšç„¦åœ¨<strong>å…”å¹´</strong>ã€<strong>æ˜¥èŠ‚å¤´åƒ</strong>ä¸Šï¼Œå·¥å…·é£æ ¼å•ä¸€ï¼ŒåŠŸèƒ½è¿˜ä¸å¤Ÿå®Œå–„ï¼Œå†…éƒ¨é€»è¾‘æœ‰ç‚¹å¤§æå°ç”¨ç­‰ç­‰ï¼Œäºæ˜¯ä¾¿æœ‰äº†å¤§ç‰ˆæœ¬çš„<strong>å®šåˆ¶å¤´åƒ2.0</strong>è¿­ä»£ã€‚</p>
<h2 id="æ›´æ–°å†…å®¹">æ›´æ–°å†…å®¹<a hidden class="anchor" aria-hidden="true" href="#æ›´æ–°å†…å®¹">#</a></h2>
<h3 id="ä»“åº“åç§°">ä»“åº“åç§°<a hidden class="anchor" aria-hidden="true" href="#ä»“åº“åç§°">#</a></h3>
<ul>
<li>ç”± <strong>custom-rabbitImage</strong> æ”¹ä¸º <strong>custom-avatar</strong></li>
</ul>
<h3 id="é¡µé¢">é¡µé¢<a hidden class="anchor" aria-hidden="true" href="#é¡µé¢">#</a></h3>
<ul>
<li>é‡æ„é¡µé¢æ•´ä½“é£æ ¼ï¼Œè°ƒæ•´ä¸ºé€šç”¨å‹é£æ ¼</li>
<li>å…¼å®¹pcã€ç§»åŠ¨ç«¯</li>
<li>ç§»åŠ¨ç«¯å¤´åƒå¢™é‡‡ç”¨ç€‘å¸ƒæµ</li>
</ul>
<h3 id="ç”»å¸ƒç›¸å…³">ç”»å¸ƒç›¸å…³<a hidden class="anchor" aria-hidden="true" href="#ç”»å¸ƒç›¸å…³">#</a></h3>
<ul>
<li>ç”¨æˆ·ä¸Šä¼ çš„åŸå›¾åšçŸ­è¾¹é€‚é…ï¼Œä¿è¯ä¸å˜å½¢</li>
<li>ä¼˜åŒ–å…ƒç´ æ§ä»¶æ•ˆæœï¼Œå¢åŠ åˆ é™¤æ§ä»¶</li>
<li>ä¼˜åŒ–ç»˜åˆ¶é€»è¾‘ï¼Œå‡å°‘æ— ç”¨è¿ç®—ã€‚</li>
</ul>
<h3 id="æ–°å¢åŠŸèƒ½">æ–°å¢åŠŸèƒ½<a hidden class="anchor" aria-hidden="true" href="#æ–°å¢åŠŸèƒ½">#</a></h3>
<ul>
<li>å¢åŠ å¤šä¸»é¢˜é€‰é¡¹ï¼ˆä¸­ç§‹èŠ‚ã€å›½åº†èŠ‚ã€æ˜¥èŠ‚ç­‰ï¼Œå…¶ä»–ä¼ ç»ŸèŠ‚æ—¥æ•¬è¯·æœŸå¾…ï¼‰</li>
<li>å¢åŠ è´´çº¸æ•ˆæœï¼Œå¯å¤šé€‰ã€å¯åˆ é™¤</li>
<li>å¢åŠ å¿«é€Ÿåˆ‡æ¢å¤´åƒæ¡†åŠŸèƒ½</li>
<li>å¢åŠ é€šçŸ¥åŠŸèƒ½ï¼ˆxxç”¨æˆ·åœ¨3åˆ†é’Ÿå‰å®šåˆ¶äº†å›½åº†å¤´åƒï¼‰</li>
<li>å¢åŠ åˆ†äº«æµ·æŠ¥åŠŸèƒ½</li>
<li>å¢åŠ å¤´åƒå¢™åŠŸèƒ½ï¼Œç”¨æˆ·å¯é¢„è§ˆä»–äººå®šåˆ¶çš„å¤´åƒ</li>
</ul>
<h3 id="ä¿®å¤å·²çŸ¥é—®é¢˜">ä¿®å¤å·²çŸ¥é—®é¢˜<a hidden class="anchor" aria-hidden="true" href="#ä¿®å¤å·²çŸ¥é—®é¢˜">#</a></h3>
<ul>
<li>ä¿®å¤qqæµè§ˆå™¨æ— æ³•é€‰æ‹©æ–‡ä»¶</li>
<li>ä¿®å¤å¾®ä¿¡æµè§ˆå™¨æ— æ³•ä¿å­˜å›¾ç‰‡</li>
</ul>
<h2 id="é¡¹ç›®æ¶æ„">é¡¹ç›®æ¶æ„<a hidden class="anchor" aria-hidden="true" href="#é¡¹ç›®æ¶æ„">#</a></h2>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>vue3 | vite | ts | less | Elemenu UI | eslint | stylelint | husky | lint-staged | commitlint</code></p>
<h2 id="æ‰€éœ€ç´ æ">æ‰€éœ€ç´ æ<a hidden class="anchor" aria-hidden="true" href="#æ‰€éœ€ç´ æ">#</a></h2>
<p>å¤´åƒæ¡†ã€è´´çº¸æ­£åœ¨è®¾è®¡ä¸­ï¼Œä¼šä¸€ç‚¹ä¸€ç‚¹è¡¥èµ·æ¥ã€‚</p>
<h3 id="ä¸­ç§‹ä¸»é¢˜">ä¸­ç§‹ä¸»é¢˜<a hidden class="anchor" aria-hidden="true" href="#ä¸­ç§‹ä¸»é¢˜">#</a></h3>
<p><img loading="lazy" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be50eebf61b84b51b126ac31a31345b8~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1344&amp;h=314&amp;s=178133&amp;e=png&amp;b=fefafa" alt="image.png"  />
</p>
<h3 id="å›½åº†ä¸»é¢˜">å›½åº†ä¸»é¢˜<a hidden class="anchor" aria-hidden="true" href="#å›½åº†ä¸»é¢˜">#</a></h3>
<p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/026e22eef5ae421a9434754afd749d30~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1371&amp;h=340&amp;s=171160&amp;e=png&amp;b=fdf9f8" alt="image.png"  />
</p>
<h3 id="æ˜¥èŠ‚ä¸»é¢˜">æ˜¥èŠ‚ä¸»é¢˜<a hidden class="anchor" aria-hidden="true" href="#æ˜¥èŠ‚ä¸»é¢˜">#</a></h3>
<p><img loading="lazy" src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e09a89a568a47c9b88e3bde7c9cfa63~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1336&amp;h=379&amp;s=227629&amp;e=png&amp;b=fdf9f8" alt="image.png"  />
</p>
<h2 id="æ€è·¯">æ€è·¯<a hidden class="anchor" aria-hidden="true" href="#æ€è·¯">#</a></h2>
<p>åŸºæœ¬æ€è·¯ä¸å˜ï¼Œ<a href="https://juejin.cn/post/7189425070291288121" title="https://juejin.cn/post/7189425070291288121">å®šåˆ¶å…”å¹´æ˜¥èŠ‚å¤´åƒ</a>ä¸­å·²ç»è®²è¿‡ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p>
<h3 id="ç”»å¸ƒäº¤äº’é€»è¾‘ä¼˜åŒ–">ç”»å¸ƒäº¤äº’é€»è¾‘ä¼˜åŒ–<a hidden class="anchor" aria-hidden="true" href="#ç”»å¸ƒäº¤äº’é€»è¾‘ä¼˜åŒ–">#</a></h3>
<p>è¿™æ˜¯ç¬¬ä¸€ç‰ˆçš„é€»è¾‘æ¢³ç† <img loading="lazy" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2e2b6b594b54822a1362d4375577453~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="flow.png"  />
</p>
<p>è€ƒè™‘åˆ°å®šåˆ¶å¤´åƒå·¥å…·å›¾å±‚ä¸ä¼šè¿‡å¤šï¼ŒåŠŸèƒ½ä¸ä¼šå¤ªå¤æ‚ï¼Œäºæ˜¯ åœ¨æ–°ç‰ˆä¸­åšäº†å¦‚ä¸‹ä¼˜åŒ–</p>
<ul>
<li>åˆ é™¤ç»˜åˆ¶å¤šä¸ªå›¾å±‚é€»è¾‘ï¼ˆç›‘å¬å›¾å±‚åˆ—è¡¨å˜åŒ–ï¼Œè¿›è€Œç»˜åˆ¶å›¾å±‚ï¼‰</li>
<li>ç»˜åˆ¶å¤´åƒæ¡†æ”¹ä¸ºä¸»åŠ¨è°ƒç”¨ï¼Œå‡å°‘æ— ç”¨è°ƒç”¨é¢‘æ¬¡ï¼›</li>
<li>ç»˜åˆ¶è´´çº¸ä¸ºä¸»åŠ¨è°ƒç”¨ï¼Œå¯ç»˜åˆ¶å¤šä¸ª</li>
<li>åˆ é™¤ç”»å¸ƒæ“ä½œåŒæ­¥é€»è¾‘ï¼ˆä¸éœ€è¦å›æ˜¾æ•°æ®åˆ°é¡µé¢ï¼Œä¹Ÿä¸ç”¨äºŒæ¬¡ç»˜åˆ¶ï¼Œæ•…åˆ é™¤ï¼‰</li>
</ul>
<p>åšå®Œä¸Šè¿°ä¼˜åŒ–åï¼Œä»£ç é‡æ˜æ˜¾ä¸‹æ¥äº†ï¼›åªæ€ªå½“æ—¶æ²¡æœ‰è¿‡å¤šçš„æ€è€ƒï¼Œå°±å°†å…¶ä»–é¡¹ç›®çš„å®ç°æ–¹å¼ç”Ÿæ¬ç¡¬å¥—äº†ã€‚</p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°<a hidden class="anchor" aria-hidden="true" href="#ä»£ç å®ç°">#</a></h2>
<h3 id="ç”»å¸ƒ">ç”»å¸ƒ<a hidden class="anchor" aria-hidden="true" href="#ç”»å¸ƒ">#</a></h3>
<ol>
<li>åˆå§‹åŒ–ç”»å¸ƒåŠæ§ä»¶</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>const init = () =&gt; {     /* åˆå§‹åŒ–æ§ä»¶ */     initFabricControl()     /* åˆå§‹åŒ–ç”»å¸ƒ */     Canvas = initCanvas(CanvasId.value, canvasSize, false)     // å…ƒç´ ç¼©æ”¾äº‹ä»¶     Canvas.on('object:scaling', canvasMouseScaling) } /* åˆå§‹åŒ–æ§ä»¶ */ const initFabricControl = () =&gt; {     fabric.Object.prototype.set(control)     // è®¾ç½®ç¼©æ”¾æ‘‡æ†åç§»     fabric.Object.prototype.controls.mtr.offsetY = control.mtrOffsetY     // éšè—ä¸éœ€è¦çš„æ§ä»¶     hiddenControl.map((name: string) =&gt; (fabric.Object.prototype.controls[name].visible = false))     /* æ·»åŠ åˆ é™¤æ§ä»¶ */     const delImgElement = document.createElement('img')     delImgElement.src = new URL('./icons/delete.png', import.meta.url).href     const size = 52     const deleteControlHandel = (e, transform:any) =&gt; {         const target = transform.target         const canvas = target.canvas         canvas.remove(target).renderAll()     }     const renderDeleteIcon = (ctx:any, left:any, top:any, styleOverride:any, fabricObject:any) =&gt; {         ctx.save()         ctx.translate(left, top)         ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle))         ctx.drawImage(delImgElement, -size / 2, -size / 2, size, size)         ctx.restore()     }     fabric.Object.prototype.controls.deleteControl = new fabric.Control({         x: 0.5,         y: -0.5,         cornerSize: size,         offsetY: -48,         offsetX: 48,         cursorStyle: 'pointer',         // eslint-disable-next-line @typescript-eslint/ban-ts-comment         // @ts-ignore         mouseUpHandler: deleteControlHandel,         render: renderDeleteIcon     }) }</code></p>
<ol start="2">
<li>ç›‘å¬åŸå›¾ï¼ˆç”¨æˆ·ä¸Šä¼ çš„å¤´åƒï¼‰æ”¹å˜ï¼Œå¹¶è¿›è¡ŒçŸ­è¾¹é€‚é…</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>/* æ›´æ”¹åŸå›¾ */ watch(() =&gt; props.bg, async (val) =&gt; (await drawBackground(Canvas, val))) /**  * @function drawBackground ç»˜åˆ¶èƒŒæ™¯  * @param { Object } Canvas ç”»å¸ƒå®ä¾‹  * @param { String } bgUrl ç”¨æˆ·ä¸Šä¼ å¾—åŸå›¾ç‰‡é“¾æ¥  */ export const drawBackground = async (Canvas, bgUrl: string) =&gt; {     return new Promise((resolve: any) =&gt; {         if (!bgUrl) return resolve()         fabric.Image.fromURL(bgUrl, (img: any) =&gt; {             img.set({                 left: Canvas.width / 2,                 top: Canvas.height / 2,                 originX: 'center',                 originY: 'center'             })             /* çŸ­è¾¹é€‚é… */             img.width &gt; img.height ? img.scaleToHeight(Canvas.height, true) : img.scaleToWidth(Canvas.width, true)             Canvas.setBackgroundImage(img, Canvas.renderAll.bind(Canvas))             resolve()         }, { crossOrigin: 'Anonymous' })     }) }</code></p>
<ol start="3">
<li>ç»˜åˆ¶å¤´åƒæ¡†ï¼Œå¹¶éšè—åˆ é™¤æŒ‰é’®æ§ä»¶</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>const frameName = 'frame' /**  * @function addFrame æ·»åŠ å¤´åƒæ¡†å›¾å±‚  * @param { String } url å¤´åƒæ¡†é“¾æ¥  */ const addFrame = async (url = '') =&gt; {     if (!url) return     const frameLayer: any = await drawImg(`${ url }!frame`)     frameLayer.set({         left: Canvas.width / 2,         top: Canvas.height / 2     })     /* éšè—åˆ é™¤æŒ‰é’® */     frameLayer.setControlVisible('deleteControl', false)     frameLayer.scaleToWidth(Canvas.width, true)     frameLayer.name = frameName     addOrReplaceLayer(Canvas, frameLayer) }</code></p>
<ol start="4">
<li>è®¾ç½®å¤´åƒæ¡†é€æ˜åº¦</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>/**  * @function setFrameOpacity è®¾ç½®å¤´åƒæ¡†é€æ˜åº¦  * @param { Number } opacity é€æ˜åº¦  */ const setFrameOpacity = (opacity = 1) =&gt; {     const frameLayer: any = findCanvasItem(Canvas, frameName)[1] || ''     if (!frameLayer) return     frameLayer.set({ opacity })     Canvas.renderAll() }</code></p>
<ol start="5">
<li>ç»˜åˆ¶è´´çº¸</li>
</ol>
<p>js</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>/**  * @function addMark æ·»åŠ è´´çº¸  * @param { String } url è´´çº¸é“¾æ¥  */ const addMark = async (url) =&gt; {     if (!url) return     const markLayer: any = await drawImg(url)     markLayer.set({         left: Canvas.width / 2,         top: Canvas.height / 2     })     markLayer.width &gt; markLayer.height ? markLayer.scaleToHeight(200, true) : markLayer.scaleToWidth(200, true)     markLayer.name = `mark-${ createUuid() }`     addOrReplaceLayer(Canvas, markLayer) }</code></p>
<ol start="6">
<li>ä¿å­˜å›¾ç‰‡ï¼Œå¯¼å‡ºbase64</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>/**  * @function save ä¿å­˜æ•ˆæœå›¾  * @return { String } result base64 ä¿å­˜/é¢„è§ˆæ—¶è¿”å›  */ const save = async (): Promise&lt;string&gt; =&gt; {     return Canvas.toDataURL({         format: 'png',         left: 0,         top: 0,         width: Canvas.width,         height: Canvas.height     }) }</code></p>
<p>ç°åœ¨ä»£ç æ˜æœ—äº†å¾ˆå¤šï¼ŒçŠ¹å¦‚æŸ³æš—èŠ±æ˜ã€‚</p>
<h3 id="é¡µé¢äº¤äº’">é¡µé¢äº¤äº’<a hidden class="anchor" aria-hidden="true" href="#é¡µé¢äº¤äº’">#</a></h3>
<ol>
<li>ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ï¼Œç”Ÿæˆæœ¬åœ°çŸ­é“¾ï¼Œç„¶åç»˜åˆ¶åŸå¤´åƒï¼Œå¹¶é»˜è®¤ç»˜åˆ¶ç¬¬ä¸€ä¸ªå¤´åƒæ¡†ã€‚</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>const uploadFile = async (e: any) =&gt; {     if (!e.target.files || !e.target.files.length) return ElMessage.warning('ä¸Šä¼ å¤±è´¥ï¼')     const file = e.target.files[0]     if (!file.type.includes('image')) return ElMessage.warning('è¯·ä¸Šä¼ æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼ï¼')     const url = getCreatedUrl(file) ?? ''     /* ç”¨æˆ·åˆæ¬¡ä¸Šä¼ å¤´åƒé»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªå¤´åƒæ¡† */     if (!originAvatarUrl.value) {         originAvatarUrl.value = url         selectFrame(0)     } else {         originAvatarUrl.value = url     }     (document.getElementById('uploadImg') as HTMLInputElement).value = '' }</code></p>
<ol start="2">
<li>ç”¨æˆ·ç‚¹å‡»å¤´åƒæ¡†æˆ–ç‚¹å‡»å¿«é€Ÿåˆ‡æ¢æŒ‰é’®ï¼Œç»˜åˆ¶å¤´åƒæ¡†</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>/* å¿«é€Ÿåˆ‡æ¢å¤´åƒæ¡† */ const changeFrame = (isNext) =&gt; {     if (!originAvatarUrl.value) return ElMessage.warning('è¯·å…ˆä¸Šä¼ å¤´åƒï¼')     const frameList =  picList[styleIndex.value].frameList     if (isNext) {         (selectFrameIndex.value === frameList.length - 1) ? selectFrameIndex.value = 0 : (selectFrameIndex.value as number)++     } else {         (selectFrameIndex.value === 0) ? selectFrameIndex.value = frameList.length - 1 : (selectFrameIndex.value as number)--     }     selectFrame(selectFrameIndex.value as number) } /* ç»˜åˆ¶å¤´åƒæ¡†-è°ƒç”¨ç”»å¸ƒç»˜åˆ¶å‡½æ•° */ const selectFrame = (index: number) =&gt; {     if (!originAvatarUrl.value) return ElMessage.warning('è¯·å…ˆä¸Šä¼ å¤´åƒï¼')     opacity.value = 1     selectFrameIndex.value = index     frameUrl.value = picList[styleIndex.value].frameList[index]     DrawRef.value.addFrame(frameUrl.value) }</code></p>
<ol start="3">
<li>è®¾ç½®å¤´åƒæ¡†é€æ˜åº¦</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>const opacity = ref&lt;number&gt;(1) const opacityChange = (num: number) =&gt; DrawRef.value.setFrameOpacity(num)</code></p>
<ol start="4">
<li>ç‚¹å‡»è´´çº¸ï¼Œç»˜åˆ¶è´´çº¸</li>
</ol>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>const selectMark = (index: number) =&gt; {     if (!originAvatarUrl.value) return ElMessage.warning('è¯·å…ˆä¸Šä¼ å¤´åƒï¼')     const markUrl = picList[styleIndex.value].markList[index]     DrawRef.value.addMark(markUrl) }</code></p>
<p>é¡µé¢çš„äº¤äº’é€»è¾‘ç›¸å¯¹ç®€å•ï¼Œä¸€æ­¥ä¸€æ­¥èµ°å°±okã€‚</p>
<h3 id="æ»šåŠ¨é€šçŸ¥åŠ¨ç”»æ•ˆæœ">æ»šåŠ¨é€šçŸ¥åŠ¨ç”»æ•ˆæœ<a hidden class="anchor" aria-hidden="true" href="#æ»šåŠ¨é€šçŸ¥åŠ¨ç”»æ•ˆæœ">#</a></h3>
<p>è¿™é‡Œä½¿ç”¨vueçš„è¿‡æ¸¡åŠ¨ç”»ï¼Œæ¨¡æ‹Ÿäº†æ»šåŠ¨çš„æ•ˆæœï¼Œ æœ¬è´¨å°±æ˜¯keyå˜äº†åï¼Œä¼šè§¦å‘å¼¹å…¥å¼¹å‡ºæ•ˆæœã€‚</p>
<p>html</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>&lt;transition name=&quot;notice&quot; mode=&quot;out-in&quot;&gt;     &lt;div v-if=&quot;avatarList &amp;&amp; avatarList.length&quot; class=&quot;notice&quot; :key=&quot;avatarList[noticeIndex].last_modified&quot;&gt;         &lt;p&gt;             &lt;span style=&quot;color: #409eff;&quot;&gt;æ¸¸å®¢{{ (avatarList[noticeIndex].last_modified + '').slice(-5) }} &lt;/span&gt;             &lt;span style=&quot;padding-left: 2px;&quot;&gt;{{ calcOverTime(avatarList[noticeIndex].last_modified) }}å‰&lt;/span&gt;             &lt;span style=&quot;padding-right: 2px;&quot;&gt;åˆ¶ä½œäº†&lt;/span&gt;             &lt;span style=&quot;color: #f56c6c;&quot;&gt;{{ styleEnums[avatarList[noticeIndex].id] }}å¤´åƒ &lt;/span&gt;             &lt;span style=&quot;padding-left: 4px;&quot;&gt;&lt;/span&gt;         &lt;/p&gt;         &lt;img :src=&quot;avatarList[noticeIndex].url&quot; alt=&quot;&quot;&gt;     &lt;/div&gt; &lt;/transition&gt;</code></p>
<h3 id="æµ·æŠ¥åŠŸèƒ½">æµ·æŠ¥åŠŸèƒ½<a hidden class="anchor" aria-hidden="true" href="#æµ·æŠ¥åŠŸèƒ½">#</a></h3>
<p>è¿™ä¸ªç”¨<strong>html2canvas</strong>åº“å°±å¥½äº†ï¼Œç”¨æ­£å¸¸çš„csså±æ€§ï¼Œä»–éƒ½å¯ä»¥å®ç°ã€‚</p>
<p>html</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>&lt;!-- ç”Ÿæˆæµ·æŠ¥ --&gt; &lt;div id=&quot;poster&quot; class=&quot;poster&quot;&gt;     &lt;!-- å†…å®¹çœç•¥ --&gt; &lt;/div&gt;</code></p>
<p>ts</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>/* æ³¨æ„å›¾ç‰‡è·¨åŸŸ */ await nextTick(() =&gt; {     /* ç”Ÿæˆæµ·æŠ¥ */     const posterDom = document.getElementById('poster') as HTMLElement     html2canvas(posterDom, { useCORS: true }).then((canvas) =&gt; {         shareUrl.value = canvas.toDataURL('image/png')         shareShow.value = true         loading.value = false     }) })</code></p>
<h3 id="ç§»åŠ¨ç«¯ç€‘å¸ƒæµå®ç°">ç§»åŠ¨ç«¯ç€‘å¸ƒæµå®ç°<a hidden class="anchor" aria-hidden="true" href="#ç§»åŠ¨ç«¯ç€‘å¸ƒæµå®ç°">#</a></h3>
<p>pcå’Œç§»åŠ¨ç«¯éƒ½æ˜¯gridå¸ƒå±€ï¼Œæˆ‘ä»¬ç»™ç§»åŠ¨ç«¯çš„è¡Œåˆ—ä»½æ•°éšæœºï¼Œpcç«¯å¼ºåˆ¶è®¾ä¸º1ï¼Œä¿è¯è¡Œã€åˆ—æ‰€å çš„ä»½æ•°ä¸€è‡´å°±å¥½ï¼ˆå®šåˆ¶å¤´åƒå¯¼å‡ºéƒ½æ˜¯æ­£æ–¹å½¢çš„ï¼‰</p>
<p><strong>grid-auto-flow: dense;</strong> è¿™ä¸ªæ ·å¼æ˜¯å…³é”®ï¼Œ</p>
<p>html</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>&lt;div class=&quot;wall&quot;&gt;     &lt;div class=&quot;wall-list&quot;&gt;         &lt;el-image v-for=&quot;(url, index) in avatarPageUrlList&quot; :key=&quot;url&quot; :src=&quot;url&quot;          :style=&quot;{ gridColumn: `span ${ avatarList[index].span}`, gridRow: `span ${ avatarList[index].span }` }&quot; /&gt;     &lt;/div&gt; &lt;/div&gt;</code></p>
<p>less</p>
<p>ä»£ç è§£è¯»</p>
<p>å¤åˆ¶ä»£ç </p>
<p><code>.wall {     .wall-list {         display: grid;         gap: 8px;         grid-template-columns: repeat(8, minmax(0, 1fr));         grid-auto-flow: dense;     }     .wall-more {         padding-top: 16px;         text-align: center;     } } /* pcç«¯ä¸ä½¿ç”¨ç€‘å¸ƒæµï¼Œå¼ºè¦†ç›–è¡Œåˆ—ä»½æ•° */ @media only screen and (min-width: 769px) {     .wall {         .wall-list {             &gt; div {                 grid-row: span 1 !important;                 grid-column: span 1 !important;             }         }     } }</code></p>
<p>åˆ°è¿™é‡Œï¼ŒåŸºæœ¬æ ¸å¿ƒã€ç»†èŠ‚çš„ç‚¹éƒ½å®ç°äº†ï¼›è‹¥æƒ³çŸ¥é“æ›´å¤šä»£ç è®¾è®¡ã€å¼€å‘æ€è·¯ï¼Œè¯·ç§»æ­¥githubï¼Œä»£ç å·²å¼€æºã€‚</p>
<h2 id="å…³äºå¼€æº">å…³äºå¼€æº<a hidden class="anchor" aria-hidden="true" href="#å…³äºå¼€æº">#</a></h2>
<p>è¿™ä¸€è·¯èµ°æ¥å®å±ä¸æ˜“ï¼Œå…¶ä¸­è‹¦æ¶©ä¸ç¦è¨€è¯´ï¼›æˆ‘ä¹Ÿæ·±çŸ¥ï¼Œè¿™ä¸ªé¡¹ç›®è¿˜æœ‰è®¸å¤šçš„ä¸è¶³ï¼Œè¿™å¹¶ä¸èƒ½å¤Ÿä¸€è¹´è€Œå°±çš„ï¼›å¤§å®¶åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»€ä¹ˆå»ºè®®æˆ–æ„è§ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ã€‚è¿™ä¹Ÿæ˜¯æˆ‘è§‰å¾—å¼€æºé¡¹ç›®æ›´æœ‰é­…åŠ›çš„ç‚¹ï¼Œå¯ä»¥é›†æ€å¹¿ç›Šï¼Œé›†ç™¾å®¶ä¹‹ä¼—é•¿ã€‚å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½æ„ˆå‘å®Œå–„ï¼Œå¾—åˆ°æ›´å¤šäººçš„å–œæ¬¢ï¼</p>
<h2 id="ä½™éŸ³">ä½™éŸ³<a hidden class="anchor" aria-hidden="true" href="#ä½™éŸ³">#</a></h2>
<p>æœ€è¿‘æœ‰ä¸ªæƒ³æ³•ï¼Œå‡†å¤‡åšä¸ªåˆ›æ„å·¥å…·ä¸“æ ï¼Œè¿™ä¸ªè¿˜å¾—å†æ–Ÿé…Œæ–Ÿé…Œã€‚</p>
<p>ç¥ç¥–å›½èŠ‚æ—¥å¿«ä¹ï¼Œä¹Ÿç¥å¤§å®¶å›½åº†å¿«ä¹å“¦ï¼Œå†ä¼šï¼</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></li>
      <li><a href="http://localhost:1313/tags/javascript/">JavaScript</a></li>
      <li><a href="http://localhost:1313/tags/vue.js/">Vue.js</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/juejin/%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E8%83%BD%E8%B5%9A%E9%92%B1%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BE%AE%E4%BF%A1%E6%8D%A2%E5%A4%B4%E5%83%8F%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%A5%89%E4%B8%8A%E6%BA%90%E7%A0%81/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>å¼€å‘ä¸€ä¸ªèƒ½èµšé’±çš„å°ç¨‹åºï¼Œå¾®ä¿¡æ¢å¤´åƒå°ç¨‹åºï¼Œå¥‰ä¸Šæºç </span>
  </a>
  <a class="next" href="http://localhost:1313/posts/juejin/%E5%9B%BD%E5%BA%86%E8%8A%82%E5%88%B0%E4%BA%86%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%94%9F%E6%88%90%E5%9B%BD%E5%BA%86%E9%A3%8E%E5%A4%B4%E5%83%8F%E5%B0%8F%E5%B7%A5%E5%85%B7%E8%AF%A6%E8%A7%A3%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>å›½åº†èŠ‚åˆ°äº†ï¼Œå®ç°ä¸€ä¸ªç”Ÿæˆå›½åº†é£å¤´åƒå°å·¥å…·ï¼Œè¯¦è§£å®ç°è¿‡ç¨‹ï¼</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on x"
            href="https://x.com/intent/tweet/?text=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f&amp;hashtags=%e5%89%8d%e7%ab%af%2cJavaScript%2cVue.js">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f&amp;title=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88&amp;summary=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f&title=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on whatsapp"
            href="https://api.whatsapp.com/send?text=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on telegram"
            href="https://telegram.me/share/url?text=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Vue3&#43;Fabricjså®šåˆ¶å›½åº†ä¸“å±å¤´åƒğŸŒˆ on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Vue3%2bFabricjs%e5%ae%9a%e5%88%b6%e5%9b%bd%e5%ba%86%e4%b8%93%e5%b1%9e%e5%a4%b4%e5%83%8f%f0%9f%8c%88&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjuejin%2fvue3%2bfabricjs%25E5%25AE%259A%25E5%2588%25B6%25E5%259B%25BD%25E5%25BA%2586%25E4%25B8%2593%25E5%25B1%259E%25E5%25A4%25B4%25E5%2583%258F%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://beian.miit.gov.cn/">ç²¤ICPå¤‡2023039897å·-1</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerHTML = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
