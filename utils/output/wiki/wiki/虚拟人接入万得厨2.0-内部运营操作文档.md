---
author: "王宇"
title: "虚拟人接入万得厨2.0-内部运营操作文档"
date: 六月25,2023
description: "二、产品理念和PRD"
tags: ["二、产品理念和PRD"]
ShowReadingTime: "12s"
weight: 126
---
*   1[1\. 概述](#id-虚拟人接入万得厨2.0内部运营操作文档-概述)
*   2[2\. 科大讯飞AIUI开放平台配置操作](#id-虚拟人接入万得厨2.0内部运营操作文档-科大讯飞AIUI开放平台配置操作)
    *   2.1[2.1. 系统登录](#id-虚拟人接入万得厨2.0内部运营操作文档-系统登录)
    *   2.2[2.2. 语音识别配置](#id-虚拟人接入万得厨2.0内部运营操作文档-语音识别配置)
        *   2.2.1[2.2.1. 识别设置](#id-虚拟人接入万得厨2.0内部运营操作文档-识别设置)
        *   2.2.2[2.2.2. 识别热词](#id-虚拟人接入万得厨2.0内部运营操作文档-识别热词)
        *   2.2.3[2.2.3. 识别敏感词过滤](#id-虚拟人接入万得厨2.0内部运营操作文档-识别敏感词过滤)
    *   2.3[2.3. 语义理解配置](#id-虚拟人接入万得厨2.0内部运营操作文档-语义理解配置)
        *   2.3.1[2.3.1. 开启语义VAD](#id-虚拟人接入万得厨2.0内部运营操作文档-开启语义VAD)
        *   2.3.2[2.3.2. 关键词过滤](#id-虚拟人接入万得厨2.0内部运营操作文档-关键词过滤)
        *   2.3.3[2.3.3. 语义敏感词过滤](#id-虚拟人接入万得厨2.0内部运营操作文档-语义敏感词过滤)
        *   2.3.4[2.3.4. 自然语言理解（管理技能配置）](#id-虚拟人接入万得厨2.0内部运营操作文档-自然语言理解（管理技能配置）)
    *   2.4[2.4. 更新发布](#id-虚拟人接入万得厨2.0内部运营操作文档-更新发布)
    *   2.5[2.5. 统计数据查看](#id-虚拟人接入万得厨2.0内部运营操作文档-统计数据查看)
        *   2.5.1[2.5.1. 服务统计](#id-虚拟人接入万得厨2.0内部运营操作文档-服务统计)
        *   2.5.2[2.5.2. 设备统计](#id-虚拟人接入万得厨2.0内部运营操作文档-设备统计)
        *   2.5.3[2.5.3. 在线设备明细](#id-虚拟人接入万得厨2.0内部运营操作文档-在线设备明细)
*   3[3\. FTT系统配置操作](#id-虚拟人接入万得厨2.0内部运营操作文档-FTT系统配置操作)
    *   3.1[3.1. 系统登录](#id-虚拟人接入万得厨2.0内部运营操作文档-系统登录.1)
    *   3.2[3.2. 应用配置](#id-虚拟人接入万得厨2.0内部运营操作文档-应用配置)
        *   3.2.1[3.2.1. NLP执行顺序](#id-虚拟人接入万得厨2.0内部运营操作文档-NLP执行顺序)
        *   3.2.2[3.2.2. NLP答案编辑](#id-虚拟人接入万得厨2.0内部运营操作文档-NLP答案编辑)
        *   3.2.3[3.2.3. TTS配置](#id-虚拟人接入万得厨2.0内部运营操作文档-TTS配置)
        *   3.2.4[3.2.4. 行为情绪配置](#id-虚拟人接入万得厨2.0内部运营操作文档-行为情绪配置)
        *   3.2.5[3.2.5. 富文本管理（A+编辑器）](#id-虚拟人接入万得厨2.0内部运营操作文档-富文本管理（A+编辑器）)
    *   3.3[3.3. 知识母版配置——FAQ](#id-虚拟人接入万得厨2.0内部运营操作文档-知识母版配置——FAQ)
        *   3.3.1[3.3.1. FAQ配置](#id-虚拟人接入万得厨2.0内部运营操作文档-FAQ配置)
        *   3.3.2[3.3.2. 指令配置](#id-虚拟人接入万得厨2.0内部运营操作文档-指令配置)
    *   3.4[3.4. 资源母版配置](#id-虚拟人接入万得厨2.0内部运营操作文档-资源母版配置)
        *   3.4.1[3.4.1. 创建虚拟人母版](#id-虚拟人接入万得厨2.0内部运营操作文档-创建虚拟人母版)
        *   3.4.2[3.4.2. 管理虚拟人母版](#id-虚拟人接入万得厨2.0内部运营操作文档-管理虚拟人母版)
        *   3.4.3[3.4.3. 母版版本管理](#id-虚拟人接入万得厨2.0内部运营操作文档-母版版本管理)
*   4[4\. FTT系统运营操作](#id-虚拟人接入万得厨2.0内部运营操作文档-FTT系统运营操作)
    *   4.1[4.1. 监控预警——访问统计](#id-虚拟人接入万得厨2.0内部运营操作文档-监控预警——访问统计)
    *   4.2[4.2. 我的应用——会话记录](#id-虚拟人接入万得厨2.0内部运营操作文档-我的应用——会话记录)
*   5[5\. 补充说明](#id-虚拟人接入万得厨2.0内部运营操作文档-补充说明)
    *   5.1[5.1. 其他文档链接](#id-虚拟人接入万得厨2.0内部运营操作文档-其他文档链接)
    *   5.2[5.2. 相关负责人员](#id-虚拟人接入万得厨2.0内部运营操作文档-相关负责人员)

1\. 概述
======

为了更好地支持万得厨2.0的种子用户使用与虚拟人相关的功能，需要对所有涉及功能的系统配置和运营操作进行详细的说明，方便我们自己内部的人员能够快速学习上手。

虚拟人功能相关的配置操作可以分成两个部分：语音交互与形象资源，其中语音交互按照交互流程又分为语音识别相关配置（ASR）、语义理解相关配置（NLP）、语音播报相关配置（TTS），ASR相关的配置均在科大讯飞AIUI开放平台进行，NLP与TTS相关的配置则是在FTT系统进行（其中闲聊技能的NLP配置是在AIUI平台）。形象资源的配置也是在FTT系统上进行的。

虚拟人相关的运营操作主要在FTT系统上进行，包括统计数据以及会话记录的查看。

2\. 科大讯飞AIUI开放平台配置操作
====================

2.1. 系统登录
---------

网址：[https://aiui.xfyun.cn/](https://aiui.xfyun.cn/)

登录账号：18600929598

密码：yzevcs668899.

点进网址并登录后，点击上方“我的应用”—“进入应用”，看到应用列表；点击【测试-虚拟数字人】应用最后的操作按钮，进入操作页面。

![](/download/attachments/101840478/image2023-6-7_14-26-36.png?version=1&modificationDate=1686119196729&api=v2)![](/download/attachments/101840478/image2023-6-7_14-25-39.png?version=1&modificationDate=1686119139913&api=v2)

2.2. 语音识别配置
-----------

### 2.2.1. 识别设置

进入操作页面的【应用配置】下，首先是和语音识别有关的配置，点击“高级设置”展开详细的配置目录。

“识别设置”下目前是开启了“识别结果优先阿拉伯数字”与“progressive 流式识别”两项，**此配置除非特殊要求，一般不要修改**。可以对这几项配置的含义做一个简单的了解：

*   **识别结果添加标点**：ASR识别内容中将会添加标点符号。
*   **识别结果优先阿拉伯数字**：示例：识别为“1岁”，而不是“一岁”。
*   **progressive 流式识别**：简称 pgs。说话过程中返回多次中间结果，并不断修正。
*   **所见即可说**：开启后，端上传界面里的文本信息，提高识别准确率从而提升语义效果。

![](/download/attachments/101840478/image2023-6-7_14-37-16.png?version=1&modificationDate=1686119836339&api=v2)

### 2.2.2. 识别热词

热词的用途是：当专属领域词汇的识别不够准确时，可以通过上传添加热词，来提升识别的准确率。

在热词模板中，首行不可修改和删除，从第二行开始添加热词。在热词的后面可以加  ,weight:4.0  来增加词的激励权重，如  科大讯飞,weight:4.0  （使用英文的逗号和冒号），weight取值范围：\[0-4.0\]，数字越大生效概率越大。也可以不加权重。

热词目前最多支持1000条，txt文件大小不超过35kb。**截止至本文档完成前，已配置热词数量115条**，见热词文档：[hot\_words\_993bbe0f\_main\_box\_202305071527.txt](/download/attachments/101840478/hot_words_993bbe0f_main_box_202305071527.txt?version=1&modificationDate=1686121143945&api=v2)。

对已经上传的热词文件可以进行“下载”和“清空”的操作，**如果没有需要新上传的热词文档，不可进行清空操作（操作不可复原）**。如果有需要新上传的热词文档，可以直接点击“重新上传”，上传成功后会直接覆盖原来的热词文档。

![](/download/attachments/101840478/image2023-6-7_14-46-0.png?version=1&modificationDate=1686120360252&api=v2)![](/download/attachments/101840478/image2023-6-7_14-51-5.png?version=1&modificationDate=1686120665945&api=v2)

### 2.2.3. 识别敏感词过滤

识别敏感词过滤的用途是：在语音识别过程中，如果识别到敏感词，则会将敏感词过滤成  \*  ，不展示给用户。

官方提供过滤的敏感词有涉黄、暴恐违禁、政治敏感、恶意推广、低俗辱骂，**默认关闭**。此外也支持自己上传添加需要过滤的敏感词（**目前暂未使用**）。

![](/download/attachments/101840478/image2023-6-7_15-1-36.png?version=1&modificationDate=1686121296736&api=v2)

2.3. 语义理解配置
-----------

### 2.3.1. 开启语义VAD

语义VAD的用途是：用语义完整概率来判断是否结束对话，如果用户说话速度快，则说完就迅速响应结果；如果用户说话速度慢，会等待用户说完再响应（即使用户说话中途有停顿也不会结束识别）。

语义VAD常开，**除非特殊要求，此项不关闭**。

![](/download/attachments/101840478/image2023-6-7_15-6-58.png?version=1&modificationDate=1686121618611&api=v2)

### 2.3.2. 关键词过滤

关键词过滤的用途是：通常用于对唤醒词进行过滤，当用户输入的内容中包含了唤醒词时，可能会影响到语义理解结果。

目前已经添加了三个过滤的关键词：小万、小万小、小万小万，**此配置除非特殊要求，一般不要修改**。

![](/download/attachments/101840478/image2023-6-7_15-14-47.png?version=1&modificationDate=1686122088103&api=v2)

### 2.3.3. 语义敏感词过滤

与【识别敏感词过滤】类似，在语义理解过程中会过滤语义结果中的敏感词，不展示给用户。**默认关闭**。此外也支持自己上传添加需要过滤的敏感词（**目前暂未使用**）。

![](/download/attachments/101840478/image2023-6-7_15-16-40.png?version=1&modificationDate=1686122200605&api=v2)

### 2.3.4. 自然语言理解（管理技能配置）

目前虚拟人的语音交互技能主要是通过FTT系统的知识母版来创建的（包括指令与FAQ），但如果用户输入的内容不在FTT系统的知识母版之内的话，虚拟人便无法回答或无法做出人性化的回复。

讯飞的技能商城中提供了很多可供配置的通用技能，在【自然语言理解】下点击“管理技能配置”便可选择开启或关闭某个技能。

为了让虚拟人的对话能力更强，在AIUI上选择了技能后，可以在FTT系统上关联，这时用户与虚拟人对话便可以调用相应的讯飞技能。

目前已选择的技能有：酒店搜索 、 电视频道搜索 、 网络搜索 、 音乐 、 天气 、 提醒 、 健康讲座 、 笑话 、 翻译 、 时间日期 、 菜谱 、 股票 、 故事 、 新闻 、 脑筋急转弯 、 省会查询 、 健康知识 、 首都查询，**此配置除非特殊要求，一般不要修改**。

![](/download/attachments/101840478/image2023-6-7_15-18-34.png?version=1&modificationDate=1686122314733&api=v2)![](/download/attachments/101840478/image2023-6-7_15-23-30.png?version=1&modificationDate=1686122610238&api=v2)

2.4. 更新发布
---------

完成上述【应用配置】下的操作后，需要进行发布，操作才能生效。

进入【更新发布】，【版本更新信息】处会自动增加一个版本号，更新说明可填写此次版本更新的要点。

完成后点击“发布到线上”，便完成了发布。

进入【版本管理】，可以查看历史版本的发布和更新信息，也可以对历史版本进行回滚。

![](/download/attachments/101840478/image2023-6-7_15-29-12.png?version=1&modificationDate=1686122953016&api=v2)![](/download/attachments/101840478/image2023-6-7_15-31-53.png?version=1&modificationDate=1686123113867&api=v2)

2.5. 统计数据查看
-----------

科大讯飞AIUI开放平台上也提供了一部分运营相关的操作和数据查看，主要是从AIUI平台的交互服务调用与设备接入两个维度进行的统计。

交互服务主要是指在AIUI平台配置的语音识别与语义识别的调用，设备接入则是指将讯飞语音识别功能搭载在相应的设备上，分为设备统计与在线设备明细两个统计数据。

### 2.5.1. 服务统计

服务统计是对已创建应用交互服务量的统计。

支持在线查询已使用交互次数及剩余交互次数。支持查看最近一个月（默认），不同端（有Windows、ios、Linux、Android、WEBAPI）的调用次数。

![](/download/attachments/101840478/image2023-6-7_15-35-18.png?version=1&modificationDate=1686123318195&api=v2)

### 2.5.2. 设备统计

AIUI开放平台统计设备装机量是按照开发者设备自定义上传的SN来统计，并支持按设备维度进行统计，包含以下4个核心指标：

*   **日新增设备**：每天新增加的设备数，按UID（UID是user id，用户身份证明）统计。默认显示前一天的数据。
    
*   **日活跃设备**：每天活跃的设备数，按UID统计，计算当日会话UID去重后的总和。默认显示前一天的数据。
    
*   **累计设备**：该应用下有过会话的UID去重后总和。
    
*   **剩余台数**：已购买还未使用的授权装机量总和。

![](/download/attachments/101840478/image2023-6-7_15-39-47.png?version=1&modificationDate=1686123587579&api=v2)

### 2.5.3. 在线设备明细

支持按照设备码、时间段、设备类型来查询设备是否注册及注册时间。当输入设备码时，时间段和设备类型不生效；当设备码未输入时，可以按选择时间段和设备类型进行搜索。

![](/download/attachments/101840478/image2023-6-7_15-41-43.png?version=1&modificationDate=1686123703948&api=v2)

  

（注：和AIUI开放平台相关操作的具体详细说明还可以看平台的官方文档——“应用接入”：[https://aiui-doc.xf-yun.com/project-1/doc-4/](https://aiui-doc.xf-yun.com/project-1/doc-4/)）

3\. FTT系统配置操作
=============

3.1. 系统登录
---------

使用自己的账号密码登录FTT系统，**若没有管理员账号先找系统管理员** **[秦路航](/display/~qinluhang)创建一个新的子管理员账号，并分配对应的权限；若权限范围不合适也同样联系该系统管理员分配权限**。

![](/download/attachments/101840478/image2023-6-8_11-19-30.png?version=1&modificationDate=1686194371363&api=v2)

3.2. 应用配置
---------

在FTT系统上主要是进行语音交互中的语义理解（NLP）与语音播报（TTS）相关的配置，这些都是在【应用中心】板块下操作。

点击【应用中心】下的【我的应用】，可以看到当前拥有的应用列表与信息，包括应用名称、渲染引擎、系统平台、有效时间、当前应用的状态等，在详细信息中还包括App Id / App Key / App Secre信息。应用的创建和删除目前没有权限在系统上操作，需要由第三方公司来操作。点击“配置”按钮，进入应用下的虚拟人列表。

![](/download/attachments/101840478/image2023-6-12_9-31-22.png?version=1&modificationDate=1686533482896&api=v2)![](/download/attachments/101840478/image2023-6-12_9-43-8.png?version=1&modificationDate=1686534188867&api=v2)

一个应用下可以有多个虚拟人，点击“查看”可以查看到单个虚拟人的基本信息，包括AvatarID。

创建虚拟人时，首先选择的是虚拟人母版，**系统会根据当前应用的渲染引擎自动过滤出与应用引擎一致的虚拟人母版以及版本提供引用**，且只能选择已经发布的虚拟人母版以及对应的版本号。

在“模板版本”列下有一个“更新版本”的按钮，当资源母版中的虚拟人母版有新的版本发布时，可以按需为应用虚拟人升级。其中，**如果新版本的虚拟人母版没有新增语种，那么更新版本后，应用虚拟人中只会更新角色模型、角色骨骼、角色动画、角色状态的变更项，与已有语种的语音相关AI能力并不会被覆盖；如果新版本的虚拟人母版有新增语种，那么虚拟人在新语种下的语音相关AI能力（包括角色状态、TTS、行为情绪）将会自动继承虚拟人母版中的配置**。

删除虚拟人时，出于保护需要通过输入登录密码进行校验。

点击“配置”进入单个虚拟人的配置页面。

![](/download/attachments/101840478/image2023-6-12_9-38-25.png?version=1&modificationDate=1686533905875&api=v2)![](/download/attachments/101840478/image2023-6-12_9-45-52.png?version=1&modificationDate=1686534352483&api=v2)![](/download/attachments/101840478/image2023-6-12_11-8-48.png?version=1&modificationDate=1686539328567&api=v2)

在虚拟人配置页面，左侧为预览，可以对虚拟人配置的结果进行体验（文字提问主要是体验NLP相关配置，文字播报主要是体验TTS播报相关配置），**注意在这里体验指令只能体验话术层逻辑，指令相关的应用层逻辑在这里无法预览**。

应用下的虚拟人配置包括NLP执行顺序、NLP答案编辑、TTS配置、行为情绪配置、富文本管理五个部分，接下来依次说明。

### 3.2.1. NLP执行顺序

在NLP执行顺序下可为虚拟人勾选相应的NLP子模块，并配置顺序和阈值。每一项的含义：

*   角色属性寒暄话术为系统内置（阈值通常用 0.9）；
*   FAQ 和指令可以选择已经训练并发布的知识母版，**支持多选**；
*   闲聊可选择系统集成的第三方闲聊库（不存在阈值），如科大讯飞；
*   兜底话术是指以上模块都未命中时的反馈。

鼠标移至左侧的三条横线的图标处，可拖动每一项改变顺序，根据用户输入的内容，系统会按照配置的顺序依次进入每个子模块中进行识别。对于存在阈值的子模块，如果返回意图的打分高于阈值，就会输出相应答案；如果低于阈值，则继续执行下一个子模块，直至兜底。

配置好后可以点击右上角的“文本测试”进行效果体验，但这里的测试只会返回NLP的文本结果，没有对应的TTS与行为情绪。

![](/download/attachments/101840478/image2023-6-12_9-45-39.png?version=1&modificationDate=1686534339926&api=v2)

### 3.2.2. NLP答案编辑

在NLP答案编辑中可以对NLP执行顺序下的各子模块的答案内容进行编辑，并支持配置富文本（**富文本编辑的内容见3.2.5**）。

角色属性、寒暄话术、兜底话术是系统内置的，也支持新增自定义，当一个问题有多个回复话术时将会随机答复一个。

FAQ、指令的内容则是在NLP执行顺序中勾选关联的FAQ母版与指令母版的内容。

![](/download/attachments/101840478/image2023-6-12_9-51-31.png?version=1&modificationDate=1686534691168&api=v2)

### 3.2.3. TTS配置

TTS配置主要是修改发音人、音量、语速、语调。

点“保存”可在左侧预览器中体验，点“发布”可更新到终端上体验，点“恢复”可以恢复上一次发布的配置。

（**注：在【虚拟人母版】的配置中，也有关于TTS配置的内容，但在应用这里的修改不会影响到母版的配置**）

![](/download/attachments/101840478/image2023-6-12_9-51-42.png?version=1&modificationDate=1686534702332&api=v2)

### 3.2.4. 行为情绪配置

**行为情绪配置下的内容来自于虚拟人母版中上传的行为情绪，但在此处的修改同样不会影响到母版的配置**。

同样的，左侧预览器可以进行体验，点“发布”可更新到终端上体验，点“恢复”可以恢复上一次发布的配置。

![](/download/attachments/101840478/image2023-6-12_9-51-55.png?version=1&modificationDate=1686534715389&api=v2)

### 3.2.5. 富文本管理（A+编辑器）

富文本信息主要是指带有虚拟人形象、动作、声音的一段视频，使用的是A+编辑器这一工具。在【富文本管理】页签下可以管理自定义富文本，也可以对前面NLP编辑中的富文本进行管理。

富文本的ID是用于播放富文本的信息，客户端可通过Aplus接口，用ID作为入参，向服务端请求该富文本进行播放。

编辑好的富文本可以一键打包下发至客户端，对于打包下发操作支持查看记录。

![](/download/attachments/101840478/image2023-6-12_9-52-5.png?version=1&modificationDate=1686534725240&api=v2)

点击每条富文本旁边的“编辑”按钮，可进入A+编辑器页面。详细的操作讲解可看：[4、A+ 编辑器的功能与测试报告](/pages/viewpage.action?pageId=101837841)

![](/download/attachments/101840478/image2023-6-12_11-4-34.png?version=1&modificationDate=1686539074754&api=v2)

3.3. 知识母版配置——FAQ
----------------

与虚拟人的语义理解（NLP）能力密切相关的是知识母版的配置，包括FAQ与指令。

### 3.3.1. FAQ配置

FAQ指常见问题解答，属于问答知识。通过预先搭建可复用的FAQ库，根据用户输入的内容识别到问题后，会输出相应的回复话术。

FAQ板块下可以创建并管理多个相互独立的FAQ母版，**母版创建需要由管理员进行**。针对每一个母版可以进行查看、管理、删除操作。

FAQ母版的删除需要通过登陆密码校验，校验通过后还会判断当前FAQ母版是否正被虚拟人应用引用，如果有虚拟人正在引用，则无法删除该FAQ母版。

![](/download/attachments/101840478/image2023-6-8_11-25-42.png?version=1&modificationDate=1686194743021&api=v2)

管理FAQ母版分为编辑——训练——测试——排查——发布五个步骤，接下来依次说明。

（1）**编辑**：编辑FAQ指管理每条FAQ的具体问答内容，包括增删改查。

增加FAQ可以在系统上逐条新增，也可以批量导入。批量导入模板中需要填写的内容有**分类、标准问、回复话术、相似问**，其中标准问是作为判断重复的标准，如果新增的FAQ标准问与已有的数据重复，则会提示“已存在”。

如果不希望某条FAQ起作用，可以在启用状态处关闭（关闭与启用同样支持批量操作）。删除FAQ也可以逐条或批量删除。

对FAQ的管理还可以通过分类来进行，在逐个新增时如果不明确FAQ归属的分类，可以先归到“未分类”下；如果要删除某个分类，删除时若该分类下还存在FAQ问答，则该分类下的FAQ会统一归到“未分类”下。

![](/download/attachments/101840478/image2023-6-8_11-31-13.png?version=1&modificationDate=1686195073424&api=v2)

对FAQ进行的编辑，如果只修改了回复话术的内容，没有修改标准问和相似问的内容，也没有对条目进行增删，则不需要重复训练，可直接进行发布。**如果FAQ条目有增删，或标准问与相似问的内容有修改，则需要重新进行训练才会更新识别效果**。

（2）**训练**：编辑好FAQ内容后，需要对模型进行训练。

FAQ的训练模型相较指令来说简单一些，训练耗时比较少（正常情况下几分钟就能完成训练）。多个FAQ母版一起训练会自动排队，依次训练。

根据页面上显示的“最后编辑时间”与“上次训练时间”，可以推算出最新编辑的内容是否经过训练——如果“上次训练时间”比“最后编辑时间”晚，说明最新编辑的内容已经训练过了；如果“上次训练时间”比“最后编辑时间”早，说明最新编辑的内容还未提交训练，当前的测试模型中还是上次编辑的内容。

![](/download/attachments/101840478/image2023-6-8_13-46-50.png?version=1&modificationDate=1686203211049&api=v2)

（3）**排查**：训练成功后，通过排查可对每个问句的得分情况与影响因素进行深度测试，并进行调优。

在最左侧栏输入问句，中间栏可以得出根据该问句命中的FAQ标准问有哪些以及各自的得分（只展示得分最高的前三条），得分越高说明这条FAQ标准问与问句A之间越接近。

通过排查可以筛选出一些可能干扰问句的标准问，且点击每条标准问，可以在下方【影响命中的相似问】中看到该标准问下具体是哪条相似问可能与问句产生干扰。

FTT系统提供了一些可以针对排查筛选出的相似问进行的操作（“删除”或“转移”），不过目前这些操作的功能不是很明确，所以**不建议在排查环节对FAQ内容进行修改操作**，可以在批量测试后统一修改。

![](/download/attachments/101840478/image2023-6-8_13-54-48.png?version=1&modificationDate=1686203690640&api=v2)

（4）**测试**：FAQ测试提供了一个模拟的对话界面，可以逐条FAQ进行测试，测试的结果在右侧显示。

测试结果包括当前输入的测试问句最终命中的标准问，以及前三条最可能命中的标准问的置信度，这个测试结果与在排查环节得到的结果是一致的。

FAQ的测试也可以批量进行，点击“创建批测”，根据提供的模板上传批测文件，模板中需要填写测试问句与期望FAQ（标准问）。下载批测结果文档，可以得到根据测试问句实际命中的预测FAQ（标准问）及其置信度，并根据期望FAQ与预测FAQ结果判断测试结果正确与否，从而针对结果不正确的测试问句进行修改。

![](/download/attachments/101840478/image2023-6-8_17-45-52.png?version=1&modificationDate=1686217552487&api=v2)![](/download/attachments/101840478/image2023-6-8_19-12-52.png?version=1&modificationDate=1686222772390&api=v2)

（5）**发布**：测试结果没有问题之后，需要将FAQ母版发布，才能生效。

对每个FAQ母版来说，都会有两个模型，一个是线上模型，一个是测试模型。在训练环节，训练完成时更新的是测试模型；在发布环节，点击“发布”按钮，则会将当前的测试模型发布到线上，更新线上模型。

当前如果有母版正在训练中，则无法发布，需要等训练完成再发布。

根据页面上显示的“上次训练时间”与“上次发布时间”，可以推算出最新训练的测试模型是否已发布——如果“上次发布时间”比“上次训练时间”晚，说明最新训练的测试模型已发布；若“上次发布时间”比“上次训练时间”早，说明最新训练的测试模型还未发布，当前的线上模型还是上一次的测试模型。

![](/download/attachments/101840478/image2023-6-8_17-50-11.png?version=1&modificationDate=1686217811835&api=v2)

### 3.3.2. 指令配置

指令指想要虚拟人做出的行动，属于技能知识，通过预先搭建可复用的指令库，根据用户输入的内容识别到指令，如果已获取到必要的变量，就将输出该指令对应的所有信息，以便客户端（应用层）去执行相应的逻辑；如果缺少必要的变量信息，可以支持向用户发起追问，以补全缺少的变量。

指令板块下可以创建并管理多个相互独立的指令母版，**母版创建需要由管理员进行**。针对每一个母版可以进行查看、管理、删除操作。

指令母版的删除需要通过登陆密码校验，校验通过后还会判断当前指令母版是否正被虚拟人应用引用，如果有虚拟人正在引用，则无法删除该指令母版。

![](/download/attachments/101840478/image2023-6-8_19-24-26.png?version=1&modificationDate=1686223466765&api=v2)

管理指令母版分为定义词槽——编辑——训练——测试——发布五个步骤，接下来依次说明。

（1）**定义词槽**：用户输入的指令中可以存在变量，这个变量指的就是词槽。

一个词槽中包含许多同属于一个类型的对象，这些对象叫做实体，每个实体可以有多个别名。

词槽可以逐个添加编辑，也可以支持批量导入。批量导入模板中需要填写的内容有**词槽名称（必填）、词槽描述、实体ID、实体标准名、实体别名**，其中词槽名称是作为判断重复的标准，如果新增的词槽名称与已有的数据重复，则会提示“已存在”。

在词槽列表可以点击“命名实体”列下的数字，弹出词槽下的实体信息，可以对实体ID、实体标准名、实体别名进行增删改查。

![](/download/attachments/101840478/image2023-6-8_19-26-59.png?version=1&modificationDate=1686223619438&api=v2)![](/download/attachments/101840478/image2023-6-8_19-31-27.png?version=1&modificationDate=1686223887888&api=v2)

（2）**编辑**：定义好词槽之后，就可以编辑具体的指令信息了。

指令可以逐个添加新增，也可以支持批量导入。一条指令包含的基本内容有**分类（必填）、指令名称（必填）、指令标识（必填）、相似指令、指令描述、执行成功话术、执行失败话术**。若指令中包含变量，即需要勾选“关联词槽”，并补充**是否追问、追问次数、追问话术、追问失败话术**这些信息。

如果不希望某条指令起作用，可以在启用状态处关闭（关闭与启用同样支持批量操作）。删除指令也可以逐条或批量删除。

在指令列表可以点击“相似指令”列下的数字，弹出该指令的相似指令信息，可以添加与删除相似指令。

对指令的管理还可以通过分类来进行，在逐个新增时如果不明确指令归属的分类，可以先归到“未分类”下；如果要删除某个分类，删除时若该分类下还存在指令，则该分类下的所有指令会统一归到“未分类”下。

![](/download/attachments/101840478/image2023-6-8_19-31-8.png?version=1&modificationDate=1686223868274&api=v2)![](/download/attachments/101840478/image2023-6-8_19-31-51.png?version=1&modificationDate=1686223911372&api=v2)![](/download/attachments/101840478/image2023-6-8_19-31-43.png?version=1&modificationDate=1686223903296&api=v2)

对指令进行的编辑，如果只修改了回复话术（包括执行成功话术、执行失败话术、追问话术、追问失败话术）的内容，没有修改词槽和相似问的内容，也没有对条目进行增删，则不需要重复训练，可直接进行发布。**如果指令条目有增删，或词槽与相似问的内容有修改，则需要重新进行训练才会更新识别效果**。

（3）**训练**：编辑好指令内容后，需要对模型进行训练。

指令的训练模型稍微复杂，训练耗时比较长（通常需要3-4个小时，最快也要1个小时以上）。**在提交训练前最好先检查下是否有其他的指令母版正在训练中，如果有还未训练完成的指令母版，最好等待训练完成后再提交下一个母版的训练**（虽然多个指令母版一起训练会自动排队，但同时提交可能会导致系统崩溃）。

根据页面上显示的“最后编辑时间”与“上次训练时间”，可以推算出最新编辑的内容是否经过训练——如果“上次训练时间”比“最后编辑时间”晚，说明最新编辑的内容已经训练过了；如果“上次训练时间”比“最后编辑时间”早，说明最新编辑的内容还未提交训练，当前的测试模型中还是上次编辑的内容。

![](/download/attachments/101840478/image2023-6-8_19-32-50.png?version=1&modificationDate=1686223970332&api=v2)

（4）**测试**：指令测试提供了一个模拟的对话界面，可以逐条指令进行测试，测试的详细结果在右侧显示。

点击具体的指令，右侧的测试结果就展示相应指令的测试结果。测试结果中显示的字段有以下内容：

*   answer显示对话框给出的回复，如有追问，则显示追问话术；如识别到指令，则显示default；如识别不到指令，则显示null；
*   score表示测试问句与匹配到的指令的匹配分数，如测试问句与指令的相似问完全相同，则score为1；
*   code表示系统匹配到的指令的指令标识；
*   failed\_answer表示系统匹配到的指令的执行失败话术；
*   succeed\_answer表示系统匹配到的指令的执行成功话术；
*   similar value表示识别到的系统中已有的词槽实体。

![](/download/attachments/101840478/image2023-6-8_19-32-37.png?version=1&modificationDate=1686223958122&api=v2)

（5）**发布**：测试结果没有问题之后，需要将指令母版发布，才能生效。

对每个指令母版来说，都会有两个模型，一个是线上模型，一个是测试模型。在训练环节，训练完成时更新的是测试模型；在发布环节，点击“发布”按钮，则会将当前的测试模型发布到线上，更新线上模型。

当前如果有母版正在训练中，则无法发布，需要等训练完成再发布。

根据页面上显示的“上次训练时间”与“上次发布时间”，可以推算出最新训练的测试模型是否已发布——如果“上次发布时间”比“上次训练时间”晚，说明最新训练的测试模型已发布；如果“上次发布时间”比“上次训练时间”早，说明最新训练的测试模型还未发布，当前的线上模型还是上一次的测试模型。

![](/download/attachments/101840478/image2023-6-8_19-32-45.png?version=1&modificationDate=1686223965115&api=v2)

3.4. 资源母版配置
-----------

资源母版管理的是虚拟人形象资源以及一些默认的AI能力。在列表页面可以对资源母版进行增删改查。

![](/download/attachments/101840478/image2023-6-9_13-59-9.png?version=1&modificationDate=1686290349298&api=v2)

### 3.4.1. 创建虚拟人母版

创建虚拟人母版需要填写如下图中的信息。

虚拟人母版可进行版本管理，因此初始创建是默认“初始版本”为v1.0.0。

“渲染引擎”需要选择与该虚拟人最终要搭载的终端应用所用一致的渲染引擎，虚拟人母版一旦创建则不能修改渲染引擎信息。

“初始模型结构”分为拆分和不拆分两种，不拆分对应上传的是虚拟人全身模型，拆分对应应分别上传虚拟人各部件的模型（**目前仅支持不拆分，后续PTA功能实现后将支持拆分**）。

![](/download/attachments/101840478/image2023-6-9_14-3-50.png?version=1&modificationDate=1686290631028&api=v2)

### 3.4.2. 管理虚拟人母版

管理虚拟人母版分别要进行角色模型、角色骨骼、角色动画、语种配置四部分内容的配置，接下来依次说明。

（1）**角色模型**：角色模型下的页签数与创建时所选择的“初始模型结构”相对应，若不拆分则只有一个全身模型。

全身模型最多存在一个，已新增的模型支持更新和删除。

![](/download/attachments/101840478/image2023-6-9_14-24-41.png?version=1&modificationDate=1686291881867&api=v2)

（2）**角色骨骼**：角色骨骼最多存在一个，已上传的骨骼支持更新。

![](/download/attachments/101840478/image2023-6-9_14-22-34.png?version=1&modificationDate=1686291754629&api=v2)

（3）**角色动画**：可以对动画进行增删改查。支持批量引用本地文件来新增动画。

![](/download/attachments/101840478/image2023-6-9_14-58-51.png?version=1&modificationDate=1686293932007&api=v2)

（4）**语种配置**：在【语种配置】页面，可选择并切换语种，不同语种并存，配置相互独立。每个语种都有【角色状态】【对话能力】【行为情绪】三个二级页面。

角色状态包括待命、无聊、倾听、思考四种状态，需要为这四种状态配置动画，点击“更新”并从已上传的动画文件中选择。

对话能力下可以配置NLP闲聊库与TTS参数。

行为情绪需要给每个行为情绪配置相应的动画，可以通过上传的方式导入**虚拟人配置行为情绪动画映射表**（有固定模板），也可以在页面上点击“更新”并从已上传的动画文件中选择。

![](/download/attachments/101840478/image2023-6-9_14-59-0.png?version=1&modificationDate=1686293941067&api=v2)![](/download/attachments/101840478/image2023-6-9_15-7-26.png?version=1&modificationDate=1686294447376&api=v2)![](/download/attachments/101840478/image2023-6-9_15-7-35.png?version=1&modificationDate=1686294455625&api=v2)![](/download/attachments/101840478/image2023-6-12_11-27-50.png?version=1&modificationDate=1686540470945&api=v2)

### 3.4.3. 母版版本管理

版本管理入口在“管理”页面的左上角，每次进入母版管理页面时默认为当前母版已发布的最高版本。

![](/download/attachments/101840478/image2023-6-9_14-14-9.png?version=1&modificationDate=1686291249201&api=v2)![](/download/attachments/101840478/image2023-6-9_14-14-46.png?version=1&modificationDate=1686291286193&api=v2)

4\. FTT系统运营操作
=============

与科大讯飞AIUI开放平台上的统计数据查看不同，FTT系统的运营主要是从虚拟人相关的交互角度出发，包括用户与访问用户数、交互请求数等访问数据统计，以及虚拟人进行对话的所有会话记录。

4.1. 监控预警——访问统计
---------------

访问统计用于统计终端用户对云服务的访问。

访问用户数为折线图呈现形式，可以直观看到过去一周使用虚拟人进行交互的用户数量变化走势，鼠标移上去悬停则可以看到具体的数据。

交互请求数为柱状图呈现形式，其中又细分为了提问请求和播报请求，提问请求指调用NLP与虚拟人进行交互的数量；播报请求指用户输入文本，由虚拟人直接播报出来的数量。显示的也是近一周的数据，可以直观看到两类请求的数量之间的比例，鼠标移上去悬停则可以看到具体的数据。点击图标正上方的“提问请求”或“播报请求”的文字，可以关闭或开启显示该类数据。

访问统计支持多种筛选条件：可以按时间段筛选，默认为近一周；可以按应用筛选，默认全部应用；还可以按语种筛选，默认所有语言。

![](/download/attachments/101840478/image2023-6-9_10-12-56.png?version=1&modificationDate=1686276776869&api=v2)

4.2. 我的应用——会话记录
---------------

在【我的应用】列表下，操作栏中有个“运营”的图标，点击进入到该应用下的会话记录页面。

左侧列表表示按虚拟人搭载的不同终端的维度查看会话记录，每一项上包含的信息有**虚拟人、终端编码、最近一次会话的时间**。点击某一项，在右侧的会话框中可以看到近一个月用户与虚拟人进行会话的记录。

会话记录支持多种筛选条件：可以按时间段筛选，默认为近一个月；可以按虚拟人筛选，；还可以按用户输入的具体内容筛选。设置好筛选条件后，左侧列表会留下符合筛选条件的项，再点击每一项查看具体的会话记录。（**目前按用户输入内容筛选暂时无法直接定位到那条包含该输入内容的具体对话上，而是看到所有的会话内容**）

![](/download/attachments/101840478/image2023-6-9_10-15-5.png?version=1&modificationDate=1686276905354&api=v2)![](/download/attachments/101840478/image2023-6-9_10-13-47.png?version=1&modificationDate=1686276827644&api=v2)

5\. 补充说明
========

上述对内部运营操作的介绍只涉及到绝大部分最常使用到的模块和功能，除此之外，在实际上线运营过程中还会面临很多的细节问题，在这里进行补充说明，包括了解更细节的运营操作可以查阅的文档，以及遇到实在无法处理的问题时可联系的相关人员。

5.1. 其他文档链接
-----------

*   FTT系统操作手册：[智能AI虚拟人云服务平台操作手册-v1.2.pdf](/download/attachments/101840478/%E6%99%BA%E8%83%BDAI%E8%99%9A%E6%8B%9F%E4%BA%BA%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8C-v1.2.pdf?version=1&modificationDate=1686275913994&api=v2)
*   FTT系统私有化部署版本功能体验与测试报告：[6、FTT系统私有化部署版本功能体验与测试报告](/pages/viewpage.action?pageId=101828309#id-6、FTT系统私有化部署版本功能体验与测试报告- 6%E3%80%81FTT%E7%B3%BB%E7%BB%9F%E7%A7%81%E6%9C%89%E5%8C%96%E9%83%A8%E7%BD%B2%E7%89%88%E6%9C%AC%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C%E4%B8%8E%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A-%E5%AF%8C%E6%96%87%E6%9C%AC%EF%BC%88A+%EF%BC%89%E7%B)
*   外部介绍文档：[关于影子虚拟人，看这一篇就够了](/pages/viewpage.action?pageId=101840158#id-关于影子虚拟数字人，看这一篇就够了-%E5%85%B3%E4%BA%8E%E5%BD%B1%E5%AD%90%E8%99%9A%E6%8B%9F%E4%BA%BA%EF%BC%8C%E7%9C%8B%E8%BF%99%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86-%E8%99%9A%E6%8B%9F%E4%BA%BA%E8%AF%AD%E9%9F%B3%E4%BA%A4%E4%BA%92)
*   虚拟人接入万得厨2.0种子用户反馈问题登记：[虚拟人接入万得厨2.0种子用户反馈问题登记](/pages/viewpage.action?pageId=101840869)

5.2. 相关负责人员
-----------

*   科大讯飞AIUI平台相关问题可联系： [未知用户 (zhengxiaohan)](/display/~zhengxiaohan)
*   FTT系统账号权限相关问题可联系： [秦路航](/display/~qinluhang)
*   指令母版操作相关问题可联系： [马冬颖](/display/~madongying)
*   问答母版操作相关问题可联系： [秦路航](/display/~qinluhang)
*   虚拟人资源与A+编辑器相关问题可联系： [未知用户 (fengtianfeng)](/display/~fengtianfeng)

  

  

  

  

  

  

[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)

[Configure buttons visibility](/users/tfac-settings.action)