---
author: "王宇"
title: "PTA功能验收评估文档"
date: 五月30,2024
description: "李梦阳"
tags: ["李梦阳"]
ShowReadingTime: "12s"
weight: 352
---
*   1[1\. 结论](#PTA功能验收评估文档-结论)
*   2[2\. 项目概述](#PTA功能验收评估文档-项目概述)
*   3[3\. 验收标准与依据](#PTA功能验收评估文档-验收标准与依据)
*   4[4\. 验收内容与结果](#PTA功能验收评估文档-验收内容与结果)
    *   4.1[4.1. 技术性能](#PTA功能验收评估文档-技术性能)
        *   4.1.1[4.1.1. 照片处理与虚拟人生成能力](#PTA功能验收评估文档-照片处理与虚拟人生成能力)
        *   4.1.2[4.1.2. 虚拟人生成质量](#PTA功能验收评估文档-虚拟人生成质量)
        *   4.1.3[4.1.3. PTA美术资源评价](#PTA功能验收评估文档-PTA美术资源评价)
        *   4.1.4[4.1.4. 同步炉端](#PTA功能验收评估文档-同步炉端)
        *   4.1.5[4.1.5. 性能效率](#PTA功能验收评估文档-性能效率)
    *   4.2[4.2. 功能实现](#PTA功能验收评估文档-功能实现)
        *   4.2.1[4.2.1. 核心功能验证](#PTA功能验收评估文档-核心功能验证)
            *   4.2.1.1[4.2.1.1. 照片上传与预览](#PTA功能验收评估文档-照片上传与预览)
            *   4.2.1.2[4.2.1.2. 虚拟人生成与编辑](#PTA功能验收评估文档-虚拟人生成与编辑)
        *   4.2.2[4.2.2. 辅助功能检查](#PTA功能验收评估文档-辅助功能检查)
            *   4.2.2.1[4.2.2.1. 用户账户管理](#PTA功能验收评估文档-用户账户管理)
            *   4.2.2.2[4.2.2.2. 帮助与反馈](#PTA功能验收评估文档-帮助与反馈)
        *   4.2.3[4.2.3. 用户体验](#PTA功能验收评估文档-用户体验)
            *   4.2.3.1[4.2.3.1. 界面设计与交互](#PTA功能验收评估文档-界面设计与交互)

**项目名称**：基于照片生成虚拟人应用

**验收日期**：2024.03.27

**验收人员**：李梦阳：软件产品经理

**供应商**：拟仁智能

1\. 结论
======

从当前的深度体验来看，PTA整体效果较差，未达到商业化标准，不予验收。

2\. 项目概述
========

本报告旨在对虚拟人公司交付的基于照片生成虚拟人应用进行详尽的验收评估。该项目旨在通过用户上传的照片，运用先进的计算机视觉和图形渲染技术，实时创建高度逼真、个性化的虚拟形象。依据预设的技术规格、功能需求、用户体验标准以及合同约定，对交付的应用进行了全面的测试与审查。

3\. 验收标准与依据
===========

验收工作主要参照以下标准与依据进行：

**1、技术规格文档**：包括应用所使用的算法模型性能指标、照片处理能力、虚拟人生成精度等

要求。

**2、功能需求清单**：涵盖用户上传照片、照片预处理、虚拟人生成、编辑与定制、输出与同步等功能的具体描述与预期表现。

**3、用户体验设计规范**：用户界面布局、交互流程、响应速度、兼容性、无障碍访问等方面的指导原则。

**4、服务协议与SLA**：关于数据安全、隐私保护、技术支持、维护更新等方面的服务承诺与责任划分。

4\. 验收内容与结果
===========

4.1. 技术性能
---------

### 4.1.1. 照片处理与虚拟人生成能力

**照片上传与识别**：应用能够接受高分辨率照片，自动识别并裁剪出人脸区域，对光照、角度、表情等**适应性较差，需要按照特定的要求上传照片**，具体要求为：正面照、五官露出、不戴眼镜、不露牙齿，需要提高对用户上传的照片的自适应性。此外，经测试，在不同场景下的多组样本照片中，发现PTA应用并**未对照片进行相应的合规性校验**，具体表现包括但不仅限于以下场景：戴口罩、侧面照、卡通图片、露牙齿、挡住镜头、多人照片、公众人物照片等，可见下面列表：

错误场景名称

上传图片

生成图片

说明

照片合法性识别更新后验证（0530）

错误场景名称

上传图片

生成图片

说明

照片合法性识别更新后验证（0530）

多人照片

![](/download/thumbnails/123636753/image2024-3-28_16-26-38.png?version=1&modificationDate=1711614362066&api=v2)

![](/download/thumbnails/123636753/image2024-3-28_16-26-49.png?version=1&modificationDate=1711614372492&api=v2)

  

//-1 未检测到人脸

戴口罩

![](/download/thumbnails/123636753/image2024-3-28_16-27-16.png?version=1&modificationDate=1711614400072&api=v2)

![](/download/thumbnails/123636753/image2024-3-28_16-27-23.png?version=1&modificationDate=1711614406992&api=v2)

直接将口罩也同步生成

//-4 五官被遮挡

露牙齿

![](https://vdh-haiface.test.yingzi.com/haiface/api/v1/file/image/pta/30000001711451607347282171156572_head.jpg)

![](/download/thumbnails/123636753/image2024-3-28_16-29-49.png?version=1&modificationDate=1711614552921&api=v2)

生成的图片看起来五官不够协调，光照也偏暗

//-6 嘴部异常

拍照-挡住一半摄像头

![](https://vdh-haiface.test.yingzi.com/haiface/api/v1/file/image/pta/30000001711452346839443811736254_head.jpg)

![](/download/thumbnails/123636753/image2024-3-28_16-30-24.png?version=1&modificationDate=1711614587450&api=v2)

被遮挡的部分成了阴影区域，无五官特征

//-4 五官被遮挡

侧脸

![](https://vdh-haiface.test.yingzi.com/haiface/api/v1/file/image/pta/30000001711451403731710759823231_head.jpg)

![](/download/thumbnails/123636753/image2024-3-28_16-30-32.png?version=1&modificationDate=1711614595910&api=v2)

生成的脸型看着是斜着的，不够自然

生成效果不好![](https://yz-bizcenter-bsc-production.oss-cn-shenzhen.aliyuncs.com/833/1245769359235776512/screenshot1717056160164.png)

戴眼镜

![](/download/thumbnails/123636753/image2024-3-28_16-32-3.png?version=1&modificationDate=1711614687415&api=v2)

/

戴眼镜的就只会返回创建失败，错误码

为-20，跟商家确认，当前没有该错误码，错误码信息

为以下几种：

![](/download/attachments/123636753/image2024-3-28_16-38-5.png?version=1&modificationDate=1711615048816&api=v2)

//-3 戴了眼镜

卡通照片

![](/download/thumbnails/123636753/image2024-3-28_16-36-11.png?version=1&modificationDate=1711614935180&api=v2)

![](/download/thumbnails/123636753/image2024-3-28_16-36-24.png?version=1&modificationDate=1711614947543&api=v2)

肤色随照片自适应了，自适应没错，但是得区分人种颜色：黑、白、黄

//-1 未检测到人脸

五官不全

![](/download/thumbnails/123636753/image2024-4-8_17-35-54.png?version=1&modificationDate=1712568897080&api=v2)

![](/download/thumbnails/123636753/image2024-4-8_17-36-0.png?version=1&modificationDate=1712568903483&api=v2)

生成形象如果照片不是全脸和全下巴现在生成的形象那部分会黑化

同样效果，无优化![](https://yz-bizcenter-bsc-production.oss-cn-shenzhen.aliyuncs.com/833/1245782584882700288/screenshot1717059313394.png)

结论：照片上传与识别模块不予验收，所存在的问题很多，未达到最低的商业化标准。

### 4.1.2. 虚拟人生成质量

生成的虚拟人形象在面部特征、肤色、发型、服装等方面与原始照片吻合度尚可，**细节纹理不够细腻**，动态表情较为自然流畅。使用多个人物照片进行测试，生成结果均未展现出出色的逼真度和个性化特征，可见下面列表（该评价可视为主观评价）：

评估标准

上传照片

生成照片

说明

吻合度

![](/download/attachments/123636753/image2024-4-1_9-15-14.png?version=1&modificationDate=1711934077980&api=v2)

![](/download/thumbnails/123636753/image2024-4-1_9-40-18.png?version=1&modificationDate=1711935581733&api=v2)

![](/download/thumbnails/123636753/image2024-4-7_9-54-19.png?version=1&modificationDate=1712454802257&api=v2)

![](/download/thumbnails/123636753/image2024-4-1_9-16-29.png?version=1&modificationDate=1711934152584&api=v2)

![](/download/thumbnails/123636753/image2024-4-1_9-40-31.png?version=1&modificationDate=1711935594231&api=v2)

![](/download/thumbnails/123636753/image2024-4-7_9-54-41.png?version=1&modificationDate=1712454823751&api=v2)

男性五官位置基本吻合，肤色差异尚可，比第一版PTA交付在肤色差异上表现更好

女性五官位置基本吻合，在有表情下，整体成像相似度较低，在无表情情况下，相似度略有提升，效果还是不够明显

整体看，PTA的吻合度跟贴图质量强相关，这对用户的照片质量有一定要求，且头部模型只有一个，体验较差

  

动态表情

![](/download/thumbnails/123636753/image2024-4-1_9-25-42.png?version=1&modificationDate=1711934705354&api=v2)

![](/download/thumbnails/123636753/image2024-4-1_9-32-38.png?version=1&modificationDate=1711935121965&api=v2)

五官映射上去后表情驱动比较流畅。

细节纹理

![](/download/thumbnails/123636753/image2024-4-1_9-35-3.png?version=1&modificationDate=1711935267959&api=v2)

![](/download/thumbnails/123636753/image2024-4-1_9-33-6.png?version=1&modificationDate=1711935149220&api=v2)

人脸眉毛颜色较浅的容易被算法计算出去；

  

侧脸相似度

![](/download/thumbnails/123636753/image2024-4-7_17-6-31.png?version=1&modificationDate=1712480734165&api=v2)![](/download/thumbnails/123636753/image2024-4-7_17-6-43.png?version=1&modificationDate=1712480745852&api=v2)

![](/download/thumbnails/123636753/image2024-4-7_16-48-53.png?version=1&modificationDate=1712479675695&api=v2)![](/download/thumbnails/123636753/image2024-4-7_16-49-11.png?version=1&modificationDate=1712479694323&api=v2)

侧脸相似度不高：仅根据图片裁出五官，用的头部模型是同一个，所以脸型属于同一个，正面没有胖瘦的区别，侧面没有脸型特点区别，只是贴图不同导致相貌有轻微不同，而且也跟原来照片主人有很大区别。

后台的材质效果比app材质效果要好。

![](/download/thumbnails/123636753/image2024-4-7_17-6-58.png?version=1&modificationDate=1712480761681&api=v2)![](/download/thumbnails/123636753/image2024-4-7_17-7-12.png?version=1&modificationDate=1712480775288&api=v2)

![](/download/thumbnails/123636753/image2024-4-7_16-52-57.png?version=1&modificationDate=1712479919978&api=v2)

![](/download/thumbnails/123636753/image2024-4-7_16-53-14.png?version=1&modificationDate=1712479936765&api=v2)

侧脸相似度不高：仅根据图片裁出五官，用的头部模型是同一个，所以脸型属于同一个，正面没有胖瘦的区别，侧面没有脸型特点区别，只是贴图不同导致相貌有轻微不同，而且也跟原来照片主人有很大区别。

后台的材质效果比app材质效果要好。

总结：人脸生成后的肤色与pta有差异，拍摄需要时尽量避免面部有遮挡物（比如刘海），最后生成效果比较粗糙，距离商业化还有很大进步空间。

### 4.1.3. PTA美术资源评价

评价项目

评价内容

结论

发型

男女各含6种发型，1种发饰

1、考虑到使用的引擎是threejs，目前pta男的头发实现效果在6款发型中，前4款发型在app上的效果还是比较好的，符合美术标准制作可验收；后两款发型（05.06）实现效果稍差需要修改，可修改贴图或改发型。pta女发型效果06侧面头发效果较平，其余发型效果符合美术标准可验收。

2、服饰在app上的实现效果比较简单，制作上没有很精细的处理，已有的上衣下装符合美术标准可验收，鞋子贴图质量稍差，可修改优化。

3、虚拟人口型动画，用的是同一个头部模型，实际每个新生成的虚拟人都是同一个头部的口型动画，符合美术标准可验收。

4、虚拟人动画动作制作基本符合美术标准可验收，但动作比较简单，没什么个性，修改方向可以增加个性化动作。

亮度/对比度

亮度调整及对比度调整

服饰

pta男含6款上衣，6款下装，1款套装，7款鞋子

pta女含4款上衣，4款下装，3款套装，7款鞋子

口型

人物口型

动作动画

人物动作

总结：模型实现效果看项目要求高低，对标外部虚拟人效果，就目前app 的实现效果来说制作流程算符合商业化，模型动作在商业化上勉强及格，模型处理及动作处理上很粗糙，材质效果不符合现在用户对三维效果期望的商业化标准。后台网页查看的材质效果要比app上的好。

### 4.1.4. 同步炉端

**（1）手机端同步到炉端实现步骤复杂。**

当前实现方式：

*   手机端向服务器请求二维码字符串
*   服务器下发给万得厨端
*   万得厨端转发给虚拟人端
*   虚拟人端通过杭州接口生成二维码字符串
*   虚拟人端通过后台接口保存二维码字符串
*   手机端获取二维码字符串
*   手机端调用SDK同步虚拟人
*   手机端同步成功后。下发指令给万得厨端
*   万得厨端转发给虚拟人端

建议：

*   手机端通过SDK发送同步虚拟人到炉端操作
*   炉端通过SDK设置新增虚拟人更新的回调（有新增虚拟人时回调）。

**（2）相关需要调用杭州服务器接口的没文档(参数/返回数据)**

**（3）手机端PTA人物渲染和炉端差别大（见下面列表）**

手机端照片

炉端同步照片

说明

手机端照片

炉端同步照片

说明

![](/download/thumbnails/123636753/image2024-3-28_17-33-57.png?version=1&modificationDate=1711618400829&api=v2)

![](/download/thumbnails/123636753/image2024-3-28_17-34-8.png?version=1&modificationDate=1711618411449&api=v2)

五官有变化，不够协调

炉端肤色变白

### 4.1.5. 性能效率

**生成时间**：在典型设备（如主流智能手机）上运行，从照片上传到虚拟人生成的全过程耗时很长，不符合预期的实时性要求，**平均耗时在7秒左右**

**加载时间**：虚拟人加载时间上存在瓶颈，经常出现**耗时在两分钟以上**，待之后全面压测给出准确数据。

**稳定性**：异步调用多个api时，**容易出现crash**，后续需要进行在大量并发请求下测试应用的稳定性和可扩展性。

4.2. 功能实现
---------

### 4.2.1. 核心功能验证

#### 4.2.1.1. 照片上传与预览

用户能够方便快捷地选择、上传照片，并在应用内实时预览处理效果，表现尚可。

#### 4.2.1.2. 虚拟人生成与编辑

系统能生成对应的虚拟人形象，用户可以进一步调整发型、服装元素，可实现轻度的个性化定制，后续可考虑在面部特征、妆容以及服饰上做更深度的定制化。

### 4.2.2. 辅助功能检查

#### 4.2.2.1. 用户账户管理

虚拟人在不同类型的设备上信息账号信息不同步，安卓/iOS/炉端，导致各设备之间的同步需要调用10多个接口来统一

#### 4.2.2.2. 帮助与反馈

当前应用缺少详尽的帮助文档和FAQ，需要提供便捷的用户反馈通道，确保用户在使用过程中能得到及时有效的支持。

### 4.2.3. 用户体验

#### 4.2.3.1. 界面设计与交互

**UI/UX设计**：这一块我们可以根据自己的业务需求进行相应设计，不做评价。

**响应速度与稳定性**：生成虚拟人、加载虚拟人时间较长，后续需要进行更全面的压力测试。

**兼容性与无障碍访问**：

1）当前应用支持IOS、安卓系统，一些新型系统暂未支持，比如鸿蒙，在鸿蒙系统上出现渲染报错，后续需要根据业务需求进行定制的讨论，

![](/download/attachments/123636753/image2024-3-28_17-43-49.png?version=1&modificationDate=1711618992659&api=v2)

2）没有官方flutter插件，整体兼容性较差。

3）SDK渲染的API以及销毁等生命周期相关的方法都能提供回调，暴露出状态和错误，方便客户端定位问题以及根据对应的异常做对应的处理

4）今天发现一个PTA路径上的一个问题，删除已有的PTA，返回虚拟人主页，万得美会渲染不出来，但重新进入就可以出来，然后经过测试，不是所有手机都有这个问题，应该是不同手机渲染上的差异导致部分手机容易出现问题，目前是想要先上线，然后记录这个问题，看看怎么优化和解决（2024.4.29）

  

  

  

  

[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)

[Configure buttons visibility](/users/tfac-settings.action)