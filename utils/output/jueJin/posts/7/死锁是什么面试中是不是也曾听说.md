---
author: "Gaby"
title: "æ­»é”æ˜¯ä»€ä¹ˆé¢è¯•ä¸­æ˜¯ä¸æ˜¯ä¹Ÿæ›¾å¬è¯´"
date: 2021-08-15
description: "æ­»é”æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåœ¨å¹¶å‘ç¨‹åºä¸­å¦‚ä½•é¿å…æ­»é”ä¸€ç›´æ˜¯é¢è¯•å®˜åçˆ±çš„ä¸€ä¸ªé—®é¢˜ã€‚ æœ¬æ–‡å°½é‡ä»¥æœ€ç®€æ´çš„ç¤ºä¾‹æ¥å¸®åŠ©ä½ å¿«é€Ÿç†è§£ï¼ŒæŒæ¡æ­»é”å‘ç”Ÿçš„åŸç”±ã€‚"
tags: ["å‰ç«¯","é¢è¯•ä¸­æ–‡æŠ€æœ¯ç¤¾åŒº","å‰ç«¯å¼€å‘ç¤¾åŒº","å‰ç«¯æŠ€æœ¯äº¤æµ","å‰ç«¯æ¡†æ¶æ•™ç¨‹","JavaScript å­¦ä¹ èµ„æº","CSS æŠ€å·§ä¸æœ€ä½³å®è·µ","HTML5 æœ€æ–°åŠ¨æ€","å‰ç«¯å·¥ç¨‹å¸ˆèŒä¸šå‘å±•","å¼€æºå‰ç«¯é¡¹ç›®","å‰ç«¯æŠ€æœ¯è¶‹åŠ¿"]
ShowReadingTime: "é˜…è¯»5åˆ†é’Ÿ"
weight: 1
selfDefined:"likes:3,comments:0,collects:2,views:758,"
---
**è¿™æ˜¯æˆ‘å‚ä¸8æœˆæ›´æ–‡æŒ‘æˆ˜çš„ç¬¬13å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[8æœˆæ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/6987962113788493831 "https://juejin.cn/post/6987962113788493831")**

* * *

æ­»é”æ˜¯ä»€ä¹ˆ
-----

æ­»é”æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåœ¨å¹¶å‘ç¨‹åºä¸­å¦‚ä½•é¿å…æ­»é”ä¸€ç›´æ˜¯é¢è¯•å®˜åçˆ±çš„ä¸€ä¸ªé—®é¢˜ã€‚  
æœ¬æ–‡å°½é‡ä»¥æœ€ç®€æ´çš„ç¤ºä¾‹æ¥å¸®åŠ©ä½ å¿«é€Ÿç†è§£ï¼ŒæŒæ¡æ­»é”å‘ç”Ÿçš„åŸå› åŠå…¶è§£å†³æ–¹æ³•ã€‚åœ¨é˜…è¯»æ¥ä¸‹æ¥çš„å†…å®¹ä¹‹å‰ï¼Œä½ å¿…é¡»å…·å¤‡javaä¸­ç‹¬å é”ä¸çº¿ç¨‹ä¹‹é—´é€šä¿¡çš„åŸºæœ¬çŸ¥è¯†ã€‚

**æ­»é”**  
å½“çº¿ç¨‹AæŒæœ‰ç‹¬å é”aï¼Œå¹¶å°è¯•å»è·å–ç‹¬å é”bçš„åŒæ—¶ï¼Œçº¿ç¨‹BæŒæœ‰ç‹¬å é”bï¼Œå¹¶å°è¯•è·å–ç‹¬å é”açš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå‘ç”ŸABä¸¤ä¸ªçº¿ç¨‹ç”±äºäº’ç›¸æŒæœ‰å¯¹æ–¹éœ€è¦çš„é”ï¼Œè€Œå‘ç”Ÿçš„é˜»å¡ç°è±¡ï¼Œæˆ‘ä»¬ç§°ä¸ºæ­»é”ã€‚

ä¸‹é¢ç”¨ä¸€ä¸ªéå¸¸ç®€å•çš„æ­»é”ç¤ºä¾‹æ¥å¸®åŠ©ä½ ç†è§£æ­»é”çš„å®šä¹‰ã€‚

```js
    public class DeadLockDemo {
    
        public static void main(String[] args) {
        // çº¿ç¨‹a
            Thread td1 = new Thread(new Runnable() {
                public void run() {
                DeadLockDemo.method1();
            }
            });
            // çº¿ç¨‹b
                Thread td2 = new Thread(new Runnable() {
                    public void run() {
                    DeadLockDemo.method2();
                }
                });
                
                td1.start();
                td2.start();
            }
            
                public static void method1() {
                    synchronized (String.class) {
                        try {
                        Thread.sleep(2000);
                            } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                        System.out.println("çº¿ç¨‹aå°è¯•è·å–integer.class");
                            synchronized (Integer.class) {
                            
                        }
                        
                    }
                }
                
                    public static void method2() {
                        synchronized (Integer.class) {
                            try {
                            Thread.sleep(2000);
                                } catch (InterruptedException e) {
                                e.printStackTrace();
                            }
                            System.out.println("çº¿ç¨‹bå°è¯•è·å–String.class");
                                synchronized (String.class) {
                                
                            }
                            
                        }
                    }
                    
                }
                
                //----------------
                //çº¿ç¨‹bå°è¯•è·å–String.class
                //çº¿ç¨‹aå°è¯•è·å–integer.class
                //....
                //...
                //..
                //.
                //æ— é™é˜»å¡ä¸‹å»
```

å¦‚ä½•é¿å…æ­»é”ï¼Ÿ
-------

æ•™ç§‘ä¹¦èˆ¬çš„å›ç­”åº”è¯¥æ˜¯ï¼Œç»“åˆâ€œå“²å­¦å®¶å°±é¤[\[1\]](#fn1 "#fn1")â€æ¨¡å‹ï¼Œåˆ†æå¹¶æ€»ç»“å‡ºä»¥ä¸‹æ­»é”çš„åŸå› ï¼Œæœ€åå¾—å‡ºâ€œé¿å…æ­»é”å°±æ˜¯ç ´åé€ æˆæ­»é”çš„ï¼Œè‹¥å¹²æ¡ä»¶ä¸­çš„ä»»æ„ä¸€ä¸ªâ€çš„ç»“è®ºã€‚

é€ æˆæ­»é”å¿…é¡»è¾¾æˆçš„4ä¸ªæ¡ä»¶ï¼ˆåŸå› ï¼‰ï¼š

1.  äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ã€‚
2.  è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªçº¿ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚
3.  ä¸å‰¥å¤ºæ¡ä»¶ï¼šçº¿ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚
4.  å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²çº¿ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚

ä½†æ˜¯ï¼Œâ€œå“²å­¦å®¶å°±é¤â€å…‰çœ‹åå­—å°±å¾ˆè®¨åŒï¼Œç„¶åä»¥ä¸Šè¿™4ä¸ªæ¡ä»¶çœ‹èµ·æ¥ä¹Ÿå¾ˆç»•å£ï¼Œå†åŠ ä¸Šç¬”è€…åˆæ˜¯ä¸ªæ‡’äººï¼Œæ‰€ä»¥è¦è®©æˆ‘åœ¨é¢è¯•æ—¶æŠŠè¿™äº›â€œèƒŒè¯µâ€å‡ºæ¥å®åœ¨æ˜¯å¤ªéš¾äº†ï¼å¿…é¡»è¦æƒ³åŠæ³•æŠŠè¿™4ä¸ªæ¡ä»¶ç®€åŒ–ä¸€ä¸‹ï¼  
äºæ˜¯ï¼Œé€šè¿‡å¯¹4ä¸ªé€ æˆæ­»é”çš„æ¡ä»¶è¿›è¡Œé€æ¡åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹4ä¸ªç»“è®ºã€‚

1.  äº’æ–¥æ¡ä»¶ ---> ç‹¬å é”çš„ç‰¹ç‚¹ä¹‹ä¸€ã€‚
2.  è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ ---> ç‹¬å é”çš„ç‰¹ç‚¹ä¹‹ä¸€ï¼Œå°è¯•è·å–é”æ—¶å¹¶ä¸ä¼šé‡Šæ”¾å·²ç»æŒæœ‰çš„é”
3.  ä¸å‰¥å¤ºæ¡ä»¶ ---> ç‹¬å é”çš„ç‰¹ç‚¹ä¹‹ä¸€ã€‚
4.  å¾ªç¯ç­‰å¾…æ¡ä»¶ ---> å”¯ä¸€éœ€è¦è®°å¿†çš„é€ æˆæ­»é”çš„æ¡ä»¶ã€‚

ä¸é”™ï¼å¤æ‚çš„æ­»é”æ¡ä»¶ç»è¿‡ç®€åŒ–ï¼Œç°åœ¨éœ€è¦è®°å¿†çš„ä»…åªæœ‰ç‹¬å é”ä¸ç¬¬å››ä¸ªæ¡ä»¶è€Œå·²ã€‚

æ‰€ä»¥ï¼Œé¢å¯¹å¦‚ä½•é¿å…æ­»é”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åªéœ€è¦è¿™æ ·å›ç­”ï¼  
: åœ¨å¹¶å‘ç¨‹åºä¸­ï¼Œé¿å…äº†é€»è¾‘ä¸­å‡ºç°å¤æ•°ä¸ªçº¿ç¨‹äº’ç›¸æŒæœ‰å¯¹æ–¹çº¿ç¨‹æ‰€éœ€è¦çš„ç‹¬å é”çš„çš„æƒ…å†µï¼Œå°±å¯ä»¥é¿å…æ­»é”ã€‚

ä¸‹é¢æˆ‘ä»¬é€šè¿‡â€œç ´åâ€ç¬¬å››ä¸ªæ­»é”æ¡ä»¶ï¼Œæ¥è§£å†³ç¬¬ä¸€ä¸ªå°èŠ‚ä¸­çš„æ­»é”ç¤ºä¾‹å¹¶è¯æ˜æˆ‘ä»¬çš„ç»“è®ºã€‚

\*\*

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç”±äºå·²ç»ä¸å­˜åœ¨çº¿ç¨‹aæŒæœ‰çº¿ç¨‹béœ€è¦çš„é”ï¼Œè€Œçº¿ç¨‹bæŒæœ‰çº¿ç¨‹aéœ€è¦çš„é”çš„é€»è¾‘äº†ï¼Œæ‰€ä»¥Demoé¡ºåˆ©æ‰§è¡Œå®Œæ¯•ã€‚

```js
    public class DeadLockDemo2 {
    
        public static void main(String[] args) {
        // çº¿ç¨‹a
            Thread td1 = new Thread(new Runnable() {
                public void run() {
                DeadLockDemo2.method1();
            }
            });
            // çº¿ç¨‹b
                Thread td2 = new Thread(new Runnable() {
                    public void run() {
                    DeadLockDemo2.method2();
                }
                });
                
                td1.start();
                td2.start();
            }
            
                public static void method1() {
                    synchronized (String.class) {
                        try {
                        Thread.sleep(2000);
                            } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                        System.out.println("çº¿ç¨‹aå°è¯•è·å–integer.class");
                            synchronized (Integer.class) {
                            System.out.println("çº¿ç¨‹aè·å–åˆ°integer.class");
                        }
                        
                    }
                }
                
                    public static void method2() {
                    // ä¸å†è·å–çº¿ç¨‹aéœ€è¦çš„Integer.classé”ã€‚
                        synchronized (String.class) {
                            try {
                            Thread.sleep(2000);
                                } catch (InterruptedException e) {
                                e.printStackTrace();
                            }
                            System.out.println("çº¿ç¨‹bå°è¯•è·å–Integer.class");
                                synchronized (Integer.class) {
                                System.out.println("çº¿ç¨‹bè·å–åˆ°Integer.class");
                            }
                            
                        }
                    }
                    
                }
                /*
                -----------------
                çº¿ç¨‹aå°è¯•è·å–integer.class
                çº¿ç¨‹aè·å–åˆ°integer.class
                çº¿ç¨‹bå°è¯•è·å–Integer.class
                çº¿ç¨‹bè·å–åˆ°Integer.class
                
                */
```

æ€»ç»“
--

æ˜¯å¦èƒ½å¤Ÿç®€å•æ˜äº†çš„åœ¨é¢è¯•ä¸­é˜è¿°æ¸…æ¥šæ­»é”äº§ç”Ÿçš„åŸå› ï¼Œå¹¶ç»™å‡ºè§£å†³æ­»é”çš„æ–¹æ¡ˆï¼Œå¯ä»¥ä½“ç°ç¨‹åºå‘˜åœ¨é¢å¯¹å¯¹å¹¶å‘é—®é¢˜æ—¶æ€è·¯æ˜¯å¦æ¸…æ™°ï¼Œå¯¹å¹¶å‘çš„åŸºç¡€æŒæ¡æ˜¯å¦ç‰¢å›ºç­‰ç­‰ã€‚  
è€Œä¸”åœ¨å®é™…é¡¹ç›®ä¸­å¹¶å‘æ¨¡å—çš„é€»è¾‘å¾€å¾€æ¯”æœ¬æ–‡çš„ç¤ºä¾‹å¤æ‚è®¸å¤šï¼Œæ‰€ä»¥å†™å¹¶å‘åº”ç”¨ä¹‹å‰ä¸€å®šè¦å……åˆ†ç†è§£æœ¬æ–‡æ‰€æ€»ç»“çš„è¦ç‚¹ï¼Œå¹¶åˆ‡è®°ï¼Œå¹¶å‘ç¨‹åºç¼–ç¨‹åœ¨ä¸æ˜¾è‘—å½±å“ç¨‹åºæ€§èƒ½çš„æƒ…å†µä¸‹ï¼Œä¸€å®šè¦å°½å¯èƒ½çš„ä¿å®ˆã€‚

* * *

**å¦‚æœè¿™ç¯‡æ–‡ç« å¸®åˆ°äº†ä½ ï¼Œè®°å¾—ç‚¹èµğŸ‘æ”¶è—åŠ å…³æ³¨å“¦ğŸ˜Šï¼Œå¸Œæœ›ç‚¹èµå¤šå¤šå¤šå¤š...**

**æ–‡ä¸­å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡æ­£**

* * *

å¾€æœŸæ–‡ç« 
====

*   [å‰ç«¯é¢è¯•â˜HTTPåŠç½‘ç»œä¸“é¢˜](https://juejin.cn/post/6995404801848639501 "https://juejin.cn/post/6995404801848639501")
*   [2021å¹´å‰ç«¯é¢è¯•çŸ¥è¯†ç‚¹å¤§å‚å¿…å¤‡](https://juejin.cn/post/6989800620437798919 "https://juejin.cn/post/6989800620437798919")
*   [7æœˆå‰ç«¯é«˜é¢‘é¢è¯•é¢˜](https://juejin.cn/post/6992222084382326798 "https://juejin.cn/post/6992222084382326798")
*   [æµè§ˆå™¨çš„å·¥ä½œåŸç†](https://juejin.cn/post/6992597760935460901 "https://juejin.cn/post/6992597760935460901")
*   [æ·±åº¦å‰–æTCPä¸UDPçš„åŒºåˆ«](https://juejin.cn/post/6992743999756845087 "https://juejin.cn/post/6992743999756845087")
*   [å½»åº•ç†è§£æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶](https://juejin.cn/post/6992843117963509791 "https://juejin.cn/post/6992843117963509791")
*   [JavaScriptæ˜¯å¦‚ä½•å½±å“DOMæ ‘æ„å»ºçš„](https://juejin.cn/post/6992887065050349605 "https://juejin.cn/post/6992887065050349605")
*   [JavaScript äº‹ä»¶æ¨¡å‹](https://juejin.cn/post/6992978598441254925 "https://juejin.cn/post/6992978598441254925")
*   [æ·±å…¥äº†è§£ç°ä»£ Web æµè§ˆå™¨](https://juejin.cn/post/6993095345576083486 "https://juejin.cn/post/6993095345576083486")
*   [åœ¨Linuxé˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²Nextjsé¡¹ç›®](https://juejin.cn/post/6993205190471974925 "https://juejin.cn/post/6993205190471974925")
*   [Snowpack - æ›´å¿«çš„å‰ç«¯æ„å»ºå·¥å…·](https://juejin.cn/post/6993209659297366024 "https://juejin.cn/post/6993209659297366024")
*   [æ·±å…¥äº†è§£ JavaScript å†…å­˜æ³„éœ²](https://juejin.cn/post/6993614323176177695 "https://juejin.cn/post/6993614323176177695")
*   [ç»†è¯´å‰ç«¯è·¯ç”±çš„hashæ¨¡å¼å’Œ historyæ¨¡å¼](https://juejin.cn/post/6993897542970769421 "https://juejin.cn/post/6993897542970769421")
*   [CSSæ ·å¼ä¹‹BFCå’ŒIFCçš„ç”¨æ³•](https://juejin.cn/post/6993902300091645965 "https://juejin.cn/post/6993902300091645965")
*   [CSSæ€§èƒ½ä¼˜åŒ–](https://juejin.cn/post/6994059570469404686 "https://juejin.cn/post/6994059570469404686")
*   [å¿«é€Ÿå†™ä¸€ä¸ªè®©è‡ªå·±åŠé¢è¯•å®˜æ»¡æ„çš„åŸå‹é“¾](https://juejin.cn/post/6994295598958510111 "https://juejin.cn/post/6994295598958510111")
*   [ç»†è¯´JSæ¨¡å—åŒ–è§„èŒƒï¼ˆCommonJSã€AMDã€CMDã€ES6 Moduleï¼‰](https://juejin.cn/post/6994814324548091940 "https://juejin.cn/post/6994814324548091940")
*   [webpackå·¥ä½œåŸç†åŠloaderå’Œpluginçš„åŒºåˆ«](https://juejin.cn/post/6995073296517562376 "https://juejin.cn/post/6995073296517562376")
*   [è§£è¯» HTTP1/HTTP2/HTTP3](https://juejin.cn/post/6995109407545622542 "https://juejin.cn/post/6995109407545622542")