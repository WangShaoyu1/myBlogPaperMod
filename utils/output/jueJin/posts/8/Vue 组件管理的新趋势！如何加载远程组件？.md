---
author: "Sunshine_Lin"
title: "Vue 组件管理的新趋势！如何加载远程组件？"
date: 2024-07-31
description: "前言 大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心~ 这几天在想一个前端团队的现状，现在一个前端团队肯定不止一个项目，而这些前端项目可能都会有一些共用的组"
tags: ["前端","Vue.js中文技术社区","前端开发社区","前端技术交流","前端框架教程","JavaScript 学习资源","CSS 技巧与最佳实践","HTML5 最新动态","前端工程师职业发展","开源前端项目","前端技术趋势"]
ShowReadingTime: "阅读3分钟"
weight: 1
selfDefined:"likes:23,comments:11,collects:30,views:1692,"
---
前言
--

大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心~

这几天在想一个前端团队的现状，现在一个前端团队肯定不止一个项目，而这些前端项目可能都会有一些共用的组件

所以很多公司内部开发了内部的组件库，以供各个项目去使用，比如下图，各个项目共同使用同一个组件库

![image-2.png](/images/jueJin/a0131b6bf577490.png)

当组件库升级的时候，各个项目想要使用最新的组件功能，也得跟着升级依赖组件库的版本号，并且重新将项目上线，就比如 `1.0 -> 2.0`

![image-3.png](/images/jueJin/16207e17b05749b.png)

总感觉挺麻烦的，所以在想：**有没有办法，只需要组件库升级，而项目并不需要去更新依赖包呢，甚至可以做到项目不需要重新上线，就能获取最新的组件功能？**

别把组件库当依赖包？
----------

刚刚说到当组件库升级的时候，项目的依赖版本也得跟着升级，那是因为我们项目将组件库当成了依赖包，放在`node_modules` 中

那么如果我们可不可以**别把组件库当依赖包**呢？也就是我们并不需要去安装它们，就能使用它们~~ 这样的话组件库升级，我们就不用也跟着升级依赖包了~~

我们去掉了 `node_modules` 这一层，这样组件库升级，我们项目其实也可以做到不去关心版本号

![image-4.png](/images/jueJin/a7061142a8a6480.png)

不安装，怎么使用组件库？
------------

但是如果我们不安装，该怎么去使用组件库呢？其实是有办法的： **通过HTTP网络请求去请求组件库代码，解析代码后进行渲染**

*   1、将组件库代码放在一个静态服务上
*   2、项目中使用网络去请求对应的组件代码
*   3、解析代码，并进行渲染

这也就是 Vue 的 **远程加载组件**

![image-6.png](/images/jueJin/ea11d16c86e8496.png)

实践
--

接下来实践一下**远程加载组件**

### Express 搭建静态服务

先用`Express`搭建一个简单的静态服务，并放置一些组件

*   **components目录：** 放置一些远程组件代码
*   **index：** 静态服务入口

![image-7.png](/images/jueJin/289f867bd87f4e2.png)

首先看看 `index.js` 的代码，用来作为静态服务的入口

![image-8.png](/images/jueJin/4d60efe763434f4.png)

再分别看看`RemoteComp-A.js、RemoteComp-B.js` 的代码，分别是两个组件的代码

![image-16.png](/images/jueJin/1047a5f1deee4bc.png)

![image-17.png](/images/jueJin/e580c82611a74b6.png)

接着在终端输入：

```bash
node index.js
```

即可启动服务，现在可以在网页中看能不能访问到组件代码，如果可以说明服务启动成功了~

![image-11.png](/images/jueJin/d749e1a35560438.png)

### 项目中远程加载组件

接着需要在项目中去通过网络请求获取组件代码，并进行解析渲染：

*   1、通过`fetch`去请求对应的组件代码
*   2、使用`new Function`进行代码执行获取
*   3、传入 `component` 的 `is` 进行渲染

![image-15.png](/images/jueJin/072a7a5abb9a44e.png)

效果

![remote-.gif](/images/jueJin/c38acae79d14410.png)

结语 & 加学习群 & 摸鱼群
---------------

我是林三心

*   一个待过**小型toG型外包公司、大型外包公司、小公司、潜力型创业公司、大公司**的作死型前端选手；
*   一个偏前端的全干工程师；
*   一个不正经的掘金作者；
*   一个逗比的B站up主；
*   一个不帅的小红书博主；
*   一个喜欢打铁的篮球菜鸟；
*   一个喜欢历史的乏味少年；
*   一个喜欢rap的五音不全弱鸡

如果你想一起学习前端，一起摸鱼，一起研究简历优化，一起研究面试进步，一起交流历史音乐篮球rap，可以来俺的摸鱼学习群哈哈，点这个，有10000多名前端小伙伴在等着一起学习哦 --> [摸鱼沸点](https://juejin.cn/pin/7035153948126216206 "https://juejin.cn/pin/7035153948126216206")