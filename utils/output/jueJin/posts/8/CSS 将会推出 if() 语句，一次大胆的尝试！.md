---
author: "Sunshine_Lin"
title: "CSS 将会推出 if() 语句，一次大胆的尝试！"
date: 2024-08-06
description: "前言 大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心~ CSS 的条件判断语句 if() 上周，在西班牙拉科鲁尼亚举行的CSS WG面对面会议中，让人特别激"
tags: ["前端","CSS中文技术社区","前端开发社区","前端技术交流","前端框架教程","JavaScript 学习资源","CSS 技巧与最佳实践","HTML5 最新动态","前端工程师职业发展","开源前端项目","前端技术趋势"]
ShowReadingTime: "阅读4分钟"
weight: 1
selfDefined:"likes:5,comments:2,collects:0,views:257,"
---
前言
--

大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心~

CSS 的条件判断语句 if()
----------------

上周，在西班牙拉科鲁尼亚举行的CSS WG面对面会议中，让人特别激动的一个决议是大家一致同意向 CSS 中添加内联 `if()` 语法。😀

实际上，一个功能在被接受之前经常会遭到几次拒绝，例如`CSS嵌套、:has()、容器查询`等都是在多次被拒后的最终迭代版本。`if()`在 2018 年曾被拒绝，其语法与我提出的非常相似。不同的是，现在我们已经有了样式查询功能，可以简单地使用相同的条件语法（结合`Tab`在`@when`提案中提出的`media()`和`supports()`）。

if() 的作用？会取代样式查询吗？
------------------

相反地，`if()`提供了样式查询无法涵盖的功能。如果您能够使用样式查询来解决问题，那绝对应该优先选择样式查询——它们通常是更优的解决方案。但是，有些情况下，样式查询无法满足需求。

举个例子，考虑一个名为`--variant`的自定义属性:

![image.png](/images/jueJin/a8604cf8a10c485.png)

它可能包括设置背景颜色、边框颜色、文本颜色、图标等。然而，实际上它的确切值可能从未直接在任何地方被逐字使用，而是作为影响其他属性值的设置参数。

样式查询让我们成功了一半：

![image-1.png](/images/jueJin/4a951495f7a44c8.png)

但是，样式查询仅适用于后代。我们不能这样做：

![image-2.png](/images/jueJin/015bbe24270248a.png)

通常，我们在元素上需要设置的声明非常少，有时仅仅一个。但是，即使只有一个声明，对于许多（或许是大部分）更高级的自定义属性用例而言，仍显得过多，使得使用自定义属性显得不太实用。因此，组件库常常转而使用表示性属性，如`pill、outline、size`等。

虽然这些表示性属性初看之下似乎很合适，甚至在开发体验（DX）方面似乎更优（使用的字符更少——至少比为每个元素设置单独的变量要少），但它们存在一些可用性问题：

**灵活性降低**

它们不能基于选择器、媒体查询等有条件地应用。更改它们需要更多 JS。如果它们在另一个组件中使用，那么您就是 SOL，而对于（可继承的）自定义属性，您可以在父组件上设置属性，并且它将向下继承。

**冗长**

它们必须应用于单个实例，并且不能被继承。即使人们使用某种形式的模板化或组件化来减少重复，他们在使用开发工具进行调试时仍然必须仔细研究这些属性。

**缺乏一致性**

由于几乎每个成熟的组件都支持自定义属性，因此用户必须记住哪些样式是通过属性完成的，哪些样式是通过自定义属性完成的。这种区别通常是任意的，因为它不是由用例驱动的，而是由实施便利性驱动的。

使用`if()`，上面的示例成为可能：

![image-3.png](/images/jueJin/e08ed42a8328448.png)

虽然这是主要用例，但事实证明，制作媒体查询并支持 if() 条件语法的条件部分也非常容易。由于它是一个函数，因此它的参数（包括条件！）可以存储在其他自定义属性中。这意味着您可以执行以下操作：

![image-4.png](/images/jueJin/e733f3ebbcb946e.png)

然后定义如下值：

![image-5.png](/images/jueJin/0a3f93b696d44a1.png)

就像 JS 中的三元组一样，对于只有一小部分值变化的情况，它也可能更符合人体工程学：

![image-6.png](/images/jueJin/3e72ce8acedd4cd.png)

浏览器支持了吗？
--------

不，它还没有出现在浏览器中，而且一段时间内也不会出现。最乐观的估计是 2 年左右，前提是该过程不会在任何时候停止（通常会发生这种情况）。

语法辩论通常会花费很长时间，因为对于语法每个人都意见不一。

所以需要一段时间去完成这些工作

结语 & 加学习群 & 摸鱼群
---------------

我是林三心

*   一个待过**小型toG型外包公司、大型外包公司、小公司、潜力型创业公司、大公司**的作死型前端选手；
*   一个偏前端的全干工程师；
*   一个不正经的掘金作者；
*   一个逗比的B站up主；
*   一个不帅的小红书博主；
*   一个喜欢打铁的篮球菜鸟；
*   一个喜欢历史的乏味少年；
*   一个喜欢rap的五音不全弱鸡

如果你想一起学习前端，一起摸鱼，一起研究简历优化，一起研究面试进步，一起交流历史音乐篮球rap，可以来俺的摸鱼学习群哈哈，点这个，有10000多名前端小伙伴在等着一起学习哦 --> [摸鱼沸点](https://juejin.cn/pin/7035153948126216206 "https://juejin.cn/pin/7035153948126216206")