{
	"title": "虚拟人透明背景设置失效问题反馈文档",
	"author": "王宇",
	"publishTime": "七月27,2024",
	"readTime": "12s",
	"tags": "[\"赵吉山\"]",
	"description": "赵吉山",
	"article": "1\\. 背景信息\n========\n\n我们目前在使用虚拟人开发时，遇到了在设置透明背景时的一些问题。我们在自己的程序和杭州虚拟人团队提供的demo（\\`bin\\_linux/sample\\`）中，尝试了以下两种方法来设置虚拟人的透明背景，但均未成功：\n\n1.1. 通过 \\`haisdk\\_background\\_show\\_image\\` 方法传入透明图片路径：\n-------------------------------------------------------\n\n使用该方法传入透明图片路径后，函数返回值为0（表示调用接口正确返回），但虚拟人背景仍然显示为黑色。\n\n1.2. 通过 \\`haisdk\\_background\\_show\\_color\\` 方法传入 RGBA 值 (0,0,0,0)：\n------------------------------------------------------------------\n\n使用该方法传入 RGBA 值后，函数返回值为0（表示调用接口正确返回），但虚拟人背景仍然显示为黑色。  \n值得注意的是，当传入不带透明度的颜色值时，背景颜色设置生效。\n\n2\\. 问题描述\n========\n\n  \n上述方法设置透明背景无效的现象引发了以下疑问：  \n是否当前的方法是在黑色背景上叠加了一层背景，因此在设置透明背景时，黑色背景会透出来？\n\n2.1. 技术支持请求\n-----------\n\n  \n为了更好地解决该问题，我们希望能够得到以下方面的技术支持：\n\n### 2.1.1. 确认当前背景设置方法的工作机制\\*\\*：\n\n  \n请确认 \\`haisdk\\_background\\_show\\_image\\` 和 \\`haisdk\\_background\\_show\\_color\\` 方法在设置背景时，是否存在叠加层的情况。\n\n### 2.1.2. 提供解决透明背景设置问题的方案\\*\\*：\n\n  \n如果当前背景设置方法确实存在上述问题，能否提供有效的解决方案或替代方法来实现透明背景设置？\n\n### 2.1.3. 示例代码或进一步的技术文档\\*\\*：\n\n  \n如有可能，提供示例代码或进一步的技术文档，帮助我们正确地设置透明背景。\n\n3\\. 接口说明\n========\n\n以下是我们目前使用的接口方法：\n\n[?](#)\n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n15\n\n16\n\n`/**`\n\n`* 启用贴图背景，传递背景贴图的路径，与 SetBackgroundColor 互斥，只有一个会显示。`\n\n`* @param backgroundImagePath 背景贴图的路径`\n\n`* @return 返回值为0时，表示调用接口正确返回。`\n\n`*/`\n\n`HAISDK_CALL` `int` `haisdk_background_show_image(``const` `char` `*backgroundImagePath);`\n\n`/**`\n\n`* 启用颜色背景，分别传递 RGBA 的值，与 SetBackgroundImage 互斥，只有一个会显示。`\n\n`* @param r255 0-255整形值`\n\n`* @param g255 0-255整形值`\n\n`* @param b255 0-255整形值`\n\n`* @param a255 0-255整形值`\n\n`* @return 返回值为0时，表示调用接口正确返回。`\n\n`*/`\n\n`HAISDK_CALL` `int` `haisdk_background_show_color(``int` `r255,` `int` `g255,` `int` `b255,` `int` `a255);`\n\n  \n\n  \n\n[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)\n\n[Configure buttons visibility](/users/tfac-settings.action)"
}