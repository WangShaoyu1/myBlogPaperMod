{
	"title": "虚拟人项目模块说明",
	"author": "王宇",
	"publishTime": "十月18,2023",
	"readTime": "12s",
	"tags": "[\"陆元伟\"]",
	"description": "陆元伟",
	"article": "  \n\n**core:avatar:avatar\\_core\\_service：虚拟人控制服务端**\n----------------------------------------------\n\n  \n\n虚拟人sdk的对外服务\n\ncom.yingzi.oven.core.avatarservice.service.AvatarService\n\n  \n\n客户端通过绑定该服务，即可获取虚拟人控制的一些方法调用，包括创建，缩放，播放动画等\n\n**控制关键类的实现是AvatarControlImpl**\n\n  \n\n该模块依赖:core:voice:voiceclientproxy模块，以获取语音转文字的结果\n\n在AvatarService服务被绑定成功的时候初始化，并绑定VoiceService服务\n\n  \n\n### core:avatarclientproxy：虚拟人客户端辅助模块\n\n用于绑定虚拟人服务器的辅助模块，封装了绑定虚拟人服务方法。\n\n  \n\n**core:avatar:avatarcommon模块**\n------------------------------\n\n虚拟人对外aidl接口\n\n  \n\n### basefunction:avatar模块\n\n虚拟人sdk调用封装\n\n### basefunction:voice模块\n\n科大讯飞sdk调用封装\n\n  \n\n### core:voice:voice\\_core\\_service模块\n\n科大讯飞语音输入模块\n\n对外服务\n\ncom.yingzi.oven.core.voiceservice.service.VoiceService\n\n绑定服务成功后，会调用YZAiui初始化科大讯飞sdk，\n\n  \n\n**app\\_avatarclient** ：虚拟人客户端(相当于万得厨，或其他接入虚拟人的app)\n\n**app\\_avatarservice** ：虚拟人服务端\n\n  \n\n  \n\n绘制虚拟人\n\n1 直接添加到windowManager流程\n\n1.  客户端通过AvatarClientControlProxy绑定AvatarService\n    \n2.  绑定成功后，获取一个虚拟人操作代理类IAvatarManager\n    \n3.  创建虚拟人后，虚拟人以悬浮窗形式展示\n\n  \n\n**客户端和服务器通讯流程**\n\n客户端发送给服务端\n\n1.  客户端通过AvatarServerManager绑定AvatarClientService服务\n    \n2.  绑定成功后，获取到IAvatarServerInterface接口，服务端实现是AvatarClientStub类\n    \n3.  发送消息sendPhysicalModelInfo2Client\n    \n\n服务端发送客户端\n\n1.  绑定AvatarClientManager服务\n    \n2.  绑定成功后，获取IAvatarClientInterface接口，客户端实现是AvatarServerStub类\n    \n3.  调用sendPhysicalModelInfo2Client发送消息\n    \n\n[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)\n\n[Configure buttons visibility](/users/tfac-settings.action)"
}