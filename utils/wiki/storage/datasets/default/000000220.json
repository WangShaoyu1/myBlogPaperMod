{
	"title": "AzureIoTEdge第二步-设备部署",
	"author": "王宇",
	"publishTime": "六月27,2024",
	"readTime": "12s",
	"tags": "[\"赵吉山\"]",
	"description": "赵吉山",
	"article": "1\\. 在IOT中心，设备列表找到设备，点进来；我设置的是Avatar\\_WDM  点设置模块\n===============================================\n\n![](/download/attachments/129176283/image2024-6-27_21-15-31.png?version=1&modificationDate=1719494131412&api=v2)\n\n2\\. 设置容器注册表（具体怎么获取后续展开)\n=======================\n\n添加IoT Edge模块（虚拟人命名为**AvatarModule**）\n\n![](/download/attachments/129176283/image2024-6-27_21-18-52.png?version=1&modificationDate=1719494332505&api=v2)\n\n3\\. 设置页面设置\n==========\n\n![](/download/attachments/129176283/image2024-6-27_21-24-31.png?version=1&modificationDate=1719494671980&api=v2)\n\n4\\. 环境变量设置\n==========\n\n![](/download/attachments/129176283/image2024-6-27_21-26-22.png?version=1&modificationDate=1719494782343&api=v2)\n\n5\\. 容器创建选项设置，将下面的Json填入到文本框内，然后点击添加；\n====================================\n\n**容器创建选项Json**  展开源码\n\n[expand source](#)[?](#)\n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n15\n\n16\n\n17\n\n18\n\n19\n\n20\n\n21\n\n22\n\n23\n\n24\n\n25\n\n26\n\n27\n\n28\n\n29\n\n30\n\n`{`\n\n    `\"HostConfig\"``: {`\n\n        `\"DeviceRequests\"``: [`\n\n            `{`\n\n                `\"Count\"``: -1,`\n\n                `\"Capabilities\"``: [`\n\n                    `[`\n\n                        `\"gpu\"`\n\n                    `]`\n\n                `]`\n\n            `}`\n\n        `],`\n\n        `\"Privileged\"``:` `true``,`\n\n        `\"runtime\"``:` `\"nvidia\"``,`\n\n        `\"Devices\"``: [`\n\n            `{`\n\n                `\"PathOnHost\"``:` `\"/dev/snd\"``,`\n\n                `\"PathInContainer\"``:` `\"/dev/snd\"``,`\n\n                `\"CgroupPermissions\"``:` `\"rwm\"`\n\n            `}`\n\n        `],`\n\n        `\"Binds\"``: [`\n\n            `\"/tmp/.X11-unix:/tmp/.X11-unix\"``,`\n\n            `\"/usr/share/alsa/alsa.conf:/usr/share/alsa/alsa.conf\"``,`\n\n            `\"/etc/asound.conf:/etc/asound.conf\"``,`\n\n            `\"/run/user/1000/pulse:/run/user/1000/pulse\"``,`\n\n            `\"/home/Onanouser/.config/pulse/cookie:/root/.config/pulse/cookie\"`\n\n        `]`\n\n    `}`\n\n`}`\n\n![](/download/attachments/129176283/image2024-6-27_21-30-17.png?version=1&modificationDate=1719495018174&api=v2)\n\n6\\. 出现以下界面\n==========\n\n![](/download/attachments/129176283/image2024-6-27_21-31-53.png?version=1&modificationDate=1719495113752&api=v2)\n\n7\\. 接下来填写容器创建选项,依次为名称，地址，用户名，密码不写在这里了\n=====================================\n\n[?](#)\n\n`ACRembeddedfttdeveastus2001`\n\n`acrembeddedfttdeveastus2001.azurecr.io`\n\n`ACRembeddedfttdeveastus2001`\n\n![](/download/attachments/129176283/image2024-6-27_21-37-33.png?version=1&modificationDate=1719495454151&api=v2)\n\n8\\. 点击查看+创建，点击创建\n================\n\n![](/download/attachments/129176283/image2024-6-27_21-38-32.png?version=1&modificationDate=1719495512715&api=v2)\n\n9\\. 创建完成，接下来需要配置设备；安装docker，安装Azure IoT运行时\n==========================================\n\n![](/download/attachments/129176283/image2024-6-27_21-39-50.png?version=1&modificationDate=1719495590618&api=v2)\n\n[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)\n\n[Configure buttons visibility](/users/tfac-settings.action)"
}