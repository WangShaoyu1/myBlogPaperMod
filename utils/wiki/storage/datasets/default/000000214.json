{
	"title": "AzureIoTEdge第三步-运行时安装",
	"author": "王宇",
	"publishTime": "六月27,2024",
	"readTime": "12s",
	"tags": "[\"赵吉山\"]",
	"description": "赵吉山",
	"article": "### 安装Docker\n\n[访问Wiki页面,Docker version 26.1.3安装，中科大源](https://wiki.yingzi.com/pages/viewpage.action?pageId=123665774)\n\n### 手动创建 Microsoft 包源文件\n\n1.  打开终端并创建一个新的包源文件：\n\n[?](#)\n\n`sudo` `nano` `/etc/apt/sources``.list.d``/microsoft-prod``.list`\n\n1.  将以下内容粘贴到打开的文件中：\n\n    deb [arch=amd64,arm64,armhf] https://packages.microsoft.com/ubuntu/22.04/prod jammy main\n    \n\n1.  保存并退出 nano 编辑器（按 `Ctrl+X`，然后按 `Y`，最后按 `Enter`）。\n\n### 添加 Microsoft 的 GPG 密钥\n\n1.  添加 Microsoft 的 GPG 密钥：\n\n[?](#)\n\n`sudo` `curl https:``//packages``.microsoft.com``/keys/microsoft``.asc |` `sudo` `apt-key add -`\n\n### 更新包列表并安装 IoT Edge\n\n1.  更新包列表：\n\n[?](#)\n\n`sudo` `apt-get update`\n\n1.  安装 Azure IoT Edge 软件包：\n\n[?](#)\n\n`sudo` `apt-get` `install` `aziot-edge`\n\n### 配置和启动 Azure IoT Edge\n\n1.  配置 Azure IoT Edge 设备（替换 `<your-iot-hub-connection-string>` 为你的 IoT Hub 连接字符串）：\n\n[?](#)\n\n`sudo` `iotedge config mp --connection-string` `\"<your-iot-hub-connection-string>\"`\n\n1.  启动并启用 Azure IoT Edge 服务：\n\n[?](#)\n\n`sudo` `systemctl` `enable` `aziot-edge`\n\n`sudo` `systemctl start aziot-edge`\n\n### 验证安装\n\n1.  检查 Azure IoT Edge 服务状态：\n\n[?](#)\n\n`sudo` `systemctl status aziot-edge`\n\n1.  检查 Azure IoT Edge 设备状态：\n\n[?](#)\n\n`sudo` `iotedge system status`\n\n1.  运行检查命令以验证配置：\n\n[?](#)\n\n`sudo` `iotedge check`\n\n1.  列出已部署的模块：\n\n[?](#)\n\n`sudo` `iotedge list`\n\n这样整理后，你可以更清晰地按顺序执行每个步骤，确保正确安装和配置 Azure IoT Edge。\n\n[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)\n\n[Configure buttons visibility](/users/tfac-settings.action)"
}