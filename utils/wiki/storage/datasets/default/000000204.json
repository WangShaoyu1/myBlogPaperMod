{
	"title": "QT基础",
	"author": "王宇",
	"publishTime": "四月03,2024",
	"readTime": "12s",
	"tags": "[\"陆元伟\"]",
	"description": "陆元伟",
	"article": "**槽机制**\n=======\n\n使用信号槽机制（signals and slots）使得对象之间可以直接通信  \n自定义槽函数（点击事件）\n\n1、槽函数在Qt5中可以是任意类成员函数（一般都是），全局函数，静态函数，lambda表达式（无函数名的隐式函数）\n\n\\* 2、槽函数需要与信号的（返回值，参数）相对应；信号返回值 -> 槽函数返回值 | 信号参数 -> 槽函数参数\n\n\\* 3、信号没有返回值，槽函数返回值：void\n\nconnect(btn2,&QPushButton::clicked,this,&MainBody::click);\n\n设置btnt2的点击事件回调MainBody的click处理\n\n  \n\nQDialog显示一个弹框\n=============\n\n  \n构造函数：  \nQDialog(QWidget \\*parent = nullptr, Qt::WindowFlags flags = Qt::WindowFlags())  \n模态对话框相关函数：  \nvoid setModal(bool modal)：设置对话框是否为模态（默认为非模态）。  \nint exec()：以模态方式显示对话框，阻塞当前窗口的事件循环，并返回对话框的退出码。  \nvoid accept()：关闭对话框，并设置结果码为Accepted，通常用于“确认”按钮的点击事件处理。  \nvoid reject()：关闭对话框，并设置结果码为Rejected，通常用于“取消”按钮的点击事件处理。  \n非模态对话框相关函数：  \nvoid show()：以非模态方式显示对话框。  \nvoid hide()：隐藏对话框。  \nbool isVisible() const：判断对话框是否可见。  \n其他常用函数：  \nvoid setWindowTitle(const QString &title)：设置对话框的标题。  \nvoid setFixedSize(const QSize &size)：设置对话框的固定大小。\n\n  \n\n**基础UI**\n\n**QLabel**\n==========\n\nQLabel 类提供了两个构造函数，分别是：\n\nQLabel(QWidget \\*parent = Q\\_NULLPTR, Qt::WindowFlags f = Qt::WindowFlags())  \nQLabel(const QString &text, QWidget \\*parent = Q\\_NULLPTR, Qt::WindowFlags f = Qt::WindowFlags())\n\n各个参数的含义分别是：\n\n*   text 参数用于指定文本框中显示的文字；\n*   parent 参数用于指定文本框的父窗口；\n*   WindowFlags 是一种枚举类型，f 参数用来设置文本框的一些系统属性和外观属性，默认值为 Qt::Widget，表示当不指定父窗口时，文本框将作为一个独立窗口，反之则作为父窗口中的一个控件。f 参数的可选值有很多，比如 Qt::Window 表示文本框将作为一个独立的窗口，它自带边框和标题栏，Qt::ToolTip 表示文本框将作为一个提示窗口，不带边框和标题栏等等，\n\n  \n\nQLabel文本框的使用\n------------\n\nQLabel 类本身提供有很多属性和方法，它还从父类继承了很多属性和方法。下表给大家罗列了 QLabel 类常用的一些属性和方法：  \n  \n\n表 1 QLabel 常用属性\n\n属 性\n\n含 义\n\n属 性\n\n含 义\n\nalignment\n\n保存 QLabel 控件中内容的对齐方式，默认情况下，QLabel 控件中的内容保持左对齐和垂直居中。  \n  \n该属性的值可以通过调用 alignment() 方法获得，可以借助 setAlignment() 方法修改。\n\ntext\n\n保存 QLabel 控件中的文本，如果 QLabel 控件中没有文本，则 text 的值为空字符串，  \n  \n该属性的值可以通过 text() 方法获得，可以借助 setText() 方法修改。\n\npixmap\n\n保存 QLabel 控件内显示的图片，如果控件内没有设置图片，pixmap 的值为 0。  \n  \n该属性的值可以通过调用 pixmap() 方法获得，可以借助 setPixmap() 方法修改。\n\nselectedText\n\n保存 QLabel 控件中被选择了的文本，当没有文本被选择时，selectedText 的值为空字符串。  \n  \n该属性的值可以通过调用 selectedText() 方法获得。\n\nhasSelectedText\n\n判断用户是否选择了 QLabel 控件内的部分文本，如果是则返回 true，反之则返回 false。默认情况下，该属性的值为 false。\n\nindent\n\n保存 QLabel 控件内文本的缩进量，文本的缩进方向和 alignment 属性的值有关。  \n  \n该属性的值可以通过调用 indent() 方法获得，可以借助 setIndent() 方法修改。\n\nmargin\n\n保存 QLabel 控件中内容与边框之间的距离（边距），margin 的默认值为 0。  \n  \n该属性的值可以通过调用 margin() 方法获得，可以借助 setMargin() 方法修改。\n\nwordWrap\n\n保存 QLabel 控件内文本的换行策略。当该属性的值为 true 时，控件内的文本会在必要时自动换行。默认情况下，控件内的文本是禁止自动换行的。  \n  \n该属性的值可以通过 wordWrap() 方法获得，可以借助 setWordWrap() 方法修改。\n\n  \n除了上表中提到了获取和修改属性值得成员方法外，下表给大家罗列了一些常用的操作 QLabel 控件的成员方法，它们有些定义在 QLabel 类内，有些是通过继承父类得到的：  \n  \n\n表 2 操作QLabel的常用方法\n\n成员方法\n\n功 能\n\n成员方法\n\n功 能\n\nhide()\n\n隐藏文本框。\n\nclear()\n\n清空 QLabel 控件内所有显示的内容。\n\nsetToolTip(QString)\n\n设置信息提示，当用户的鼠标放在QLabel 文本框上时会自动跳出文字。 \n\nsetToolTipDuration(int)\n\n设置提示信息出现的时间，单位是毫秒。 \n\nsetStyleSheet(QString)\n\n设置 QLabel 文本框的样式。\n\nsetGeometry(int x, int y, int w, int h)\n\n设置 QLabel 文本框的位置 (x, y) 以及尺寸 (w, h)。\n\nQLabel文本框的信号和槽\n--------------\n\nQLabel 控件只用来显示文本、图像等内容，很好与用户交互。但是，当 QLabel 控件内包含超链接内容时，可以使用 QLabel 类提供的两个信号函数：  \n  \n\n表 2 QLabel信号函数\n\n信号函数\n\n功 能\n\n信号函数\n\n功 能\n\nlinkActivated(const QString &link)\n\n用户点击超链接时触发，link 参数用于向槽函数传输超链接的 URL。\n\nlinkHovered(const QString &link)\n\n用户的鼠标悬停到超链接位置时触发，link 参数用于向槽函数传输超链接的 URL。\n\n  \nQLabel 控件提供了很多槽函数，如下表所示：  \n  \n\n表 3 QLabel槽函数\n\n槽函数\n\n功 能\n\n槽函数\n\n功 能\n\nclear()\n\n清空 QLabel 控件内所有的内容。\n\nsetMovie(QMovie \\*movie)\n\n清空 QLabel 控件内所有的内容，改为显示指定的 movie 动画。\n\nsetNum(int num)\n\n清空 QLabel 控件内所有的内容，改为显示 num 整数的值。\n\nsetNum(double num)\n\n清空 QLabel 控件内所有的内容，改为显示 num 小数的值。\n\nsetPicture(const QPicture &picture)\n\n清空 QLabel 控件内所有的内容，改为显示经 QPicture 类处理的图像。\n\nsetPixmap(const QPixmap &)\n\n清空 QLabel 控件内所有的内容，改为显示经 QPixmap 类处理的图像。\n\nsetText(const QString &)\n\n清空 QLabel 控件内所有的内容，改为显示指定的文本。\n\n  \n除了表 2、3 罗列的这些信号和槽函数外，QLabel 类还从父类处继承了一些信号和槽函数.\n\n  \n**QPushButton**\n==================\n\nQPushButton 类提供了 3 个构造函数，分别是：\n\nQPushButton(QWidget \\*parent = Q\\_NULLPTR)  \nQPushButton(const QString &text, QWidget \\*parent = Q\\_NULLPTR)  \nQPushButton(const QIcon &icon, const QString &text, QWidget \\*parent = Q\\_NULLPTR)\n\nparent 参数用于指定父窗口；text 参数用于设置按钮上要显示的文字；icon 参数用于设置按钮上要显示的图标。\n\nQPushButton按钮的使用\n----------------\n\nQPushButton 类提供了很多实用的属性和方法，它还从父类继承了很多属性和方法。下表给大家罗列了一些比较常用的属性和方法：  \n  \n\n表 1 QPushButton常用属性\n\n属 性\n\n含 义\n\n属 性\n\n含 义\n\ntext\n\n保存按钮上要显示的文字。  \n  \n该属性的值可以通过 text() 方法获取，也可以通过 setText(const QString &text) 方法修改。\n\nicon\n\n保存按钮左侧要显示的图标。  \n  \n该属性的值可以通过 icon() 方法获取，也可以通过 setIcon(const QIcon &icon) 方法修改。\n\niconsize\n\n保存按钮左侧图标的尺寸。  \n  \n该属性的值可以通过 iconSize() 方法获取，也可以通过 setIconSize(const QSize &size) 方法修改。\n\nsize\n\n保存按钮的尺寸。  \n  \n该属性的值可以通过 size() 方法获取，也可以通过 resize(int w, int h) 或者 resize(const QSize &) 方法修改。\n\nfont\n\n保存按钮上文字的字体和大小。  \n  \n该属性的值可以通过 font() 方法获取，也可以通过 setFont(const QFont &) 方法修改。\n\nflat\n\n初始状态下，按钮是否显示边框。flat 属性的默认值为 flase，表示按钮带有边框。  \n  \n该属性的值可以通过 isFlat() 方法获取，也可以通过 setFlat(bool) 方法修改。\n\nenabled\n\n指定按钮是否可以被按下。  \n  \n该属性的默认值为 true，表示按钮可以被按下，即按钮处于启用状态。当该属性的值为 false 时，按钮将不能被点击，按钮处于禁用状态。  \n  \n该属性的值可以通过 isEnabled() 方法获取，也可以通过 setEnabled(bool) 方法进行修改。\n\nautoDefault\n\n当用户按下 Enter 回车键时，是否触发点击按钮的事件。  \n  \n当按钮的父窗口为 QDialog 窗口时，该属性的值为 true；其它情况下，该属性的默认值为 false。  \n  \n该属性的值可以通过 autoFault() 方法获取，也可以通过 setAutoFault(bool) 方法修改。\n\n  \n除了表 1 中罗列的获取、修改属性值的方法外，QPushButton 类常用的成员方法还有：  \n  \n\n表 2 QPushButton常用方法\n\n方 法\n\n功 能\n\n方 法\n\n功 能\n\nmove(int x, int y)\n\n手动指定按钮位于父窗口中的位置。\n\nsetStyleSheet(const QString &styleSheet)\n\n自定义按钮的样式，包括按钮上文字或图片的显示效果，按钮的形状等等。\n\nsetGeometry(int x, int y, int w, int h)\n\n同时指定按钮的尺寸和位置。\n\nadjustSize()\n\n根据按钮上要显示的内容，自动调整按钮的大小。\n\nsetDisabled(bool disable)\n\n指定按钮是否可以被按下。当 disable 值为 true 时，表示按钮不能被按下，即禁用按钮的功能。\n\nQPushButton按钮的信号和槽\n------------------\n\nGUI 程序中，按钮的主要任务是完成和用户之间的交互，下表罗列了 QPushButton 类常用的信号函数和槽函数：  \n  \n\n表 3 QPushButton信号和槽\n\n信号函数\n\n功 能\n\nclicked()  \nclicked(bool checked = false)\n\n用户点击按钮并释放（或者按下按钮对应的快捷键）后，触发此信号。\n\npressed()\n\n用户按下按钮时会触发此信号。\n\nreleased()\n\n用户松开按钮时会触发此信号。\n\n槽函数\n\n功 能\n\nclick()\n\n单击指定的按钮。\n\nsetIconSize()\n\n重新设置按钮上图片的尺寸。\n\nhide()\n\n隐藏按钮控件。\n\nsetMenu(QMenu \\*menu)\n\n弹出与按钮关联的菜单。\n\n组件布局\n\n垂直布局，将所有控件从上到下（或者从下到上）依次摆放  \nQVBoxLayout  \n水平布局  \nQHBoxLayout  \n网格布局  \nQGridLayout\n\n[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)\n\n[Configure buttons visibility](/users/tfac-settings.action)"
}