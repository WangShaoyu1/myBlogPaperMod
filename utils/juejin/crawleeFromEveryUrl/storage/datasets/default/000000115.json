{
	"title": "「保姆式教学」如何搭建一个符合标准的Vue3 + Ts + Vite脚手架？",
	"author": "Sunshine_Lin",
	"publishTime": "2021-12-22",
	"readTime": "阅读7分钟",
	"tags": "[\"前端\",\"Vue.js\",\"TypeScript中文技术社区\",\"前端开发社区\",\"前端技术交流\",\"前端框架教程\",\"JavaScript 学习资源\",\"CSS 技巧与最佳实践\",\"HTML5 最新动态\",\"前端工程师职业发展\",\"开源前端项目\",\"前端技术趋势\"]",
	"description": "前言 大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心。今天给大家讲一讲我是怎么搭建一个Vue3 + Ts + Vite的脚手架的吧 vscode插件 Vol",
	"article": "前言\n--\n\n大家好，我是林三心，**用最通俗易懂的话讲最难的知识点**是我的座右铭，**基础是进阶的前提**是我的初心。今天给大家讲一讲我是怎么搭建一个`Vue3 + Ts + Vite`的脚手架的吧\n\nvscode插件\n--------\n\n*   `Volar`：Vue3的一款语法提示的插件\n*   `Prettier-Code formatter`：prettier的格式化插件\n*   `Eslint`：eslint的插件\n*   `Stylelint`：样式文件格式化插件\n*   `JavaScript and TypeScript Nightly`：起用ts最新语法\n\n项目初始化\n-----\n\n使用`Vite`创建项目的命令，初始化项目\n\n```js\nnpm init vite@latest my-vue-app -- --template vue-ts\n```\n\ntsconfig.json配置\n---------------\n\n```js\n    {\n        \"compilerOptions\": {\n        \"target\": \"esnext\",\n        \"module\": \"esnext\",\n        \"moduleResolution\": \"node\",\n        \"strict\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"strictFunctionTypes\": false,\n        \"jsx\": \"preserve\",\n        \"baseUrl\": \".\",\n        \"allowJs\": true,\n        \"sourceMap\": true,\n        \"esModuleInterop\": true,\n        \"resolveJsonModule\": true,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": true,\n        \"experimentalDecorators\": true,\n        \"lib\": [\"dom\", \"esnext\"],\n        \"types\": [\"vite/client\"],\n        \"typeRoots\": [\"./node_modules/@types/\", \"./types\"],\n        \"noImplicitAny\": false,\n        \"skipLibCheck\": true,\n            \"paths\": {\n            \"/@/*\": [\"src/*\"],\n        \"/#/*\": [\"types/*\"]\n    }\n    },\n        \"include\": [\n        \"tests/**/*.ts\",\n        \"src/**/*.ts\",\n        \"src/**/*.d.ts\",\n        \"src/**/*.tsx\",\n        \"src/**/*.vue\",\n        \"types/**/*.d.ts\",\n        \"types/**/*.ts\",\n        \"build/**/*.ts\",\n        \"build/**/*.d.ts\",\n        \"mock/**/*.ts\",\n        \"vite.config.ts\",\n        \"src/settings/dist/theme.js\",\n        \"src/tools.js\"\n        ],\n    \"exclude\": [\"node_modules\", \"tests/server/**/*.ts\", \"dist\", \"**/*.js\"]\n}\n\n```\n\nvite.config.ts配置\n----------------\n\n```js\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport { resolve } from 'path'\n\n// npm i --save-dev @types/node\n    function pathResolve(dir: string) {\n    return resolve(process.cwd(), '.', dir)\n}\n\n    export default defineConfig({\n    plugins: [vue()],\n        resolve: {\n        // 路径别名\n            alias: [\n                {\n                find: /\\/@\\//,\n                replacement: pathResolve('src') + '/',\n                },\n                    {\n                    find: /\\/#\\//,\n                    replacement: pathResolve('types') + '/',\n                    },\n                    ],\n                    },\n                    // 支持使用tsx语法\n                        esbuild: {\n                        jsxFactory: 'h',\n                        jsxFragment: 'Fragment',\n                        jsxInject: 'import { h } from \"vue\";',\n                        },\n                        })\n                        \n```\n\n支持 Less\n-------\n\n直接项目中安装`less`就行，跟`webpack`区别就是，`Webpack`需要安装`less、less-loader`，而`Vite`不需要`less-loader`\n\n```js\nnpm i less -D\n```\n\nvscode设置\n--------\n\n主要配置一些`Eslint、Prettier、Stylelint`的使用，以及保存自动调用插件进行格式化，项目新建一个`.vscode`文件夹，文件夹里新建一个`settings.json`\n\n```js\n// .vscode/settings.json\n\n    {\n    //========================================\n    //============== 编辑器 ===================\n    //========================================\n    // 光标的动画样式\n    \"editor.cursorBlinking\": \"phase\",\n    // 光标是否启用平滑插入的动画\n    \"editor.cursorSmoothCaretAnimation\": true,\n    // vscode重命名文件或移动文件自动更新导入路径\n    \"typescript.updateImportsOnFileMove.enabled\": \"always\",\n    // 自动替换为当前项目的内置的typescript版本\n    \"typescript.tsdk\": \"./node_modeles/typescript/lib\",\n    // 一个制表符占的空格数(可能会被覆盖)\n    \"editor.tabSize\": 2,\n    // 定义一个默认和的格式程序 (prettier)\n    \"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n    // 取消差异编辑器忽略前空格和尾随空格的更改\n    \"diffEditor.ignoreTrimWhitespace\": false,\n    // 定义函数参数括号前的处理方式\n    \"javascript.format.insertSpaceBeforeFunctionParenthesis\": true,\n    // 在键入的时候是否启动快速建议\n        \"editor.quickSuggestions\": {\n        \"other\": true,\n        \"comments\": true,\n        \"strings\": true\n        },\n        //========================================\n        //============== Other ===================\n        //========================================\n        // 启用导航路径\n        \"breadcrumbs.enabled\": true,\n        //========================================\n        //============== Other ===================\n        //========================================\n        // 按下Tab键展开缩写 （例如Html的div,在键入的时候按Tab，快捷生成出来）\n        \"emmet.triggerExpansionOnTab\": true,\n        // 建议是否缩写 (如Html的<div />)\n        \"emmet.showAbbreviationSuggestions\": true,\n        // 建议是否展开 （如Html的 <div></div>）\n        \"emmet.showExpandedAbbreviation\": \"always\",\n        // 为制定语法文件定义当前的语法规则\n            \"emmet.syntaxProfiles\": {\n            \"vue-html\": \"html\",\n            \"vue\": \"html\",\n                \"xml\": {\n                \"arrt_quotes\": \"single\"\n            }\n            },\n            // 在不受支持的语言中添加规则映射\n                \"emmet.includeLanguages\": {\n                \"jsx-sublime-babel-tags\": \"javascriptreact\"\n                },\n                //========================================\n                //============== Files ==================\n                //========================================\n                // 删除行位空格\n                \"files.trimTrailingWhitespace\": true,\n                // 末尾插入一个新的空格\n                \"files.insertFinalNewline\": true,\n                // 删除新行后面的所有新行\n                \"files.trimFinalNewlines\": true,\n                // 默认行尾的字符\n                \"files.eol\": \"\\n\",\n                // 在查找搜索的时候集成的文件\n                    \"search.exclude\": {\n                    \"**/node_modules\": true,\n                    \"**/*.log\": true,\n                    \"**/*.log*\": true,\n                    \"**/bower_components\": true,\n                    \"**/dist\": true,\n                    \"**/elehukouben\": true,\n                    \"**/.git\": true,\n                    \"**/.gitignore\": true,\n                    \"**/.svn\": true,\n                    \"**/.DS_Store\": true,\n                    \"**/.idea\": true,\n                    \"**/.vscode\": false,\n                    \"**/yarn.lock\": true,\n                    \"**/tmp\": true,\n                    \"out\": true,\n                    \"dist\": true,\n                    \"node_modules\": true,\n                    \"CHANGELOG.md\": true,\n                    \"examples\": true,\n                    \"res\": true,\n                    \"screenshots\": true\n                    },\n                    // 搜索文件夹时候排外的文件夹\n                        \"files.exclude\": {\n                        \"**/bower_components\": true,\n                        \"**/.idea\": true,\n                        \"**/tmp\": true,\n                        \"**/.git\": true,\n                        \"**/.svn\": true,\n                        \"**/.hg\": true,\n                        \"**/CVS\": true,\n                        \"**/.DS_Store\": true,\n                        \"**/node_modules\": false\n                        },\n                        // 文件监视器排外的文件 可减少初始化打开项目的占用大量cpu\n                            \"files.watcherExclude\": {\n                            \"**/.git/objects/**\": true,\n                            \"**/.git/subtree-cache/**\": true,\n                            \"**/.vscode/**\": true,\n                            \"**/node_modules/**\": true,\n                            \"**/tmp/**\": true,\n                            \"**/bower_components/**\": true,\n                            \"**/dist/**\": true,\n                            \"**/yarn.lock\": true\n                            },\n                            \"stylelint.enable\": true,\n                            \"stylelint.packageManager\": \"yarn\",\n                            //========================================\n                            //============== Eslint ==================\n                            //========================================\n                            // 状态栏显示Eslint的开启状态\n                            \"eslint.alwaysShowStatus\": true,\n                            // Eslint的选项\n                                \"eslint.options\": {\n                                // 要检查的文件拓展名数组\n                            \"extensions\": [\".js\", \".jsx\", \".ts\", \".tsx\", \".vue\"]\n                            },\n                            // Eslint校验的\n                                \"eslint.validate\": [\n                                \"javascript\",\n                                \"typescript\",\n                                \"reacttypescript\",\n                                \"reactjavascript\",\n                                \"html\",\n                                \"vue\"\n                                ],\n                                //========================================\n                                //============== Prettier ================\n                                //========================================\n                                //  使用当前项目的prettier配置文件，如果没有则使用默认的配置\n                                \"prettier.requireConfig\": true,\n                                \"editor.formatOnSave\": true,\n                                // 以下程序使用prettier默认进行格式化\n                                    \"[typescript]\": {\n                                    \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                    },\n                                        \"[typescriptreact]\": {\n                                        \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                        },\n                                            \"[javascriptreact]\": {\n                                            \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                            },\n                                                \"[html]\": {\n                                                \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                                },\n                                                    \"[css]\": {\n                                                    \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                                    },\n                                                        \"[less]\": {\n                                                        \"editor.defaultFormatter\": \"stylelint.vscode-stylelint\"\n                                                        },\n                                                            \"[scss]\": {\n                                                            \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                                            },\n                                                                \"[markdown]\": {\n                                                                \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n                                                                },\n                                                                // 保存文件的时候的配置\n                                                                    \"editor.codeActionsOnSave\": {\n                                                                    // 使用Eslint格式化代码\n                                                                    \"source.fixAll.eslint\": true,\n                                                                    // 使用stylelint格式化代码\n                                                                    \"source.fixAll.stylelint\": true\n                                                                    },\n                                                                        \"[vue]\": {\n                                                                            \"editor.codeActionsOnSave\": {\n                                                                            // 使用Eslint格式化代码\n                                                                            \"source.fixAll.eslint\": true,\n                                                                            // 使用stylelint格式化代码\n                                                                            \"source.fixAll.stylelint\": true\n                                                                            },\n                                                                            \"editor.defaultFormatter\": \"johnsoncodehk.volar\"\n                                                                            },\n                                                                            \"compile-hero.disable-compile-files-on-did-save-code\": true,\n                                                                        \"i18n-ally.localesPaths\": [\"src/locales\", \"src/locales/lang\"]\n                                                                    }\n                                                                    \n```\n\nEslint\n------\n\nEslint承担的更多的是代码质量上的一个严格规范，这里安装的包比较多\n\n```js\nnpm i\neslint eslint-define-config\neslint-plugin-import\neslint-plugin-node\neslint-plugin-promise\neslint-plugin-vue\nvue-eslint-parser\n@typescript-eslint/parser\n@typescript-eslint/eslint-plugin\neslint-config-prettier\neslint-plugin-jest\n-D\n```\n\n项目中新建两个文件：\n\n*   `.eslintrc.js`：eslint配置文件\n*   `.eslintignore`：eslint规范忽略配置\n\n### .eslintrc.js\n\n```js\n// .eslintrc.js\n\n// @ts-check\n    const {\n    defineConfig\n    } = require('eslint-define-config')\n        module.exports = defineConfig({\n        root: true,\n            env: {\n            browser: true,\n            node: true,\n            es6: true\n            },\n            parser: 'vue-eslint-parser',\n                parserOptions: {\n                parser: '@typescript-eslint/parser',\n                ecmaVersion: 2020,\n                sourceType: 'module',\n                jsxPragma: 'React',\n                    ecmaFeatures: {\n                    jsx: true\n                }\n                },\n                    extends: [\n                    'plugin:vue/vue3-recommended',\n                    'plugin:@typescript-eslint/recommended',\n                    // 'prettier',\n                    'plugin:prettier/recommended',\n                    'plugin:jest/recommended'\n                    ],\n                        rules: {\n                        'vue/script-setup-uses-vars': 'error',\n                        '@typescript-eslint/ban-ts-ignore': 'off',\n                        '@typescript-eslint/explicit-function-return-type': 'off',\n                        '@typescript-eslint/no-explicit-any': 'off',\n                        '@typescript-eslint/no-var-requires': 'off',\n                        '@typescript-eslint/no-empty-function': 'off',\n                        'vue/custom-event-name-casing': 'off',\n                        'no-use-before-define': 'off',\n                        '@typescript-eslint/no-use-before-define': 'off',\n                        '@typescript-eslint/ban-ts-comment': 'off',\n                        '@typescript-eslint/ban-types': 'off',\n                        '@typescript-eslint/no-non-null-assertion': 'off',\n                        '@typescript-eslint/explicit-module-boundary-types': 'off',\n                            '@typescript-eslint/no-unused-vars': [\n                            'error',\n                                {\n                                argsIgnorePattern: '^_',\n                                varsIgnorePattern: '^_'\n                            }\n                            ],\n                                'no-unused-vars': [\n                                'error',\n                                    {\n                                    argsIgnorePattern: '^_',\n                                    varsIgnorePattern: '^_'\n                                }\n                                ],\n                                'space-before-function-paren': 'off',\n                                \n                                'vue/attributes-order': 'off',\n                                'vue/one-component-per-file': 'off',\n                                'vue/html-closing-bracket-newline': 'off',\n                                'vue/max-attributes-per-line': 'off',\n                                'vue/multiline-html-element-content-newline': 'off',\n                                'vue/singleline-html-element-content-newline': 'off',\n                                'vue/attribute-hyphenation': 'off',\n                                'vue/require-default-prop': 'off',\n                                    'vue/html-self-closing': [\n                                    'error',\n                                        {\n                                            html: {\n                                            void: 'always',\n                                            normal: 'never',\n                                            component: 'always'\n                                            },\n                                            svg: 'always',\n                                            math: 'always'\n                                        }\n                                    ]\n                                }\n                                })\n                                \n                                \n```\n\n### .eslintignore\n\n```js\n*.sh\nnode_modules\n*.md\n*.woff\n*.ttf\n.vscode\n.idea\ndist\n/public\n/docs\n.husky\n.local\n/bin\n\n```\n\nPrettier\n--------\n\n`Prettier`更多的是对于代码格式的规范，先安装插件\n\n```js\nnpm i prettier -D\n```\n\n然后新建一个`.prettierrc.js`\n\n```js\n// .prettierrc.js\n\n    module.exports = {\n    printWidth: 100,\n    tabWidth: 2,\n    useTabs: false,\n    semi: false,\n    vueIndentScriptAndStyle: true,\n    singleQuote: true,\n    quoteProps: 'as-needed',\n    bracketSpacing: true,\n    trailingComma: 'all',\n    jsxSingleQuote: false,\n    arrowParens: 'always',\n    insertPragma: false,\n    requirePragma: false,\n    proseWrap: 'never',\n    htmlWhitespaceSensitivity: 'strict',\n    endOfLine: 'auto',\n    };\n    \n```\n\nStylelint\n---------\n\n`Stylelint`负责对样式的格式化规范，先安装插件\n\n```js\nnpm i\nstylelint\nstylelint-config-prettier\nstylelint-config-standard\nstylelint-order\n-D\n```\n\n然后新建一个`stylelint.config.js`\n\n```js\n// stylelint.config.js\n\n    module.exports = {\n    root: true,\n    plugins: ['stylelint-order'],\n    extends: ['stylelint-config-standard', 'stylelint-config-prettier'],\n        rules: {\n            'selector-pseudo-class-no-unknown': [\n            true,\n                {\n                ignorePseudoClasses: ['global'],\n                },\n                ],\n                    'selector-pseudo-element-no-unknown': [\n                    true,\n                        {\n                        ignorePseudoElements: ['v-deep'],\n                        },\n                        ],\n                            'at-rule-no-unknown': [\n                            true,\n                                {\n                                    ignoreAtRules: [\n                                    'tailwind',\n                                    'apply',\n                                    'variants',\n                                    'responsive',\n                                    'screen',\n                                    'function',\n                                    'if',\n                                    'each',\n                                    'include',\n                                    'mixin',\n                                    ],\n                                    },\n                                    ],\n                                    'no-empty-source': null,\n                                    'named-grid-areas-no-invalid': null,\n                                    'unicode-bom': 'never',\n                                    'no-descending-specificity': null,\n                                    'font-family-no-missing-generic-family-keyword': null,\n                                    'declaration-colon-space-after': 'always-single-line',\n                                    'declaration-colon-space-before': 'never',\n                                    // 'declaration-block-trailing-semicolon': 'always',\n                                        'rule-empty-line-before': [\n                                        'always',\n                                            {\n                                            ignore: ['after-comment', 'first-nested'],\n                                            },\n                                            ],\n                                                'unit-no-unknown': [\n                                                true,\n                                                    {\n                                                    ignoreUnits: ['rpx'],\n                                                    },\n                                                    ],\n                                                        'order/order': [\n                                                            [\n                                                            'dollar-variables',\n                                                            'custom-properties',\n                                                            'at-rules',\n                                                            'declarations',\n                                                                {\n                                                                type: 'at-rule',\n                                                                name: 'supports',\n                                                                },\n                                                                    {\n                                                                    type: 'at-rule',\n                                                                    name: 'media',\n                                                                    },\n                                                                    'rules',\n                                                                    ],\n                                                                        {\n                                                                        severity: 'warning',\n                                                                        },\n                                                                        ],\n                                                                        // 按照指定顺序排列\n                                                                            'order/properties-order': [\n                                                                            'position',\n                                                                            'content',\n                                                                            'top',\n                                                                            'right',\n                                                                            'bottom',\n                                                                            'left',\n                                                                            'z-index',\n                                                                            'display',\n                                                                            'float',\n                                                                            'width',\n                                                                            'height',\n                                                                            'max-width',\n                                                                            'max-height',\n                                                                            'min-width',\n                                                                            'min-height',\n                                                                            'padding',\n                                                                            'padding-top',\n                                                                            'padding-right',\n                                                                            'padding-bottom',\n                                                                            'padding-left',\n                                                                            'margin',\n                                                                            'margin-top',\n                                                                            'margin-right',\n                                                                            'margin-bottom',\n                                                                            'margin-left',\n                                                                            'margin-collapse',\n                                                                            'margin-top-collapse',\n                                                                            'margin-right-collapse',\n                                                                            'margin-bottom-collapse',\n                                                                            'margin-left-collapse',\n                                                                            'overflow',\n                                                                            'overflow-x',\n                                                                            'overflow-y',\n                                                                            'clip',\n                                                                            'clear',\n                                                                            'font',\n                                                                            'font-family',\n                                                                            'font-size',\n                                                                            'font-smoothing',\n                                                                            'osx-font-smoothing',\n                                                                            'font-style',\n                                                                            'font-weight',\n                                                                            'hyphens',\n                                                                            'src',\n                                                                            'line-height',\n                                                                            'letter-spacing',\n                                                                            'word-spacing',\n                                                                            'color',\n                                                                            'text-align',\n                                                                            'text-decoration',\n                                                                            'text-indent',\n                                                                            'text-overflow',\n                                                                            'text-rendering',\n                                                                            'text-size-adjust',\n                                                                            'text-shadow',\n                                                                            'text-transform',\n                                                                            'word-break',\n                                                                            'word-wrap',\n                                                                            'white-space',\n                                                                            'vertical-align',\n                                                                            'list-style',\n                                                                            'list-style-type',\n                                                                            'list-style-position',\n                                                                            'list-style-image',\n                                                                            'pointer-events',\n                                                                            'cursor',\n                                                                            'background',\n                                                                            'background-attachment',\n                                                                            'background-color',\n                                                                            'background-image',\n                                                                            'background-position',\n                                                                            'background-repeat',\n                                                                            'background-size',\n                                                                            'border',\n                                                                            'border-collapse',\n                                                                            'border-top',\n                                                                            'border-right',\n                                                                            'border-bottom',\n                                                                            'border-left',\n                                                                            'border-color',\n                                                                            'border-image',\n                                                                            'border-top-color',\n                                                                            'border-right-color',\n                                                                            'border-bottom-color',\n                                                                            'border-left-color',\n                                                                            'border-spacing',\n                                                                            'border-style',\n                                                                            'border-top-style',\n                                                                            'border-right-style',\n                                                                            'border-bottom-style',\n                                                                            'border-left-style',\n                                                                            'border-width',\n                                                                            'border-top-width',\n                                                                            'border-right-width',\n                                                                            'border-bottom-width',\n                                                                            'border-left-width',\n                                                                            'border-radius',\n                                                                            'border-top-right-radius',\n                                                                            'border-bottom-right-radius',\n                                                                            'border-bottom-left-radius',\n                                                                            'border-top-left-radius',\n                                                                            'border-radius-topright',\n                                                                            'border-radius-bottomright',\n                                                                            'border-radius-bottomleft',\n                                                                            'border-radius-topleft',\n                                                                            'quotes',\n                                                                            'outline',\n                                                                            'outline-offset',\n                                                                            'opacity',\n                                                                            'filter',\n                                                                            'visibility',\n                                                                            'size',\n                                                                            'zoom',\n                                                                            'transform',\n                                                                            'box-align',\n                                                                            'box-flex',\n                                                                            'box-orient',\n                                                                            'box-pack',\n                                                                            'box-shadow',\n                                                                            'box-sizing',\n                                                                            'table-layout',\n                                                                            'animation',\n                                                                            'animation-delay',\n                                                                            'animation-duration',\n                                                                            'animation-iteration-count',\n                                                                            'animation-name',\n                                                                            'animation-play-state',\n                                                                            'animation-timing-function',\n                                                                            'animation-fill-mode',\n                                                                            'transition',\n                                                                            'transition-delay',\n                                                                            'transition-duration',\n                                                                            'transition-property',\n                                                                            'transition-timing-function',\n                                                                            'background-clip',\n                                                                            'backface-visibility',\n                                                                            'resize',\n                                                                            'appearance',\n                                                                            'user-select',\n                                                                            'interpolation-mode',\n                                                                            'direction',\n                                                                            'marks',\n                                                                            'page',\n                                                                            'set-link-source',\n                                                                            'unicode-bidi',\n                                                                            'speak',\n                                                                            ],\n                                                                            },\n                                                                            ignoreFiles: ['**/*.js', '**/*.jsx', '**/*.tsx', '**/*.ts'],\n                                                                        }\n                                                                        \n```\n\n环境变量文件\n------\n\n创建相应文件，可以让项目使用环境变量：\n\n*   .env\n*   .env.develoment\n*   .env.production\n\n全局types\n-------\n\n创建`types`文件夹，存放全局相关的`typescript`\n\nsrc文件夹\n------\n\n在`src`文件夹中创建以下文件夹（当然这个看你自己喜好命名，这里只是我自己的习惯）\n\n*   `api`：存放http请求的接口\n*   `assets`：存放一些静态资源，如`icon、图片`\n*   `components`：存放通用组件\n*   `design`：存放全局样式文件\n*   `enums`：存放全局的ts字典\n*   `hooks`：存放封装的自定义hook\n*   `layouts`：存放布局方案\n*   `locales`：存放国际化的语言资料\n*   `router`：存放路由相关\n*   `settings`：存放一些全局的设置\n*   `store`：存放状态管理相关\n*   `utils`：存放通用的工具类函数\n*   `views`：存放项目的页面\n\nrouter和pinia\n------------\n\n```js\nnpm i vue-router pinia -D\n```\n\n*   `vue-router`：路由\n*   `pinia`：状态管理（代替vuex）\n\nhusky\n-----\n\n`husky`是`git`提交代码的检查，包括`代码是否合格、样式是否合格、commit信息是否合格`等检测\n\n### 插件\n\n```js\nnpm i pretty-quick husky @commitlint/cli @commitlint/config-conventional -D\n```\n\n### package.json\n\n```js\n\"install:husky\": \"husky install\",\n\"lint:pretty\": \"pretty-quick --staged\",\n\"lint:stylelint\": \"stylelint --fix \\\"**/*.{tsx,less,postcss,css,scss}\\\" --cache --cache-location node_modules/.cache/stylelint/\",\n\"lint:all\": \"npm run lint:eslint && npm run lint:stylelint\"\n```\n\n### husky install\n\n在终端里输入命令`npm run install:husky`，项目会生成`.husky`文件夹：\n\n```js\n.husky\n_\n.gitignore\nhusky.sh\n```\n\n### 完善husky\n\n在`.husky`文件夹中创建三个文件`commit-msg、common.sh、pre-commit`\n\n```js\n.husky\n_\n.gitignore\nhusky.sh\ncommit-msg\ncommon.sh\npre-commit\n```\n\n#### commit-msg\n\n```js\n// .husky/commit-msg\n\n#!/bin/sh\n. \"$(dirname \"$0\")/_/husky.sh\"\n\nnpx --no-install commitlint --edit \"$1\"\n```\n\n#### common.sh\n\n```js\n\n// .husky/common.sh\n\n    command_exists () {\n    command -v \"$1\" >/dev/null 2>&1\n}\n\nif command_exists winpty && test -t 1; then\nexec < /dev/tty\nfi\n```\n\n### pre-commit\n\n```js\n// .husky/pre-commit\n\n#!/bin/sh\n. \"$(dirname \"$0\")/_/husky.sh\"\n. \"$(dirname \"$0\")/common.sh\"\n\n[ -n \"$CI\" ] && exit 0\n\nyarn run lint:pretty\n\n```\n\n### commitlint.config.js\n\n用来规范`git commit -m 'msg'` 的`msg`\n\n```js\n// commitlint.config.js\n\n    module.exports = {\n    // ↓忽略包含init的提交消息\n    ignores: [(commit) => commit.includes('init')],\n    // ↓按照传统消息格式来验证\n    extends: ['@commitlint/config-conventional'],\n    // 自定义解析器\n        parserPreset: {\n        // 解析器配置\n            parserOpts: {\n            // commit 提交头的规则限制\n            headerPattern: /^(\\w*|[\\u4e00-\\u9fa5]*)(?:[\\(\\（](.*)[\\)\\）])?[\\:\\：] (.*)/,\n            // 匹配分组\n            headerCorrespondence: ['type', 'scope', 'subject'],\n            // 引用\n                referenceActions: [\n                'close',\n                'closes',\n                'closed',\n                'fix',\n                'fixes',\n                'fixed',\n                'resolve',\n                'resolves',\n                'resolved',\n                ],\n                // 对应issue要携带#符号\n                issuePrefixes: ['#'],\n                // 不兼容变更\n                noteKeywords: ['BREAKING CHANGE'],\n                fieldPattern: /^-(.*?)-$/,\n                revertPattern: /^Revert\\s\"([\\s\\S]*)\"\\s*This reverts commit (\\w*)\\./,\n                revertCorrespondence: ['header', 'hash'],\n                warn() {},\n                mergePattern: null,\n                mergeCorrespondence: null,\n                },\n                },\n                // ↓自定义提交消息规则\n                    rules: {\n                    // ↓body以空白行开头\n                    'body-leading-blank': [2, 'always'],\n                    // ↓footer以空白行开头\n                    'footer-leading-blank': [1, 'always'],\n                    // ↓header的最大长度\n                    'header-max-length': [2, 'always', 108],\n                    // ↓subject为空\n                    'subject-empty': [2, 'never'],\n                    // ↓type为空\n                    'type-empty': [2, 'never'],\n                    // ↓type的类型\n                        'type-enum': [\n                        2,\n                        'always',\n                            [\n                            'feat',\n                            'fix',\n                            'perf',\n                            'style',\n                            'docs',\n                            'test',\n                            'refactor',\n                            'build',\n                            'ci',\n                            'chore',\n                            'revert',\n                            'wip',\n                            'workflow',\n                            'types',\n                            'release',\n                            'update',\n                            ],\n                            ],\n                            },\n                        }\n                        \n```\n\n结语\n--\n\n我是林三心，一个热心的前端菜鸟程序员。如果你上进，喜欢前端，想学习前端，那咱们可以交朋友，一起摸鱼哈哈，摸鱼群，点这个 --> [摸鱼沸点](https://juejin.cn/pin/7035153948126216206 \"https://juejin.cn/pin/7035153948126216206\")\n\n![image.png](/images/jueJin/5b035c3b5a28496.png)\n\n参考项目\n----\n\n*   vue-vben-admin\n*   compass-plan-admin\n\n吉他哥牛逼！！！！！！！",
	"selfDefined": "likes:106,comments:0,collects:196,likes:7460"
}