{
	"title": "神奇的进度条！水缸进度动画效果怎么实现的？",
	"author": "Sunshine_Lin",
	"publishTime": "2024-07-29",
	"readTime": "阅读2分钟",
	"tags": "[\"前端\",\"Vue.js中文技术社区\",\"前端开发社区\",\"前端技术交流\",\"前端框架教程\",\"JavaScript 学习资源\",\"CSS 技巧与最佳实践\",\"HTML5 最新动态\",\"前端工程师职业发展\",\"开源前端项目\",\"前端技术趋势\"]",
	"description": "前言 大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心~ 最近看到一个非常有趣的动画效果：水波进度动画，想了一下实现思路，分享给大家~ 效果如下 基本组件代码",
	"article": "前言\n--\n\n大家好，我是林三心，用最通俗易懂的话讲最难的知识点是我的座右铭，基础是进阶的前提是我的初心~\n\n最近看到一个非常有趣的动画效果：**水波进度动画**，想了一下实现思路，分享给大家~\n\n效果如下\n\n![wave-p-2.gif](/images/jueJin/47cff237b6cd48c.png)\n\n![wave-p-1-2.gif](/images/jueJin/24dbebfd584d421.png)\n\n基本组件代码\n------\n\n先把最基础的组件代码样式写出来，其实无非就是四个部分：\n\n*   **1、圆形水缸**\n*   **2、水波**\n*   **2、百分比数字**\n*   **3、进度条**\n\n我们先把`圆形水缸、百分比数字、进度条`画出来，`水波`待会再画\n\n![image.png](/images/jueJin/e731f43cf9fe457.png)\n\n可以看到初步效果已经出来了~\n\n![wave-p-3.gif](/images/jueJin/b01e4a79e64d431.png)\n\n水波效果\n----\n\n最重点的就是`水波`，其实这个`水波`就是个障眼法罢了，我画张图你们就懂了，其实就是一个`圆角正方形`，一直在`旋转和上升下降`，让用户有一种水波的视觉感~\n\n![image-1.png](/images/jueJin/959688a1e64a460.png)\n\n所以我们可以画一个圆角正方形，并且让他一直旋转即可\n\n![image-3.png](/images/jueJin/f5d6fd1d5f054ab.png)\n\n![image-2.png](/images/jueJin/8e4d4f3b49a346f.png)\n\n并且我们要让这个水波效果，随着百分比的增加而上升，随着百分比的减少而下降，所以得监听百分比\n\n![image-4.png](/images/jueJin/93ddf5cffac1407.png)\n\n![image-5.png](/images/jueJin/544bb44101b8426.png)\n\n现在可以发现已经有水波效果了\n\n![wave-p-4.gif](/images/jueJin/94eba090d24a47b.png)\n\n但是感觉水溢出来了，所以需要给水缸设置一下溢出隐藏\n\n![image-6.png](/images/jueJin/7cfa1a68484e483.png)\n\n最终实现效果\n\n![wave-p-1-2.gif](/images/jueJin/306db33a535e414.png)\n\n完整代码\n----\n\n```html\n<template>\n<div class=\"wave-container\">\n<!-- 水缸 -->\n<div class=\"main\">\n<!-- 百分比数字 -->\n<div class=\"main-number\">{{ percent }}</div>\n<!-- 水波效果 -->\n<div ref=\"wave\" class=\"wave\"></div>\n</div>\n<!-- 进度条 -->\n<Slider v-model:value=\"percent\" class=\"percent-bar\" :tipFormatter=\"null\" />\n</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from 'vue';\nimport { Slider } from 'ant-design-vue';\n\nconst percent = ref(0);\n\nconst wave = ref<HTMLDivElement | null>(null);\n\n// 监听百分比，计算 top\nwatch(\npercent,\n    v => {\n    const waveEle = wave.value;\n        if (waveEle) {\n        waveEle.style.top = `${200 * (1 - v / 100)}px`;\n    }\n    },\n        {\n        immediate: true,\n        },\n        );\n        </script>\n        \n        <style scoped lang=\"less\">\n            .wave-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            \n                .main {\n                position: relative;\n                width: 200px;\n                height: 200px;\n                border-radius: 50%;\n                background: #fff;\n                border: #fff solid 5px;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                // 增加样式隐藏溢出\n                overflow: hidden;\n                \n                    .main-number {\n                    font-size: 100px;\n                    z-index: 1;\n                    user-select: none;\n                }\n            }\n            \n                @keyframes rotateAnimation {\n                    from {\n                    transform: rotate(0deg);\n                }\n                    to {\n                    transform: rotate(360deg);\n                }\n            }\n            \n                .wave {\n                position: absolute;\n                top: 200px;\n                width: 400px;\n                height: 400px;\n                background: rgb(168, 168, 231);\n                border-radius: 40%;\n                animation: rotateAnimation 2s linear infinite;\n            }\n            \n                .percent-bar {\n                width: 200px;\n                background: #fff;\n            }\n        }\n        </style>\n        \n```\n\n结语 & 加学习群 & 摸鱼群\n---------------\n\n我是林三心\n\n*   一个待过**小型toG型外包公司、大型外包公司、小公司、潜力型创业公司、大公司**的作死型前端选手；\n*   一个偏前端的全干工程师；\n*   一个不正经的掘金作者；\n*   一个逗比的B站up主；\n*   一个不帅的小红书博主；\n*   一个喜欢打铁的篮球菜鸟；\n*   一个喜欢历史的乏味少年；\n*   一个喜欢rap的五音不全弱鸡\n\n如果你想一起学习前端，一起摸鱼，一起研究简历优化，一起研究面试进步，一起交流历史音乐篮球rap，可以来俺的摸鱼学习群哈哈，点这个，有10000多名前端小伙伴在等着一起学习哦 --> [摸鱼沸点](https://juejin.cn/pin/7035153948126216206 \"https://juejin.cn/pin/7035153948126216206\")",
	"selfDefined": "likes:23,comments:0,collects:38,likes:1020"
}