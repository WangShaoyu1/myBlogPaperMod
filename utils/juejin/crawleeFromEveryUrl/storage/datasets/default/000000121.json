{
	"title": "Reactã€Vueæˆ‘å…¨éƒ½è¦ï¼React Hook å®ç° Vue çš„11ä¸ªåŸºæœ¬åŠŸèƒ½",
	"author": "Sunshine_Lin",
	"publishTime": "2021-12-02",
	"readTime": "é˜…è¯»7åˆ†é’Ÿ",
	"tags": "[\"å‰ç«¯\",\"React.js\",\"Vue.jsä¸­æ–‡æŠ€æœ¯ç¤¾åŒº\",\"å‰ç«¯å¼€å‘ç¤¾åŒº\",\"å‰ç«¯æŠ€æœ¯äº¤æµ\",\"å‰ç«¯æ¡†æ¶æ•™ç¨‹\",\"JavaScript å­¦ä¹ èµ„æº\",\"CSS æŠ€å·§ä¸æœ€ä½³å®è·µ\",\"HTML5 æœ€æ–°åŠ¨æ€\",\"å‰ç«¯å·¥ç¨‹å¸ˆèŒä¸šå‘å±•\",\"å¼€æºå‰ç«¯é¡¹ç›®\",\"å‰ç«¯æŠ€æœ¯è¶‹åŠ¿\"]",
	"description": "å‰è¨€ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ—ä¸‰å¿ƒï¼Œå› ä¸ºå·¥ä½œé¡¹ç›®çš„éœ€è¦ï¼Œåœ¨ä¸Šä¸ªæœˆï¼Œæˆ‘å¼€å§‹åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Reactå»å¼€å‘ï¼Œåˆ°äº†ä»Šå¤©ï¼Œå·®ä¸å¤šä¸€ä¸ªæœˆäº†ï¼Œæƒ³è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘åœ¨Reactä¸­æ˜¯æ€ä¹ˆå»å®ç°ä»¥å‰Vueä¸­çš„ä¸€äº›åŠŸèƒ½çš„ã€‚ ç”±äºæœ¬èœé¸Ÿ",
	"article": "å‰è¨€\n--\n\nå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ—ä¸‰å¿ƒï¼Œå› ä¸ºå·¥ä½œé¡¹ç›®çš„éœ€è¦ï¼Œåœ¨ä¸Šä¸ªæœˆï¼Œæˆ‘å¼€å§‹åœ¨é¡¹ç›®ä¸­ä½¿ç”¨**React**å»å¼€å‘ï¼Œåˆ°äº†ä»Šå¤©ï¼Œå·®ä¸å¤šä¸€ä¸ªæœˆäº†ï¼Œæƒ³è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘åœ¨**React**ä¸­æ˜¯æ€ä¹ˆå»å®ç°ä»¥å‰**Vue**ä¸­çš„ä¸€äº›åŠŸèƒ½çš„ã€‚\n\nç”±äºæœ¬èœé¸Ÿä½¿ç”¨**React**ä¸ä¹…ï¼Œæœ‰ä¸å¦¥ä¹‹å¤„è¿˜è¯·å¤§å®¶ä¹‹å¤„\n\n> æ³¨æ˜ï¼šæœ¬æ–‡ä¸­æ‰€æŒ‡ Vue çš„ç‰ˆæœ¬æ˜¯**Vue2**ï¼Œ React çš„ç‰ˆæœ¬æ˜¯ **React17**\n\n![image.png](/images/jueJin/4838048155544bb.png)\n\n1ã€JSXå’Œtemplate\n--------------\n\nåœ¨Vue2ä¸­æ˜¯ä½¿ç”¨`template`çš„ï¼Œè¿™ç‚¹ä½¿ç”¨ Vue çš„åŒå­¦ä»¬éƒ½çŸ¥é“ï¼Œè€Œåœ¨ React ä¸­ä½¿ç”¨çš„æ˜¯`JSX`ï¼Œ`JSX`æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆåƒ XML çš„ JavaScript è¯­æ³•æ‰©å±•ã€‚\n\nå®ƒæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\n\n*   JSX æ‰§è¡Œæ›´å¿«ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘ä¸º JavaScript ä»£ç åè¿›è¡Œäº†ä¼˜åŒ–ã€‚\n*   å®ƒæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°±èƒ½å‘ç°é”™è¯¯ã€‚\n*   ä½¿ç”¨ JSX ç¼–å†™æ¨¡æ¿æ›´åŠ ç®€å•å¿«é€Ÿã€‚\n\n`JSX`çš„ä¾‹å­ï¼šä½¿ç”¨ReactDOM.renderå‡½æ•°ï¼Œå°†DOMæ¸²æŸ“åˆ°å¯¹åº”åˆ°idä¸ºappçš„èŠ‚ç‚¹ä¸‹\n\n```js\n// ä½¿ç”¨ReactDOM.renderå‡½æ•°ï¼Œå°†DOMæ¸²æŸ“åˆ°å¯¹åº”åˆ°idä¸ºappçš„èŠ‚ç‚¹ä¸‹\nReactDOM.render(\n<div>\n<h1>æˆ‘æ˜¯æ—ä¸‰å¿ƒ</h1>\n<h2>æˆ‘æ˜¯èœé¸Ÿ</h2>\n<p>Reactæ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„ JavaScript åº“!</p>\n</div>\n,\ndocument.getElementById('app')\n);\n\n```\n\n2ã€React ä¸­ç»™å…ƒç´ è®¾ç½® style\n--------------------\n\nReact ä½¿ç”¨å†…è”æ ·å¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Â **é©¼å³°æ³•**Â è¯­æ³•æ¥è®¾ç½®å†…è”æ ·å¼. React ä¼šåœ¨æŒ‡å®šå…ƒç´ æ•°å­—åè‡ªåŠ¨æ·»åŠ Â **px**Â ã€‚ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä¸ºÂ **h1**Â å…ƒç´ æ·»åŠ Â **myStyle**Â å†…è”æ ·å¼ï¼š\n\n```js\n    function Demo() {\n    \n        var myStyle = {\n        fontSize: 100, // é©¼å³°æ³•\n        color: '#FF0000'\n    }\n    \n    return <h1 style={myStyle}>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1>\n}\n```\n\n3ã€React ä¸­ç»™å…ƒç´ è®¾ç½® class\n--------------------\n\nç”±äº JSX å°±æ˜¯ JavaScriptï¼Œä¸€äº›æ ‡è¯†ç¬¦åƒÂ `class`Â ä¸å»ºè®®ä½œä¸º XML å±æ€§åã€‚ä½œä¸ºæ›¿ä»£ï¼Œä½¿ç”¨Â `className`æ¥åšå¯¹åº”çš„å±æ€§ã€‚\n\n```js\n    function Demo() {\n    \n    const classes = 'haha heihei xixi'\n    \n    return (\n    <div>\n    <h1 className='haha'>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1> // å•ä¸ª\n    <h1 className='haha heihei'>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1> // å¤šä¸ª\n    <h1 className={classes}>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1> // ä½¿ç”¨å€¼æ¥å½“åšclass\n    </div>\n    )\n}\n```\n\n4ã€React ä¸­çš„ç‚¹å‡»äº‹ä»¶\n--------------\n\nåœ¨`Vue`ä¸­çš„ç‚¹å‡»äº‹ä»¶ä½¿ç”¨çš„æ˜¯`@click`æ¥è§¦å‘çš„ï¼Œè€Œåœ¨`JSX`ä¸­ä½¿ç”¨çš„æ˜¯`onClick`\n\n```js\n    function Demo() {\n        const handleClick = () => {\n        console.log('æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ')\n    }\n    \n    return (\n    <button onClick={handleClick}>ç‚¹æˆ‘</button>\n    )\n}\n```\n\n5ã€React ä¸­ä¿®æ”¹å€¼è§¦å‘DOMæ›´æ–°\n-------------------\n\næˆ‘ä½¿ç”¨çš„æ˜¯`React hook`å…¶ä¸­çš„`useState`ï¼Œè¿™ä¸€ä¸ªhookåœ¨ä¿®æ”¹å¸¸é‡çš„æ—¶å€™æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åœ¨ä¿®æ”¹å¼•ç”¨`å¯¹è±¡`æˆ–è€…`æ•°ç»„`çš„æ—¶å€™å°±éœ€è¦å…ˆè¿›è¡Œ`æµ…æ‹·è´`å†è¿›è¡Œè¦†ç›–ä¿®æ”¹\n\n```js\nimport { useState } from 'react'\n\n    function Demo() {\n    const [msg, setMsg] = useState('æˆ‘æ˜¯èœé¸Ÿ')\n        const [obj, setObj] = useState({\n        name: 'æ—ä¸‰å¿ƒ',\n        food: 'æ³¡é¢'\n        })\n            const [arr, setArr] = useState([\n            { message: 'æ—ä¸‰å¿ƒå•Š', id: 1 },\n            { message: 'æ—ä¸‰å¿ƒå•Šå•Š', id: 2 },\n        { message: 'æ—ä¸‰å¿ƒå•Šå•Šå•Š', id: 3 }\n        ])\n            const handleClick = (type: number) => {\n                switch (type) {\n                case 1:\n                setMsg('æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ') // ç›´æ¥èµ‹å€¼\n                break;\n                case 2:\n                setObj({ ...obj, food: 'ç‰›è‚‰ä¸¸', }) // æµ…æ‹·è´\n                break;\n                case 3:\n                setArr([...arr, { message: 'æ—ä¸‰å¿ƒå•Šå•Šå•Šå•Š', id: 4}]) // æµ…æ‹·è´å®ç°pushæ•ˆæœ\n                break;\n            }\n        }\n        \n        return (\n        <div>\n        <button onClick={() => handleClick(1)}>ä¿®æ”¹msg</button>\n        <button onClick={() => handleClick(2)}>ä¿®æ”¹objçš„food</button>\n        <button onClick={() => handleClick(3)}>arræ·»åŠ ä¸€é¡¹</button>\n        <h1>{msg}</h1>\n        <p>{`æˆ‘æ˜¯${obj.name}æˆ‘å–œæ¬¢åƒ${obj.food}`}</p>\n        <ul>\n            {\n                arr.map(({ message, id }) => {\n                return <li key={id}>{message}</li>\n                })\n            }\n            </ul >\n            </div>\n            )\n        }\n        \n```\n\n6ã€ç”Ÿå‘½å‘¨æœŸ\n------\n\nä½¿ç”¨Reactçš„hookâ€”â€”`useEffect`\n\n```js\nimport { useState, useEffect } from 'react'\n    function App() {\n    const [num, setNum] = useState(1)\n    const [count, setCount] = useState(1)\n        useEffect(() => {\n        console.log('å“ˆå“ˆå“ˆå“ˆ')\n        })\n        return (\n        <div>\n        <button onClick={() => setNum(num + 1)}>ç‚¹æˆ‘ä¿®æ”¹num</button>\n        <button onClick={() => setCount(count + 1)}>ç‚¹æˆ‘count</button>\n        </div>\n        )\n    }\n```\n\n### ç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ \n\n```js\n    useEffect(() => {\n    console.log('å“ˆå“ˆå“ˆå“ˆ')\n    })\n```\n\nå½“`useEffect`ç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ æ—¶ï¼Œ`é¡µé¢åˆå§‹`å’Œ`æ•°æ®æ›´æ–°`çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°éƒ½ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥æ­¤æ—¶åˆå§‹é¡µé¢æ—¶ä¼šè¾“å‡ºä¸€æ¬¡`å“ˆå“ˆå“ˆå“ˆ`ï¼Œç„¶åæ— è®ºä½ ç‚¹ä¿®æ”¹numæˆ–è€…ä¿®æ”¹countçš„æŒ‰é’®æ—¶ï¼Œä¹Ÿéƒ½ä¼šè¾“å‡º`å“ˆå“ˆå“ˆå“ˆ`\n\n### ç¬¬äºŒä¸ªå‚æ•°ä¼ ç©ºæ•°ç»„\n\n```js\n    useEffect(() => {\n    console.log('å“ˆå“ˆå“ˆå“ˆ')\n    }, [])\n```\n\nå½“`useEffect`ç¬¬äºŒä¸ªå‚æ•°ä¼ `[]`æ—¶ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°åªæœ‰åœ¨`é¡µé¢åˆå§‹`çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ— è®ºä½ ç‚¹ä¿®æ”¹numæˆ–è€…ä¿®æ”¹countçš„æŒ‰é’®ï¼Œéƒ½ä¸ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°\n\n### ç¬¬äºŒä¸ªå‚æ•°ä¼ éç©ºæ•°ç»„\n\n```js\n// â‘ \n    useEffect(() => {\n    console.log('å“ˆå“ˆå“ˆå“ˆ')\n    }, [num])\n    \n    // â‘¡\n        useEffect(() => {\n        console.log('å“ˆå“ˆå“ˆå“ˆ')\n        }, [count])\n        \n        // â‘¢\n            useEffect(() => {\n            console.log('å“ˆå“ˆå“ˆå“ˆ')\n            }, [num, count])\n```\n\nå½“`useEffect`ç¬¬äºŒä¸ªå‚æ•°ä¼ éç©ºæ•°ç»„æ—¶ï¼Œ`é¡µé¢åˆå§‹`å’Œ`ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ›´æ–°`çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°éƒ½ä¼šæ‰§è¡Œã€‚æ¯”å¦‚ä¸Šæ–¹ä¾‹å­ï¼š\n\n*   â‘ ã€åªæœ‰æŒ‰ä¿®æ”¹numæŒ‰é’®æ—¶ï¼Œæ‰ä¼šå†æ¬¡è¾“å‡º`å“ˆå“ˆå“ˆå“ˆ`\n*   â‘¡ã€åªæœ‰æŒ‰ä¿®æ”¹countæŒ‰é’®æ—¶ï¼Œæ‰ä¼šå†æ¬¡è¾“å‡º`å“ˆå“ˆå“ˆå“ˆ`\n*   â‘¢ã€æ— è®ºæŒ‰å“ªä¸ªæŒ‰é’®éƒ½ä¼šå†æ¬¡è¾“å‡º`å“ˆå“ˆå“ˆå“ˆ`\n\n### returnæ¸…é™¤æ“ä½œ\n\n```js\n    useEffect(() => {\n    const timeId = setTimeout(() => console.log('æˆ‘æ˜¯å®šæ—¶å™¨'), 1000)\n    return () => clearTimeout(timeId)\n    })\n```\n\nReact ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œã€‚effect åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œã€‚React ä¼šåœ¨æ‰§è¡Œå½“å‰ effect ä¹‹å‰å¯¹ä¸Šä¸€ä¸ª effect è¿›è¡Œæ¸…é™¤ã€‚\n\næ˜¯åœ¨è¿˜ä¸ç†è§£çš„åŒå­¦ï¼Œå¯ä»¥ç–¯ç‹‚ç‚¹å‡»æŒ‰é’®ï¼Œçœ‹çœ‹`æˆ‘æ˜¯å®šæ—¶å™¨`è¿™å¥è¯ä¼šè¾“å‡ºå¤šéè¿˜æ˜¯åªè¾“å‡ºä¸€éï¼Œå°±æç„¶å¤§æ‚Ÿäº†\n\n7ã€React ä¸­å®ç° v-if & v-else\n-------------------------\n\n### Vue ä¸­çš„ v-if & v-else\n\n`v-if`Â æŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ã€‚è¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å› true å€¼çš„æ—¶å€™è¢«æ¸²æŸ“ã€‚\n\n```js\n<h1 v-if=\"show\">æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1>\n```\n\nä¹Ÿå¯ä»¥ç”¨Â `v-else`Â æ·»åŠ ä¸€ä¸ªâ€œelse å—â€ï¼š\n\n```js\n<h1 v-if=\"show\">æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1>\n<h1 v-else>Oh no ğŸ˜¢</h1>\n```\n\n### Reactä¸­å®ç°\n\nå¦‚æœå•å•åªæƒ³å®ç°`v-if`çš„è¯ï¼Œå¯ä»¥å€ŸåŠ©`&&`é€»è¾‘è¿ç®—ç¬¦\n\n```js\nimport { useState } from 'react'\n    function Demo() {\n    \n    const [show, setShow] = useState(false)\n        const changeShow = () => {\n        setShow(!show)\n    }\n    \n    return (\n    <div>\n{show && <h1>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1>}\n<button onClick={changeShow}>ç‚¹æˆ‘</button>\n</div>\n)\n}\n```\n\nå¦‚æœæƒ³å®ç°`v-if`å’Œ`v-else`çš„è¯ï¼Œå¯ä»¥å€ŸåŠ©`ä¸‰å…ƒè¿ç®—ç¬¦`\n\n```js\nimport { useState } from 'react'\n    function Demo() {\n    \n    const [show, setShow] = useState(false)\n        const changeShow = () => {\n        setShow(!show)\n    }\n    \n    return (\n    <div>\n{show ? <h1>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1> : <h1>èœé¸Ÿæ˜¯æ—ä¸‰å¿ƒ</h1>}\n<button onClick={changeShow}>ç‚¹æˆ‘</button>\n</div>\n)\n}\n```\n\n8ã€React ä¸­å®ç° v-show\n------------------\n\n### Vue ä¸­çš„ v-show\n\nå¦ä¸€ä¸ªç”¨äºæ ¹æ®æ¡ä»¶å±•ç¤ºå…ƒç´ çš„é€‰é¡¹æ˜¯Â `v-show`Â æŒ‡ä»¤ã€‚ç”¨æ³•å¤§è‡´ä¸€æ ·ï¼š\n\n```ini\n<h1 v-show=\"show\">æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1>\n```\n\nä¸åŒçš„æ˜¯å¸¦æœ‰Â `v-show`Â çš„å…ƒç´ å§‹ç»ˆä¼šè¢«æ¸²æŸ“å¹¶ä¿ç•™åœ¨ DOM ä¸­ã€‚`v-show`Â åªæ˜¯ç®€å•åœ°åˆ‡æ¢å…ƒç´ çš„ CSS propertyÂ `display`ã€‚\n\n### Reactä¸­å®ç°\n\nå…¶å®å°±æ˜¯æ”¹å˜å…ƒç´ çš„`display`è¿™ä¸ªæ ·å¼æ¥å®ç°æ•ˆæœ\n\n```js\n    function Demo() {\n    \n    // ...ä¸€æ ·çš„ä»£ç \n    \n    return (\n    <div>\n    <h1 style={{display: show ? 'block': 'none'}}>æ—ä¸‰å¿ƒæ˜¯èœé¸Ÿ</h1>\n    <button onClick={changeShow}>ç‚¹æˆ‘</button>\n    </div>\n    )\n}\n```\n\n9ã€React ä¸­å®ç° v-for\n-----------------\n\næˆ‘ä»¬å¯ä»¥ç”¨Â `v-for`Â æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ã€‚`v-for`Â æŒ‡ä»¤éœ€è¦ä½¿ç”¨Â `item in items`Â å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­Â `items`Â æ˜¯æºæ•°æ®æ•°ç»„ï¼Œè€ŒÂ `item`Â åˆ™æ˜¯è¢«è¿­ä»£çš„æ•°ç»„å…ƒç´ çš„**åˆ«å**ã€‚\n\n### Vue ä¸­çš„ v-for\n\n```js\n<ul>\n<li v-for=\"item in items\" :key=\"item.message\">\n{{ item.message }}\n</li>\n</ul>\n```\n\n### Reactä¸­å®ç°\n\nJSX å…è®¸åœ¨æ¨¡æ¿ä¸­æ’å…¥æ•°ç»„ï¼Œæ•°ç»„ä¼šè‡ªåŠ¨å±•å¼€æ‰€æœ‰æˆå‘˜ï¼š\n\n```js\n    function Demo() {\n    \n        const arr = [\n        <li key={1}>æ—ä¸‰å¿ƒå•Š</li>,\n        <li key={2}>æ—ä¸‰å¿ƒå•Šå•Š</li>,\n        <li key={3}>æ—ä¸‰å¿ƒå•Šå•Šå•Š</li>,\n    ]\n    \n    return (\n    <ul>\n{arr}\n</ul >\n)\n}\n\n```\n\nä½†æ˜¯æˆ‘å¤§å¤šæ•°æƒ…å†µä¼šä½¿ç”¨æ•°ç»„çš„`map`æ–¹æ³•æ¥ååŠ©æ¸²æŸ“\n\n```js\n    function Demo() {\n    \n        const arr = [\n        { message: 'æ—ä¸‰å¿ƒå•Š', id: 1 },\n        { message: 'æ—ä¸‰å¿ƒå•Šå•Š', id: 2 },\n    { message: 'æ—ä¸‰å¿ƒå•Šå•Šå•Š', id: 3 }\n]\n\nreturn (\n<ul>\n    {\n        arr.map(({ message, id }) => {\n        return <li key={id}>{message}</li>\n        })\n    }\n    </ul >\n    )\n}\n\n```\n\n10ã€React ä¸­å®ç° computed\n---------------------\n\n### Vue ä¸­çš„ computed\n\nåªè¦`name`æˆ–è€…`food`æ”¹å˜ï¼Œ`mag`ä¼šæ›´æ–°æˆç›¸åº”çš„å€¼\n\n```js\n<h1>{{msg}}</h1>\n\ncomputed: { msg() { return `æˆ‘æ˜¯${this.name}ï¼Œæˆ‘çˆ±åƒ${this.food}` } }\n```\n\n### Reactä¸­å®ç°\n\nåœ¨ React ä¸­éœ€è¦é€šè¿‡`useMemo`è¿™ä¸ª hook æ¥æ¥å®ç°`computed`çš„æ•ˆæœ\n\n```js\nimport { useState, useMemo } from 'react'\n    function Demo() {\n    const [name, setName] = useState('æ—ä¸‰å¿ƒ')\n    const [food, setFood] = useState('æ³¡é¢')\n    \n    // å®ç°computedçš„åŠŸèƒ½\n    const msg = useMemo(() => `æˆ‘æ˜¯${name}ï¼Œæˆ‘çˆ±åƒ${food}`, [name, food]) // ç›‘å¬nameå’Œfoodè¿™ä¸¤ä¸ªå˜é‡\n    \n        const handleClick = (type: number) => {\n            if (type === 1) {\n            setName('å¤§èœé¸Ÿ')\n                } else if (type === 2) {\n                setFood('ç‰›è‚‰ä¸¸')\n            }\n        }\n        \n        return (\n        <div>\n        <button onClick={() => handleClick(1)}>ä¿®æ”¹name</button>\n        <button onClick={() => handleClick(2)}>ä¿®æ”¹food</button>\n        <h1>{msg}</h1>\n        </div>\n        )\n    }\n```\n\n11ã€React ä¸­å®ç° watch\n------------------\n\n```js\n// useWatch.ts\nimport { useEffect, useRef } from 'react'\n\ntype Callback<T> = (prev?: T) => void\n    interface Config {\n    immdiate: Boolean\n}\n\n    const useWatch = <T>(data: T, callback: Callback<T>, config: Config = { immdiate: false }) => {\n    const prev = useRef<T>()\n    const { immdiate } = config\n    const inited = useRef(false)\n    const stop = useRef(false)\n        useEffect(() => {\n        const execute = () => callback(prev.current)\n            if (!stop.current) {\n                if (!inited.current) {\n                inited.current = true\n                immdiate && execute()\n                    } else {\n                    execute()\n                }\n                prev.current = data\n            }\n            }, [data])\n            \n            return () => stop.current = true\n        }\n        \n        export default useWatch\n```\n\nä½¿ç”¨\n\n```js\nimport { useState } from 'react'\nimport useWatch from '/@/hooks/web/useWatch'\n    function App() {\n    const [num, setNum] = useState(1)\n    useWatch(num, (pre) => console.log(pre, num), { immdiate: true })\n    return (\n    <div>\n    <div style={{ color: '#fff' }}>{num}</div>\n    <button onClick={() => setNum(num + 1)}>ç‚¹æˆ‘</button>\n    </div>\n    )\n}\n\n```\n\nç»“è¯­\n--\n\n![image.png](/images/jueJin/fab596381256459.png)\n\nä»Šå¹´å¿«ç»“æŸäº†ï¼Œå¸Œæœ›å¤§å®¶èº«ä½“å¥åº·ï¼Œä¸‡äº‹å¦‚æ„\n\næˆ‘æ˜¯æ—ä¸‰å¿ƒï¼Œä¸€ä¸ªçƒ­å¿ƒçš„å‰ç«¯èœé¸Ÿç¨‹åºå‘˜ã€‚å¦‚æœä½ ä¸Šè¿›ï¼Œå–œæ¬¢å‰ç«¯ï¼Œæƒ³å­¦ä¹ å‰ç«¯ï¼Œé‚£å’±ä»¬å¯ä»¥äº¤æœ‹å‹ï¼Œä¸€èµ·æ‘¸é±¼å“ˆå“ˆï¼Œ**æˆ–è€…ä½ æœ‰åˆé€‚çš„å‰ç«¯å²—ä½æœºä¼šï¼Œå¯ä»¥è®©æˆ‘è¯•è¯•çš„**ï¼Œé‚£å¯ä»¥åŠ æˆ‘çš„wx --> `meron857287645`",
	"selfDefined": "likes:148,comments:0,collects:184,likes:10730"
}