{
	"title": "ä»å¼ é‘«æ—­çš„demoä¸­ï¼Œæˆ‘å­¦åˆ°äº†å›¾åƒæ‹‰ä¼¸çš„åŸç†",
	"author": "ç¨‹åºå‘˜å‡Œè§ˆ",
	"publishTime": "2023-05-01",
	"readTime": "é˜…è¯»6åˆ†é’Ÿ",
	"tags": "[\"å‰ç«¯\",\"JavaScript\",\"Vue.js\"]",
	"description": "äº§å“ç»ç†åˆæœ‰æ–°éœ€æ±‚å•¦ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå›¾ç‰‡ä¸Šä¼ åç”¨æˆ·æ‹‰ä¼¸å›¾åƒå®½é«˜çš„åŠŸèƒ½ï¼Œè¯„ä¼°åå› è¦å¡ä¸Šçº¿æ—¶é—´æ¥ä¸åŠç æ‰äº†ã€‚ä¿ä¸å‡†ä¸‹ä¸€ä¸ªç‰ˆæœ¬åˆä¼šæè¿™ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦å»ç ”ç©¶ç ”ç©¶ã€‚å¹¸äºæˆ‘æœ‰å…³æ³¨å¼ é‘«æ—­å¤§ä½¬çš„åšå®¢ã€‚",
	"article": "> æ–‡ç« æ”¶å½•ï¼š\n> \n> *   ä¸ªäººç½‘å€ï¼š[linglan01.cn/](https://link.juejin.cn?target=http%3A%2F%2Flinglan01.cn%2F \"http://linglan01.cn/\")\n> *   Githubä»“åº“ï¼š[github.com/CatsAndMiceâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCatsAndMice%2Fblog%2Fissues \"https://github.com/CatsAndMice/blog/issues\")\n\näº§å“ç»ç†åˆæœ‰æ–°éœ€æ±‚å•¦ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå›¾ç‰‡ä¸Šä¼ åç”¨æˆ·æ‹‰ä¼¸å›¾åƒå®½é«˜çš„åŠŸèƒ½ï¼Œè¯„ä¼°åå› è¦å¡ä¸Šçº¿æ—¶é—´æ¥ä¸åŠç æ‰äº†ã€‚ä¿ä¸å‡†ä¸‹ä¸€ä¸ªç‰ˆæœ¬åˆä¼šæè¿™ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦å»ç ”ç©¶ç ”ç©¶ã€‚\n\nå¹¸äºæˆ‘æœ‰å…³æ³¨å¼ é‘«æ—­å¤§ä½¬çš„åšå®¢ï¼Œå°è±¡ä¸­è®°å¾—å‘è¡¨è¿‡ä¸€ç¯‡å…³äºå›¾åƒæ‹‰ä¼¸çš„æ–‡ç« ï¼Œå°±æ˜¯å®ƒ[JSä¹‹æˆ‘ç”¨å•imgå…ƒç´ å®ç°äº†å›¾åƒresizeæ‹‰ä¼¸æ•ˆæœ](https://link.juejin.cn?target=https%3A%2F%2Fwww.zhangxinxu.com%2Fwordpress%2F2022%2F11%2Fjs-image-resize%2F \"https://www.zhangxinxu.com/wordpress/2022/11/js-image-resize/\")ã€‚åˆšå¥½æ»¡è¶³äº§å“æƒ³è¦çš„æ•ˆæœï¼Œdemoéƒ½æ˜¯ç°æˆçš„ã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d7dc9726abe4e46a36ed34eff4c3880~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\næ–‡ç« å¯¹jsé€»è¾‘éƒ¨åˆ†å¹¶æ²¡æœ‰æè¿°ï¼Œåƒæˆ‘è¿™ç§çˆ±å­¦ä¹ ï¼Œé‚£ä¸å¾—çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚\n\nå› æ­¤ï¼Œæˆ‘è¯»äº†è¯»æºç 200è¡Œå·¦å³ï¼Œå¹¶ä¸”å»æ‰è¾¹ç•Œåˆ¤æ–­é€»è¾‘ï¼Œåªå°†æ ¸å¿ƒé€»è¾‘å†™äº†ä¸€éã€‚\n\nå…ˆæŠŠæ•ˆæœç§€å‡ºæ¥ï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/364b2784d8cc478e8ddcad0a34cda8d9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nå…ˆæå®šå›¾åƒæ‹‰ä¼¸æ ·å¼\n---------\n\nå…ˆå†™ä¸€ä¸ªimgå…ƒç´ ï¼Œç»™å®ƒçš„srcå±æ€§æ·»åŠ ä¸€ä¸ªåœ¨çº¿çš„å›¾åƒé“¾æ¥ã€‚\n\nini\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`<img class=\"image-size\" src=\"https://pic1.zhimg.com/v2-d58ce10bf4e01f5086c604a9cfed29f3_r.jpg?source=1940ef5c\" alt=\"æ‹‰ä¼¸\">`\n\nå†ç»™å®ƒæ•´ç‚¹æ ·å¼é‡ç‚¹æ˜¯ `border-image`å±æ€§ï¼Œå¤§ä½¬æ–‡ç« ä¹Ÿæ˜¯ä»‹ç»ä½¿ç”¨`border-image`å±æ€§åšåˆ°å•imgå®ç°æ‹‰ä¼¸ã€‚ä¸èµ˜è¿°ï¼Œè·Ÿæˆ‘ä¸€æ ·çˆ±å­¦ä¹ çš„äººè‚¯å®šä¼šå»ç…ä¸€çœ¼å¤§ä½¬æ–‡ç« çš„ã€‚\n\ncss\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`/* å…ˆé»˜è®¤å®½åº¦400px */ã€€ .image-size {   width: 400px; } img.active {   cursor: default;   z-index: 1;   display: inline-block;   vertical-align: bottom;   font-size: 12px;   border: 3px solid transparent;   border-image: url(\"data:image/svg+xml,%3Csvg width='30' height='30' viewBox='0 0 30 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23914AFF' d='M2.5 2.5h25v25h-25z'/%3E%3Cpath d='M0 0v12h2V2h10V0H0zM0 30V18h2v10h10v2H0zM30 0H18v2h10v10h2V0zM30 30H18v-2h10V18h2v12z' fill='%23914AFF'/%3E%3C/svg%3E\") 12 / 12px / 0;   margin: -1px;   position: relative;   -webkit-user-select: none;   user-select: none; }`\n\nç‚¹å‡»å›¾ç‰‡åï¼Œç»™å®ƒæ·»åŠ ä¸€ä¸ª`active`ç±»åã€‚è‹¥ç‚¹å‡»çš„ä¸æ˜¯è¯¥å›¾åƒï¼Œåˆ™æ¸…é™¤å›¾åƒçš„`active`ç±»åã€‚\n\narduino\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`const image = document.getElementsByClassName('image-size')[0] image.onclick = (e) => {   if (image.classList.contains('active')) return   image.classList.add('active') } document.onclick = (e) => {    if (e.target === image) return    image.classList.remove('active') }`\n\nå¦‚ä¸‹GIFå½•å±æ‰€ç¤ºï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72dfad97b64e476386281672a88a693a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nä¹Ÿå¯ä»¥ç‚¹å‡»è¿™é‡Œä½“éªŒ:[æ‹‰ä¼¸æ ·å¼demo](https://code.juejin.cn/pen/7227113801517596675 \"https://code.juejin.cn/pen/7227113801517596675\")\n\nå†æå®šé¼ æ ‡å…‰æ ‡æ ·å¼\n---------\n\né¼ æ ‡å…‰æ ‡é»˜è®¤ç®­å¤´ï¼Œç°åœ¨éœ€è¦å½“é¼ æ ‡ç§»åŠ¨åˆ°å›¾åƒå·¦ä¸Šã€å·¦ä¸‹ã€å³ä¸Šã€å³ä¸‹å››ä¸ªè§’æ—¶ï¼Œé¼ æ ‡å…‰æ ‡æ ·å¼éšä¹‹è¿›è¡Œæ”¹å˜ã€‚\n\næ³¨æ„çœ‹GIFæ¼”ç¤ºä¸­çš„é¼ æ ‡å˜åŒ–ï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83db5620739341f99539e870c7feb0a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nä¸Šå›¾æ˜¯å¤§ä½¬çš„demoã€‚\n\né¼ æ ‡ç§»åŠ¨è‡³å·¦ä¸Šè§’ã€å³ä¸‹è§’å¤„ï¼Œé¼ æ ‡å…‰æ ‡æ ·å¼ä¿®æ”¹æˆï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5970e970fe6b48efb3ae211cdb36c905~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\né¼ æ ‡ç§»åŠ¨è‡³å·¦ä¸‹è§’ã€å³ä¸Šè§’ï¼Œé¼ æ ‡å…‰æ ‡æ ·å¼ä¿®æ”¹æˆï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cc40b4a136604b9a9c002f12b1042e4b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nä¿®æ”¹é¼ æ ‡å…‰æ ‡ä½¿ç”¨å±æ€§`cursor`ï¼Œå¯¹è¯¥å±æ€§ä¸æ¸…æ¥šçš„ç«¥é‹ä»¬ç§»æ­¥[cursorå®˜æ–¹æ–‡æ¡£](https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FCSS%2Fcursor \"https://developer.mozilla.org/zh-CN/docs/Web/CSS/cursor\")ã€‚\n\nç»™å›¾åƒæ·»åŠ `active`ç±»ååï¼Œå†ç»™`document`ç»‘å®šä¸€ä¸ªé¼ æ ‡ç§»åŠ¨äº‹ä»¶`onmousemove`ã€‚å½“é¼ æ ‡ç§»åŠ¨è¿‡ç¨‹ä¸­è®¡ç®—é¼ æ ‡ä½ç½®æ˜¯å¦å·²è¿›è¡ŒæŸä¸ªåŒºåŸŸå†…ã€‚\n\nè¯¥åŒºåŸŸå¯ä»¥ä¸ºä¸‹å›¾çº¢æ¡†æ¡†èµ·æ¥çš„åŒºåŸŸï¼Œå›¾åƒå·¦ä¸Šã€å·¦ä¸‹ã€å³ä¸Šã€å³ä¸‹å››ä¸ªè§’å‡ä¼šæœ‰ä¸€ä¸ªè¿™æ ·çš„åŒºåŸŸã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/34fb316d5d754c8aa891120800480c3f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nè®¡ç®—è¿‡ç¨‹è¦è·å–åˆ°å›¾åƒçš„`leftã€topã€rightã€bottom`å€¼ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨`Element.getBoundingClientRect()`ï¼Œä¸æ¸…æ¥šè¯¥APIçš„ç«¥é‹ç§»æ­¥[getBoundingClinetRectå®˜æ–¹æ–‡æ¡£](https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FElement%2FgetBoundingClientRect \"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect\")\n\narduino\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n `//çœç•¥...   image.onclick = (e) => {   if (image.classList.contains('active')) return   image.classList.add('active')   document.onmousemove = (e) => {       const target = e.target       if (target !== image || !target.classList.contains('active')) return       const x = e.clientX,           y = e.clientY       const { top, left, bottom, right } = image.getBoundingClientRect()       //å·¦ä¸Šè§’æˆ–å³ä¸‹è§’       if ((bottom - y < 20 && right - x < 20) || (x - left < 20 && y - top < 20)) {           image.style.cursor = 'nwse-resize'           //å·¦ä¸‹è§’æˆ–å³ä¸Šè§’       } else if ((y - top < 20 && right - x < 20) || (bottom - y < 20 && x - left < 20)) {           image.style.cursor = 'nesw-resize'           //è‹¥éƒ½ä¸æ˜¯ï¼Œé¼ æ ‡å…‰æ ‡ä¸ºé»˜è®¤ç®­å¤´æ ·å¼       } else {           image.style.cursor = 'default'       }   } } //çœç•¥...`\n\nä¼ªä»£ç ä¸­`20`è¿™ä¸ªæ•°å­—æ˜¯æˆ‘éšæ„å†™çš„ï¼Œè¿™ä¸ªå€¼ä¸ºçº¢æ¡†æ¡†èµ·æ¥åŒºåŸŸçš„å®½é«˜ã€‚\n\nè‹¥å–æ¶ˆå›¾åƒçš„æ‹‰ä¼¸çŠ¶æ€ï¼Œåˆ™ä¹ŸæŠŠ`document`å·²ç»‘å®šçš„é¼ æ ‡ç§»åŠ¨äº‹ä»¶å–æ¶ˆã€‚\n\njavascript\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`//çœç•¥... document.onclick = (e) => {   if (e.target === image) return   image.classList.remove('active')   document.onmousemove = null }`\n\nå¯ä»¥ç‚¹å‡»è¿™é‡Œä½“éªŒ:[å›¾åƒæ‹‰ä¼¸é¼ æ ‡æ ·å¼æ”¹å˜demo](https://code.juejin.cn/pen/7227380385821229114 \"https://code.juejin.cn/pen/7227380385821229114\")ã€‚\n\nè®©å›¾åƒå®½é«˜åŠ¨èµ·æ¥\n--------\n\nå…ˆç»™imageå…ƒç´ æ·»åŠ `onmousedown`äº‹ä»¶ï¼Œå¹¶è·å–é¼ æ ‡å·¦é”®æŒ‰ä¸‹æ—¶`clientX`ã€`clientY`çš„å€¼ä½œä¸ºå¼€å§‹æ‹‰ä¼¸çš„ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚\n\næ‹‰ä¼¸é€»è¾‘è®¡ç®—å‘ç”Ÿåœ¨`document.onmousemove`äº‹ä»¶å†…ï¼Œå› æ­¤ï¼Œéœ€è¦æœ‰ä¸€ä¸ªå˜é‡`isResizeing`è¡¨ç¤º`image.onmousedown`äº‹ä»¶æ˜¯å¦è¢«è§¦å‘ã€‚è§¦å‘ï¼Œé¼ æ ‡ç§»åŠ¨å³å›¾åƒå®½é«˜ä¹Ÿè¦è¿›è¡Œæ”¹å˜ï¼›æœªè§¦å‘ï¼Œé¼ æ ‡ç§»åŠ¨ä»…æ”¹å˜é¼ æ ‡å…‰æ ‡çš„æ ·å¼ï¼Œä¸å½±å“å›¾åƒçš„å®½é«˜ã€‚\n\n`isResizeing`ä¸èƒ½ä¸€ç›´ä¸º`true`ï¼Œé¼ æ ‡æŠ¬èµ·`onmouseup`é‡ç½®ä¸º`false`ã€‚\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n `//çœç•¥...   image.onclick = (e) => {   if (image.classList.contains('active')) return   image.classList.add('active')   let startX = 0,       startY = 0,       //æ˜¯å¦æ‹‰ä¼¸çŠ¶æ€       isResizeing = false,       position = ''   image.onmousedown = (e) => {       //é¼ æ ‡å·¦é”®è½ä¸‹çš„Xã€Yä½ç½®       startX = e.clientX       startY = e.clientY       isResizeing = true   }   document.onmousemove = (e) => {      e.preventDefault()      const target = e.target      let x = e.clientX,           y = e.clientY,           distanceX = x - startX,           distanceY = y - startY      if(isResizeing){        //å›¾åƒå·²å¤„äºæ‹‰ä¼¸çš„çŠ¶æ€                 }else{        //æ”¹å˜é¼ æ ‡å…‰æ ‡æ ·å¼                if(if (target !== image || !target.classList.contains('active')) return){          const { top, left, bottom, right } = image.getBoundingClientRect()           //å·¦ä¸Šè§’æˆ–å³ä¸‹è§’          if ((bottom - y < 20 && right - x < 20) || (x - left < 20 && y - top < 20)) {             image.style.cursor = 'nwse-resize'                //å·¦ä¸‹è§’æˆ–å³ä¸Šè§’          } else if ((y - top < 20 && right - x < 20) || (bottom - y < 20 && x - left < 20)) {             image.style.cursor = 'nesw-resize'                //è‹¥éƒ½ä¸æ˜¯ï¼Œé¼ æ ‡å…‰æ ‡ä¸ºé»˜è®¤ç®­å¤´æ ·å¼          } else {             image.style.cursor = 'default'          }        }     }      document.onmouseup = () => {     //é¼ æ ‡æŠ¬èµ·æ—¶ï¼Œé‡ç½®isResizeingå˜é‡     isResizeing = false   } } //çœç•¥...`\n\nè¿˜éœ€è¦æœ‰ä¸€ä¸ªå˜é‡ `position`ï¼Œç”¨äºåˆ¤æ–­æ‹‰ä¼¸çš„æ˜¯å·¦ä¸Šã€å³ä¸‹ã€å·¦ä¸‹ã€å³ä¸Šå››ä¸ªè§’ä¸­çš„å“ªä¸€ä¸ª ã€‚\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n    `//çœç•¥     if ((bottom - y < 20 && right - x < 20) || (x - left < 20 && y - top < 20)) {           //å·¦ä¸Šè§’æˆ–å³ä¸‹è§’                      image.style.cursor = 'nwse-resize'           // å³ä¸‹è§’           if (bottom - y < 20) {               position = 'bottom right'               return           }           position = 'top left'           } else if ((y - top < 20 && right - x < 20) || (bottom - y < 20 && x - left < 20)) {        //å·¦ä¸‹è§’æˆ–å³ä¸Šè§’                 image.style.cursor = 'nesw-resize'         // å³ä¸Šè§’         if (y - top < 20) {             position = 'top right'             return         }         position = 'bottom left'         //è‹¥éƒ½ä¸æ˜¯ï¼Œé¼ æ ‡å…‰æ ‡ä¸ºé»˜è®¤ç®­å¤´æ ·å¼      } else {         image.style.cursor = 'default'          position = ''      }    //çœç•¥ ...`\n\næœ‰äº†`position`å˜é‡ï¼Œå³å¯åœ¨`if(isResizeing){...}`è¿™ä¸ªä»£ç å—ä¸­ä¾æ®`position`å€¼è¿›è¡Œæ‹‰ä¼¸è®¡ç®—ã€‚\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n `//çœç•¥...   image.onclick = (e) => {   if (image.classList.contains('active')) return   image.classList.add('active')   let startX = 0,       startY = 0,       //æ˜¯å¦æ‹‰ä¼¸çŠ¶æ€       isResizeing = false,       position = '',       storeWidth = 0,       storeHeight = 0   image.onmousedown = (e) => {       //é¼ æ ‡å·¦é”®è½ä¸‹çš„Xã€Yä½ç½®       startX = e.clientX       startY = e.clientY       isResizeing = true       storeWidth = image.clientWidth       storeHeight = image.clientHeight   }   document.onmousemove = (e) => {      e.preventDefault()      const target = e.target      let x = e.clientX,         y = e.clientY,         distanceX = x - startX,         distanceY = y - startY,         width = 0,         height = 0      if(isResizeing){        //å›¾åƒå·²å¤„äºæ‹‰ä¼¸çš„çŠ¶æ€           if (!position) return           if (position === 'bottom right') {               /*                   å³ä¸‹è§’                     distanceXå€¼ä¸ºæ­£,distanceYå€¼ä¸ºæ­£ï¼Œå›¾åƒå®½é«˜å˜å¤§ï¼›                   distanceXå€¼ä¸ºè´Ÿ,distanceYå€¼ä¸ºè´Ÿï¼Œå›¾åƒå®½é«˜å˜å°               */               width = storeWidth + distanceX               height = storeHeight + distanceY           } else if (position === 'top left') {               /*                   å·¦ä¸Šè§’æ­£å¥½ä¸å³ä¸‹è§’ç›¸å                   distanceXå€¼ä¸ºæ­£,distanceYå€¼ä¸ºæ­£ï¼Œå›¾åƒå®½é«˜å˜å¤§ï¼›                   distanceXå€¼ä¸ºè´Ÿ,distanceYå€¼ä¸ºè´Ÿï¼Œå›¾åƒå®½é«˜å˜å°               */               width = storeWidth - distanceX               height = storeHeight - distanceY           } else if (position === 'top right') {               /*                   å³ä¸Šè§’                   distanceXå€¼ä¸ºæ­£,distanceYå€¼ä¸ºè´Ÿï¼Œå›¾åƒå®½é«˜å˜å¤§ï¼›                   distanceXå€¼ä¸ºè´Ÿ,distanceYå€¼ä¸ºæ­£ï¼Œå›¾åƒå®½é«˜å˜å°               */               width = storeWidth + distanceX               height = storeHeight - distanceY           } else if (position === 'bottom left') {               /*                   å·¦ä¸‹è§’                   distanceXå€¼ä¸ºè´Ÿ,distanceYå€¼ä¸ºæ­£ï¼Œå›¾åƒå®½é«˜å˜å¤§ï¼›                   distanceXå€¼ä¸ºæ­£,distanceYå€¼ä¸ºè´Ÿï¼Œå›¾åƒå®½é«˜å˜å°               */               width = storeWidth - distanceX               height = storeHeight + distanceY           }            image.style.width = Math.round(width) + 'px'          image.style.height = Math.round(height) + 'px'        }else{        //çœç•¥     }      document.onmouseup = () => {     //é¼ æ ‡æŠ¬èµ·æ—¶ï¼Œé‡ç½®isResizeingå˜é‡     isResizeing = false   } } //çœç•¥...`\n\nè¯¥éƒ¨åˆ†ä»£ç å¯ä»¥ä¼˜åŒ–ï¼Œä½†è¿™æ ·å†™å®¹æ˜“ç†è§£ï¼Œå¦‚ä½•ä¼˜åŒ–å¯ä»¥çœ‹ä¸‹[å¼ é‘«æ—­/å•IMGå…ƒç´ çš„å›¾åƒæ‹‰ä¼¸æ•ˆæœ](https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzhangxinxu%2Fonly-img-resize%2Fblob%2Fmaster%2Fsrc%2FonlyImgResize.js \"https://gitee.com/zhangxinxu/only-img-resize/blob/master/src/onlyImgResize.js\") ã€‚\n\nå®Œæˆè¿™æ­¥ï¼Œå›¾åƒå·²ç»å¯ä»¥ä½ä¼¸å®½é«˜äº†ã€‚\n\nå¦‚ä¸‹GIFå½•å±æ‰€ç¤ºï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b6f1f47c07d4b53ae39070b7a42932c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nå¯ä»¥ç‚¹å‡»è¿™é‡Œä½“éªŒ:[å›¾åƒæ‹‰ä¼¸å®½é«˜æ”¹å˜](https://code.juejin.cn/pen/7227810028676677690 \"https://code.juejin.cn/pen/7227810028676677690\")ã€‚\n\nå›¾åƒæ˜¯æœ‰æ¯”ä¾‹çš„ï¼Œå¦‚å¸¸è§æ¯”ä¾‹16ï¼š9ï¼Œ3ï¼š4ç­‰ã€‚ç°åœ¨å®ç°å‡ºæ¥çš„æ‹‰ä¼¸æ²¡æœ‰æŒ‰æ¯”ä¾‹è¿›è¡Œæ‹‰ä¼¸ï¼Œè¿˜éœ€è¦ä¼˜åŒ–ã€‚\n\nå…ˆè®¡ç®—å‡ºå›¾åƒæ¯”ä¾‹ï¼Œæ¯”ä¾‹=å›¾åƒå®½åº¦/ å›¾åƒé«˜åº¦ã€‚æ¯”è¾ƒ`distanceXã€distanceY`ä¸¤è€…å€¼è°çš„ç§»åŠ¨è·ç¦»æ›´å¤§ã€‚è‹¥`distanceX`å€¼æ›´å¤§ï¼Œåˆ™ä»¥å›¾åƒå®½åº¦è®¡ç®—å‡ºå®ƒçš„é«˜åº¦ï¼›è‹¥`distanceY`å€¼æ›´å¤§ï¼Œåˆ™ä»¥å›¾åƒçš„é«˜åº¦è®¡ç®—å‡ºå®ƒçš„å®½åº¦ã€‚\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n `//çœç•¥...   image.onclick = (e) => {     //çœç•¥   document.onmousemove = (e) => {      e.preventDefault()      const target = e.target      let x = e.clientX,         y = e.clientY,         distanceX = x - startX,         distanceY = y - startY,         width = 0,         height = 0      if(isResizeing){        //å›¾åƒå·²å¤„äºæ‹‰ä¼¸çš„çŠ¶æ€           if (!position) return           //çœç•¥                      let imageWidth = 0,               imageHeight = 0            const ratio = storeWidth / storeHeight           // é€‰æ‹©ç§»åŠ¨è·ç¦»å¤§çš„æ–¹å‘           if (Math.abs(distanceX) > Math.abs(distanceY)) {               // å®½åº¦å˜åŒ–ä¸ºä¸»               imageWidth = width;               imageHeight = width / ratio;           } else {               // é«˜åº¦å˜åŒ–ä¸ºä¸»               imageHeight = height;               imageWidth = height * ratio;           }          image.style.width = Math.round(imageWidth) + 'px'          image.style.height = Math.round(imageWidth) + 'px'        }else{        //çœç•¥     }    //çœç•¥ } //çœç•¥...`\n\nOKï¼Œåˆ°æ­¤å®Œæ¯•ã€‚\n\nå¦‚ä¸‹GIFå½•å±æ‰€ç¤ºï¼š\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0efa8f625d2f40f39d9f302cc35ad80c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nå¯ä»¥ç‚¹å‡»è¿™é‡Œä½“éªŒ:[å›¾åƒæ‹‰ä¼¸](https://code.juejin.cn/pen/7227841986269544488 \"https://code.juejin.cn/pen/7227841986269544488\")ã€‚\n\næ€»ç»“\n--\n\nä»è¯»å¼ é‘«æ—­çš„æ–‡ç« demoæºç å‡ºå‘ï¼Œè‡ªå·±ä¹Ÿå¯¹å›¾åƒæ‹‰ä¼¸çš„åŠŸèƒ½å®ç°äº†ä¸€éï¼Œåšåˆ°è„‘ä¼šæ‰‹ä¹Ÿä¼šã€‚ä»¥åå†æœ‰ç±»ä¼¼çš„åŠŸèƒ½åˆ†åˆ†é’Ÿæå®šå®ƒï¼\n\nå…³æ³¨å¼ é‘«æ—­å¤§ä½¬ï¼Œå¥½å¤„å¤šå¤šã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d3833549da1a463892e25ed891167a13~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nå¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„ğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^\\_^ã€‚"
}