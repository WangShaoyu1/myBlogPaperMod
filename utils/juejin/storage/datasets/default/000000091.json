{
	"title": "ç§»åŠ¨ç«¯é€‚é…é—®é¢˜ç»ˆææ¢è®¨(ä¸Š)",
	"author": "åˆ˜å°ç°",
	"publishTime": "2020-11-19",
	"readTime": "é˜…è¯»7åˆ†é’Ÿ",
	"tags": "[\"JavaScript\"]",
	"description": "æ—¢ç„¶1ä¸ªcssåƒç´ ä»£è¡¨ä¸¤ä¸ªç‰©ç†åƒç´ ï¼Œè®¾å¤‡åˆä¸è®¤0.5pxçš„å†™æ³•ï¼Œé‚£å°±ç”»1pxï¼Œç„¶åå†æƒ³å°½å„ç§åŠæ³•å°†çº¿å®½å‡å°‘ä¸€åŠã€‚åŸºäºè¿™ç§æ€è€ƒ,æˆ‘ä»¬æœ‰ä»¥ä¸‹è§£å†³æ–¹æ¡ˆ",
	"article": "ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« ?\n----------\n\næœ€è¿‘å…¬å¸åšäº†å¾ˆå¤šèŠ±é‡Œèƒ¡å“¨çš„H5æ´»åŠ¨,å…¶å®H5é¡µé¢å¹¶ä¸éš¾æ¯ä¸ªå‰ç«¯éƒ½å¯ä»¥å†™,ä½†ç»†è¯´ä¸‹æ¥æœ‰å¾ˆå¤šå‰ç«¯ç»†èŠ‚åšçš„å¹¶ä¸æ˜¯é‚£ä¹ˆå®Œç¾,å…¶å®æŠŠH5é¡µé¢åšå®Œå–„,é€‚é…å®Œç¾ä¹Ÿæ˜¯ä»¶æŒºéš¾çš„äº‹(è‡³å°‘æˆ‘è§‰å¾—æ˜¯è¿™æ ·),ä¸‹é¢æˆ‘ä»¬å°±æ¥æ€»ç»“ä¸‹å…³äº`H5é€‚é…çš„é‚£äº›äº‹`\n\nè¯´æ˜\n--\n\nä¸ºäº†æ›´å¥½ç†è§£æ­¤ç¯‡æ–‡ç« ,ä½ å¯ä»¥å…ˆé˜…è¯»[ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸¸è¯´1pxé—®é¢˜è€Œä¸è¯´2px](https://juejin.cn/post/6868559388870311950 \"https://juejin.cn/post/6868559388870311950\") å¯¹`è®¾å¤‡ç‹¬ç«‹åƒç´ `,`cssåƒç´ `,`é€»è¾‘åƒç´ `,`è®¾å¤‡åƒç´ æ¯”`æ¦‚å¿µæœ‰åŸºæœ¬çš„äº†è§£\n\næ­¤æ–‡æ˜¯é€‚é…ç³»åˆ—æ–‡ç« çš„ä¸Š\n\næ™®éçš„è§£å†³æ–¹æ¡ˆ\n-------\n\nç ”ç©¶ä¹‹å‰æˆ‘ä»¬å¯ä»¥çœ‹çœ‹å¤§å‚éƒ½æ˜¯å¦‚ä½•é€‚é…H5\n\n### æ·˜å®\n\nåœ°å€: [main.m.taobao.com/](https://link.juejin.cn?target=https%3A%2F%2Fmain.m.taobao.com%2F \"https://main.m.taobao.com/\")\n\næ–¹æ¡ˆ: `Flexible`\n\nåˆ†æ:å€¼å¾—èŠçš„æ˜¯,è™½ç„¶`Flexible`æ˜¯æ·˜å®å›¢é˜Ÿå‡ºçš„å…³äºç§»åŠ¨ç«¯é€‚é…çš„æ–¹æ¡ˆ,ä½†æ‰‹æœºæ·˜å®ä¼¼ä¹å¹¶æ²¡æœ‰ä½¿ç”¨æ­¤æ–¹æ¡ˆ,å¯ä»¥çœ‹ä¸‹é¢å‡ å¼ å›¾å¾—å‡ºç»“è®º\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/063b4e5714d64259aaa5cccb849feac6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\næˆ‘ä»¬ç°åœ¨æ”¹å˜æ‰‹æœºå‹å·\n\n![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb02348c34554b78b6f26a069aecdc41~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\nå¯ä»¥å‘ç°äººå®¶çš„é€‚é…å•ä½ç›´æ¥æ˜¯`px`æ ¹æœ¬æ²¡æœ‰ä½¿ç”¨`rem`,åªä¸è¿‡`px`çš„å€¼æ˜¯é€šè¿‡æ‰‹æœºå±å¹•çš„ä¸åŒåŠ¨æ€è®¡ç®—å‡ºæ¥çš„,æ‰€ä»¥å½“æˆ‘ä»¬æ”¹å˜è‹¹æœçš„å¤§å°æ—¶,ç½‘ç«™å°±ä¼š`åˆ·æ–°`åŠ¨æ€è®¡ç®—å‡ºå¯¹åº”çš„`px`å€¼,ä»è€Œè¾¾åˆ°é€‚é…çš„ç›®çš„\n\n![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/739c28f8c5e348ad9c63cc7705af7664~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\néšä¾¿è¿›å»ä¸€ä¸ªæ·˜å®çš„å†…é¡µ,å‘ç°ä½¿ç”¨çš„é€‚é…æ–¹æ¡ˆæ˜¯`vw`\n\n![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6444067468234dfcb1c23148497dddcd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\n### äº¬ä¸œ\n\nåœ°å€ï¼š[m.jd.com/](https://link.juejin.cn?target=https%3A%2F%2Fm.jd.com%2F \"https://m.jd.com/\") æ–¹æ¡ˆ:`rem`\n\nåˆ†æï¼šäº¬ä¸œçš„é€‚é…æ¯”è¾ƒç²—æš´,ç›´æ¥ä½¿ç”¨ **åª’ä½“æŸ¥è¯¢æ”¹å˜htmlçš„æ ¹font-size** ç„¶åä½¿ç”¨`rem`è¿›è¡Œé€‚é… ![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e7502b61b244040b6e5659fec30cbd6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp) ![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b38c6587c2ab450ea1fa017cd8f1b46c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\n### å­—èŠ‚è·³åŠ¨\n\nåœ°å€ï¼š[job.bytedance.com/campus/m/poâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fjob.bytedance.com%2Fcampus%2Fm%2Fposition \"https://job.bytedance.com/campus/m/position\")\n\næ–¹æ¡ˆ:`responsive.js`\n\nåˆ†æ: æˆ‘è§‰å¾—`responsive.js`å’Œæ·˜å®çš„`Flexible.js`æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œéƒ½æ˜¯åŠ¨æ€çš„æ”¹å˜`html`çš„`font-size`ç„¶åç”¨`rem`è¿›è¡Œé€‚é…\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59f3663ac4b84c6082960695aac2473e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\n### é€‚é…æ€»ç»“\n\né€šè¿‡è¿™äº›å¤§å‚çš„äº§å“ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“åˆ°ï¼Œç§»åŠ¨ç«¯é€‚é…çš„ä¸‰ç§æ–¹æ¡ˆ\n\n*   rem ï¼ˆä¸»æµï¼‰\n*   vw/vh ï¼ˆéƒ¨åˆ†ï¼‰\n*   ç›´æ¥px ï¼ˆåˆ†åœºæ™¯ï¼‰\n\né‚£ä¹ˆï¼Ÿè¿™è¾¹æ–‡ç« å°±è¿™ä¹ˆå®Œäº†ï¼ŸğŸ˜¶å…¶å®è¿™æ‰åˆšåˆšå¼€å§‹æˆ‘ä»¬ä»Šå¤©çš„å¹²è´§\n\nè¯´è¯´`Flexible`\n------------\n\n`Flexible`ä½œä¸ºç§»åŠ¨ç«¯é€‚é…çš„é¼»ç¥–,éå¸¸å…·æœ‰ç ”ç©¶ä»·å€¼,å¹¶ä¸”ç°åœ¨å¾ˆå¤šçš„ç§»åŠ¨ç«¯H5éƒ½åœ¨ç”¨è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œé€‚é…,ä»Šå¤©æˆ‘ä»¬å°±æ¥å­¦ä¹ ä¸‹ä»–çš„åŸç†\n\n*   `0.3.2ç‰ˆæœ¬` è¿™ä¸ªç‰ˆæœ¬`Flexible`é€‚é…åŸç†æ˜¯é€šè¿‡`meta`æ ‡ç­¾æ”¹å˜é¡µé¢çš„ç¼©æ”¾æ¯”ä¾‹,ä»è€Œè¾¾åˆ°é€‚é…çš„ç›®çš„,åŒæ—¶,è¿™ä¸ªæ–¹æ¡ˆä¹Ÿå¯ä»¥è§£å†³`1px`çš„é—®é¢˜,æºç å¦‚ä¸‹\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`(function(win, lib) {   var doc = win.document;   var docEl = doc.documentElement;   var metaEl = doc.querySelector('meta[name=\"viewport\"]');   var flexibleEl = doc.querySelector('meta[name=\"flexible\"]');   var dpr = 0;   var scale = 0;   var tid;   var flexible = lib.flexible || (lib.flexible = {});   // å¦‚æœå·²ç»è®¾ç½®<meta name=\"viewport\">å±æ€§ï¼Œå°±æ ¹æ®å½“å‰è®¾ç½®çš„å±æ€§   if (metaEl) {     var match = metaEl       .getAttribute(\"content\")       .match(/initial\\-scale=([\\d\\.]+)/);     if (match) {       scale = parseFloat(match[1]);       dpr = parseInt(1 / scale);     }   } else if (flexibleEl) {     // åŒä¸Š     var content = flexibleEl.getAttribute(\"content\");     if (content) {       var initialDpr = content.match(/initial\\-dpr=([\\d\\.]+)/);       var maximumDpr = content.match(/maximum\\-dpr=([\\d\\.]+)/);       if (initialDpr) {         dpr = parseFloat(initialDpr[1]);         scale = parseFloat((1 / dpr).toFixed(2));       }       if (maximumDpr) {         dpr = parseFloat(maximumDpr[1]);         scale = parseFloat((1 / dpr).toFixed(2));       }     }   }   if (!dpr && !scale) {     // è¿™é‡Œå°±æ˜¯ flexible çš„æ ¸å¿ƒä»£ç      var isAndroid = win.navigator.appVersion.match(/android/gi);     var isIPhone = win.navigator.appVersion.match(/iphone/gi);     var devicePixelRatio = win.devicePixelRatio;     if (isIPhone) {       // iOSä¸‹ï¼Œå¯¹äº2å’Œ3çš„å±ï¼Œç”¨2å€çš„æ–¹æ¡ˆï¼Œå…¶ä½™çš„ç”¨1å€æ–¹æ¡ˆ       if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) {         dpr = 3;       } else if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)) {         dpr = 2;       } else {         dpr = 1;       }     } else {       // å…¶ä»–è®¾å¤‡ä¸‹ï¼Œä»æ—§ä½¿ç”¨1å€çš„æ–¹æ¡ˆ       dpr = 1;     }     // å°† <meta> æ ¹æ®å½“å‰è®¾å¤‡çš„ dpr æ ‡ç­¾è¿›è¡Œç¼©æ”¾     scale = 1 / dpr;   }   docEl.setAttribute(\"data-dpr\", dpr);   // æ ¹æ®å½“å‰çš„ dpr è‡ªåŠ¨è®¾ç½® <meta> å±æ€§   if (!metaEl) {     metaEl = doc.createElement(\"meta\");     metaEl.setAttribute(\"name\", \"viewport\");     metaEl.setAttribute(       \"content\",       \"initial-scale=\" +         scale +         \", maximum-scale=\" +         scale +         \", minimum-scale=\" +         scale +         \", user-scalable=no\"     );     if (docEl.firstElementChild) {       docEl.firstElementChild.appendChild(metaEl);     } else {       var wrap = doc.createElement(\"div\");       wrap.appendChild(metaEl);       doc.write(wrap.innerHTML);     }   }   function refreshRem() {     // å¯¹ipadç­‰è®¾å¤‡çš„å…¼å®¹     var width = docEl.getBoundingClientRect().width;     if (width / dpr > 540) {       width = 540 * dpr;     }     // å°†å±å¹•10ç­‰åˆ†ï¼Œè®¾ç½® fontSize     var rem = width / 10;     docEl.style.fontSize = rem + \"px\";     flexible.rem = win.rem = rem;   }   win.addEventListener(     \"resize\",     function() {       clearTimeout(tid);       tid = setTimeout(refreshRem, 300);     },     false   );   win.addEventListener(     \"pageshow\",     function(e) {       if (e.persisted) {         clearTimeout(tid);         tid = setTimeout(refreshRem, 300);       }     },     false   );   // è®¾ç½®å­—ä½“ 12 * dpr   if (doc.readyState === \"complete\") {     doc.body.style.fontSize = 12 * dpr + \"px\";   } else {     doc.addEventListener(       \"DOMContentLoaded\",       function(e) {         doc.body.style.fontSize = 12 * dpr + \"px\";       },       false     );   }   refreshRem();   flexible.dpr = win.dpr = dpr;   flexible.refreshRem = refreshRem;   // å·¥å…·å‡½æ•°   flexible.rem2px = function(d) {     var val = parseFloat(d) * this.rem;     if (typeof d === \"string\" && d.match(/rem$/)) {       val += \"px\";     }     return val;   };   flexible.px2rem = function(d) {     var val = parseFloat(d) / this.rem;     if (typeof d === \"string\" && d.match(/px$/)) {       val += \"rem\";     }     return val;   }; })(window, window[\"lib\"] || (window[\"lib\"] = {}));`\n\né€‚é…æ•ˆæœå¦‚ä¸‹ ![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93f2d65316bb4be69ab066708e071adc~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\næˆ‘ä»¬ä»æºç ä¸­å¾ˆå®¹æ˜“çœ‹å‡º`data-dpr`,htmlçš„ `font-size`,bodyçš„`font-szie`åŠmetaçš„`ç¼©æ”¾æ¯”ä¾‹`æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„\n\nä¸‹é¢æˆ‘ä»¬ç®€å•çœ‹ä¸‹å¯¹`dpr`çš„è®¡ç®—\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n    `if (isIPhone) {       // iOSä¸‹ï¼Œå¯¹äº2å’Œ3çš„å±ï¼Œç”¨2å€çš„æ–¹æ¡ˆï¼Œå…¶ä½™çš„ç”¨1å€æ–¹æ¡ˆ       if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) {         dpr = 3;       } else if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)) {         dpr = 2;       } else {         dpr = 1;       }     } else {       // å…¶ä»–è®¾å¤‡ä¸‹ï¼Œä»æ—§ä½¿ç”¨1å€çš„æ–¹æ¡ˆ       dpr = 1;     }`\n\nå¯ä»¥çœ‹å‡º,åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­,åªå¯¹`ios`çš„dprè¿›è¡Œäº†å¤„ç†,å¯¹äº`å®‰å“`æœºå‹éƒ½æ˜¯é»˜è®¤`dpr = 1`,æ˜¾ç„¶è¿™æ ·çš„å¤„ç†æœ‰ç‚¹ä¸å¤ªåˆç†\n\n> å…³äº`<meta>`æ ‡ç­¾è¿™ä¸€å—ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼Œä½ é€šè¿‡ä¸€ä¸ªé•œæ¡†ï¼ˆæ‰‹æœºå±å¹•375pxå®½åº¦ï¼‰çœ‹ä¸€ç¯‡æŠ¥çº¸(é¡µé¢å†…å®¹ 750px çš„å®½åº¦) ï¼Œæ­¤æ—¶é•œæ¡†æ˜¯ç´§è´´ç€æŠ¥çº¸çš„ï¼Œé‚£ä½ é€šè¿‡é•œæ¡†çœ‹åˆ°çš„å†…å®¹ï¼Œå°±åªèƒ½é•œæ¡†åŒºåŸŸçš„é‚£äº›å†…å®¹ï¼Œä¸ºäº†èƒ½çœ‹åˆ°å…¨éƒ¨çš„å†…å®¹ï¼Œå°±è¦é•œå¤´æ‹‰è¿œä¸€äº›ï¼Œflexibleå°±æ˜¯åšäº†ä»¥ä¸Šçš„äº‹æƒ…ï¼Œç„¶åè®©æˆ‘ä»¬åœ¨å†™å°ºå¯¸çš„æ—¶å€™å®Œå…¨å¯ä»¥æŒ‰ç…§è®¾è®¡ç¨¿æ¥å†™ï¼Œä¹Ÿä¸ä¼šå¸®æˆ‘ä»¬é™¤ä»¥å¯¹åº”çš„dprçš„å€æ•°ï¼Œä½†æ˜¯ä¼šå¸®æˆ‘ä»¬æŠŠè§†å£æ‹‰è¿œäº†åˆ°1/dpr\n\n*   `flexible-2.0` 2.0çš„ç‰ˆæœ¬å·²ç»æ²¡æœ‰é’ˆå¯¹`viewport`çš„ç¼©æ”¾äº†ï¼Œå¢åŠ äº†å¯¹`0.5px`çš„åˆ¤æ–­,æºç å¦‚ä¸‹:\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`(function flexible(window, document) {   var docEl = document.documentElement;   var dpr = window.devicePixelRatio || 1;   // è®¾ç½® body å­—ä½“   function setBodyFontSize() {     if (document.body) {       document.body.style.fontSize = 12 * dpr + 'px';     } else {       document.addEventListener('DOMContentLoaded', setBodyFontSize);     }   }   setBodyFontSize();   // è®¾ç½® rem åŸºå‡†å€¼   function setRemUnit() {     var rem = docEl.clientWidth / 10;     docEl.style.fontSize = rem + 'px';   }   setRemUnit();   // reset rem unit on page resize   window.addEventListener('resize', setRemUnit);   window.addEventListener('pageshow', function (e) {     if (e.persisted) {       setRemUnit();     }   });   // detect 0.5px supports   if (dpr >= 2) {     var fakeBody = document.createElement('body');     var testElement = document.createElement('div');     testElement.style.border = '.5px solid transparent';     fakeBody.appendChild(testElement);     docEl.appendChild(fakeBody);     if (testElement.offsetHeight === 1) {       docEl.classList.add('hairlines');     }     docEl.removeChild(fakeBody);   } })(window, document);`\n\næˆ‘ä»¬çœ‹å¯¹`0.5px`é—®é¢˜çš„å¤„ç†\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n  `if (dpr >= 2) {     var fakeBody = document.createElement('body');     var testElement = document.createElement('div');     testElement.style.border = '.5px solid transparent';     fakeBody.appendChild(testElement);     docEl.appendChild(fakeBody);     if (testElement.offsetHeight === 1) {       docEl.classList.add('hairlines');     }     docEl.removeChild(fakeBody);   }`\n\nå¤§æ¦‚é€»è¾‘æ˜¯,åˆ¤æ–­è®¾å¤‡æ”¯ä¸æ”¯æŒ`0.5px`, å¦‚æœæ”¯æŒ å°±åœ¨`body`ä¸Šé¢æ·»åŠ ä¸€ä¸ªåä¸º`hairlines`çš„`class`,æ‰€ä»¥2æˆ‘ä»¬çš„ä»£ç å¯ä»¥è¿™æ ·å†™\n\ncss\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`/* dpr=1çš„æ—¶å€™*/ .line{  border:1px solid red; } /* dpr>=2ä¸”æ”¯æŒ0.5pxçš„æ—¶å€™*/ .hairlines .line{  border:0.5px solid red; }`\n\nä½†æ˜¯è¿™ä¹Ÿä¼šå‡ºç°ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜\n\n*   å¯¹äºé‚£äº›`dpr>2 ä¸”ä¸æ”¯æŒ0.5px`çš„å®‰å“æœº,æˆ‘ä»¬åº”è¯¥å¦‚ä½•ç»Ÿä¸€å¤„ç†å‘¢?\n*   å¦‚æœ `dpr=3`é‚£ä¹ˆ`border`å°±åº”è¯¥æ˜¯`0.3333px`è€Œä¸æ˜¯`0.5px`äº†,ä½†æ˜¯`flexible`æŠŠè¿™äº›æƒ…å†µéƒ½ç”¨ä¸€ä¸ª`hairlines`åŒ…å«äº†\n\nçœ‹æ¥ `flexible`ä¼¼ä¹å¹¶ä¸å®Œç¾,ä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸èƒ½å¦è®¤`flexible`é€‚é…æ–¹æ¡ˆ, æŠ›å»`1px`é—®é¢˜,å¯ä»¥è¯´`flexible`æ˜¯å®Œç¾çš„\n\nè¯´è¯´ `vw/vh`\n----------\n\nä¸ªäººè®¤ä¸º`vw`é€‚é…åŸç†å…¶å®å’Œ`flexible`ä¸€æ ·,éƒ½æ˜¯å¹³åˆ†çª—å£,åªä¸è¿‡ä¸€ä¸ªåˆ†äº†`10`ä»½ä¸€ä¸ªåˆ†äº†`100`ä»½\n\nå…³äº`vw`æˆ‘ä»¬åœ¨ä¸‹ç« å®æˆ˜ç”¨çš„æ—¶å€™åœ¨å…·ä½“è¯´æ˜\n\nå¦‚ä½•è§£å†³`1px`é—®é¢˜\n-----------\n\n> æˆ‘åœ¨[ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸¸è¯´1pxé—®é¢˜è€Œä¸è¯´2px](https://juejin.cn/post/6868559388870311950 \"https://juejin.cn/post/6868559388870311950\")æ–‡ç« ä¸­æåˆ°è¿‡,å¦‚æœå¯¹äº`UI`è¦æ±‚ä¸é«˜çš„æ—¶å€™,`1px`å…¶å®ä¹Ÿä¸ç®—ä»€ä¹ˆé—®é¢˜,å¾€å¾€é¡¹ç›®ä¸Šæœ‰å¾ˆå¤šæ¯”`1px`æ›´é‡è¦çš„bugéœ€è¦æˆ‘ä»¬å»è§£å†³,ä½†äº†è§£`1px`çš„æœ¬è´¨æœ‰åŠ©äºæˆ‘ä»¬å¾ˆå¥½çš„ç†è§£ç§»åŠ¨ç«¯é€‚é…åŸç†\n\n**è§£å†³æ€è·¯**\n\n`æ—¢ç„¶1ä¸ªcssåƒç´ ä»£è¡¨ä¸¤ä¸ªç‰©ç†åƒç´ ï¼Œè®¾å¤‡åˆä¸è®¤0.5pxçš„å†™æ³•ï¼Œé‚£å°±ç”»1pxï¼Œç„¶åå†æƒ³å°½å„ç§åŠæ³•å°†çº¿å®½å‡å°‘ä¸€åŠã€‚`åŸºäºè¿™ç§æ€è€ƒ,æˆ‘ä»¬æœ‰ä»¥ä¸‹è§£å†³æ–¹æ¡ˆ\n\n### å›¾ç‰‡å¤§æ³•åŠèƒŒæ™¯æ¸å˜\n\nè¿™ä¸¤ç§æ–¹æ¡ˆåŸç†ä¸€æ ·,éƒ½æ˜¯è®¾ç½®å…ƒç´ ä¸€åŠæœ‰é¢œè‰²,ä¸€åŠé€æ˜,æ¯”å¦‚åšä¸€ä¸ª`2px`é«˜åº¦çš„å›¾ç‰‡,å…¶ä¸­`1px`æ˜¯æˆ‘ä»¬æƒ³è¦çš„é¢œè‰²,`1px`è®¾ç½®ä¸ºé€æ˜,é€‚é…è¿‡ç¨‹å¦‚ä¸‹\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65e5d9bb8e5c4519a2e9a330a3145720~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)\n\n### ç¼©æ”¾å¤§æ³•\n\nä¹Ÿæ˜¯`flexible 0.3.2`ä½¿ç”¨çš„é€‚é…æ–¹æ¡ˆ æˆ‘ä»¬å¯ä»¥æŠŠä»£ç ç¨å¾®æ”¹é€ ä¸‹\n\njs\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n  `if (!dpr && !scale) {     var isAndroid = win.navigator.appVersion.match(/android/gi);     var isIPhone = win.navigator.appVersion.match(/iphone/gi);     var devicePixelRatio = win.devicePixelRatio;       // å¯¹äº2å’Œ3çš„å±ï¼Œç”¨2å€çš„æ–¹æ¡ˆï¼Œå…¶ä½™çš„ç”¨1å€æ–¹æ¡ˆ       if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) {         dpr = 3;       } else if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)) {         dpr = 2;       } else {         dpr = 1;       }     // å°† <meta> æ ¹æ®å½“å‰è®¾å¤‡çš„ dpr æ ‡ç­¾è¿›è¡Œç¼©æ”¾     scale = 1 / dpr;   }`\n\nåŸç†ä¹Ÿå¾ˆç®€å•,æ ¹æ®å¯¹åº”çš„`dpr`è°ƒæ•´å¯¹åº”çš„ç¼©æ”¾æ¯”ä¾‹,ä»è€Œè¾¾åˆ°é€‚é…çš„ç›®çš„,ç›´æ¥ç¼©æ”¾é¡µé¢ä¸ªäººæ„Ÿè§‰æœ‰ç‚¹`æš´åŠ›`\n\n### ä½¿ç”¨ä¼ªå…ƒç´ ç¼©æ”¾\n\nç¼©æ”¾æ•´ä¸ªé¡µé¢`å¤ªæš´åŠ›`,é‚£èƒ½ä¸èƒ½åªæ˜¯ç¼©æ”¾è¾¹æ¡†å‘¢,ç­”æ¡ˆè‚¯å®šæ˜¯å¯ä»¥çš„æˆ‘ä»¬ä¸æ˜¯æœ‰ `transform: scale`å—\n\ncss\n\n ä»£ç è§£è¯»\n\nå¤åˆ¶ä»£ç \n\n`.border1px{   position: relative;   &::after{     position: absolute;     content: '';     background-color: #ddd;     display: block;     width: 100%;     height: 1px;      transform: scale(1, 0.5); /* è¿›è¡Œç¼©æ”¾*/     top: 0;     left: 0;   } }`\n\næ€»ç»“\n--\n\næœ¬æ–‡ä¸»è¦è®²è§£äº†å¸¸è§ç§»åŠ¨ç«¯é€‚é…åŠ`1px`è§£å†³æ–¹æ¡ˆ,æœ¬ç« ä¸»è¦è®²çš„ç†è®º,ä¸‹ä¸€ç« æˆ‘ä»¬ä¼šæ ¹æ®å®æˆ˜å¾—å‡ºç§»åŠ¨ç«¯é€‚é…çš„`æœ€ä½³å®è·µ`,å¦‚æœ‰å…´è¶£è®°å¾—ç‚¹èµå…³æ³¨å“¦ğŸ’“"
}