---
author: "ç¨‹åºå‘˜å‡Œè§ˆ"
title: "ğŸ‚å‘€ï¼è¿™æ¬¾markdownç¼–è¾‘å™¨æˆ‘å¤ªé’Ÿæ„å•¦ï¼"
date: 2022-08-14
description: "ğŸ“–é˜…è¯»æœ¬æ–‡ï¼Œæ‚¨å°†æ”¶è·äº†è§£åˆ°ä¼˜ç§€çš„markdownäº§å“wolaiã€notionmarkdownç¼–è¾‘å™¨é€‰å‹ï¼Œå¤šä¸€ä¸ªé€‰æ‹©é¡¹å­¦ä¼šå¦‚ä½•ä½¿ç”¨Mildownä¸€ã€markdownç¼–è¾‘å™¨çš„æ§½ç‚¹ä½œä¸ºç ”å‘äººå‘˜ï¼Œæˆ‘"
tags: ["å‰ç«¯","JavaScript","GitHub"]
ShowReadingTime: "é˜…è¯»4åˆ†é’Ÿ"
weight: 937
---
æºæ‰‹åˆ›ä½œï¼Œå…±åŒæˆé•¿ï¼è¿™æ˜¯æˆ‘å‚ä¸ã€Œæ˜é‡‘æ—¥æ–°è®¡åˆ’ Â· 8 æœˆæ›´æ–‡æŒ‘æˆ˜ã€çš„ç¬¬ä¸€å¤©ï¼Œ[ç‚¹å‡»æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…](https://juejin.cn/post/7123120819437322247 "https://juejin.cn/post/7123120819437322247")

ğŸ“–é˜…è¯»æœ¬æ–‡ï¼Œæ‚¨å°†æ”¶è·
-----------

*   äº†è§£åˆ°ä¼˜ç§€çš„markdownäº§å“[wolai](https://link.juejin.cn?target=https%3A%2F%2Fwww.wolai.com%2Fsignup%3Finvitation%3DI6MQISP "https://www.wolai.com/signup?invitation=I6MQISP")ã€[notion](https://link.juejin.cn?target=https%3A%2F%2Fwww.notion.so%2F66bed77ec85d42d9b84f3799e69dd711 "https://www.notion.so/66bed77ec85d42d9b84f3799e69dd711")
*   markdownç¼–è¾‘å™¨é€‰å‹ï¼Œå¤šä¸€ä¸ªé€‰æ‹©é¡¹
*   å­¦ä¼šå¦‚ä½•ä½¿ç”¨`Mildown`

ä¸€ã€markdownç¼–è¾‘å™¨çš„æ§½ç‚¹
----------------

ä½œä¸ºç ”å‘äººå‘˜ï¼Œæˆ‘ä¸ç›¸ä¿¡æ‚¨ç¼–å†™æ–‡æ¡£æ²¡æœ‰ä½¿ç”¨è¿‡markdownï¼›å¦‚æœä½¿ç”¨markdownç¼–å†™æ–‡æ¡£ï¼Œé‚£è‚¯å®šæ˜¯ç¦»ä¸å¼€ä¸€æ¬¾markdownç¼–è¾‘å™¨ã€‚

ä½†æ˜¯å‘¢ï¼Œå¸‚é¢ä¸Šmarkdownç¼–è¾‘å™¨åˆæœ‰è›®å¤šæ§½ç‚¹çš„ï¼š

*   å¤§éƒ¨åˆ†å¼€æºç¼–è¾‘å™¨ï¼Œå®ƒæ˜¯ç¼–è¾‘åŒºä¸é¢„è§ˆåŒºåˆ†ç¦» ![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/10e013f54d574fd7b0ec8db1bdc384fa~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?) ä¸Šå›¾ä¸ºæ˜é‡‘å¹³å°ä½¿ç”¨çš„ç¼–è¾‘å™¨ï¼Œç¼–è¾‘åŒºä¸é¢„è§ˆåŒºåˆ†ç¦»è€ç¢çœ¼äº†ã€‚å¤æ¿ï¼Œæˆ‘è§‰å¾—ä¸¤è€…ç»“åˆåšåˆ°æ‰€è§å³æ‰€å¾—ä¼šæ›´å¥½ã€‚
    
*   æ”¶è´¹
    
    åšåˆ°æ‰€è§å³æ‰€å¾—çš„markdownç¼–è¾‘å™¨ï¼Œå½“ç„¶æœ‰ï¼Œä¾‹å¦‚å¸‚é¢ä¸Šçš„[Typora](https://link.juejin.cn?target=https%3A%2F%2Ftypora.io%2F "https://typora.io/")ã€[wolai](https://link.juejin.cn?target=https%3A%2F%2Fwww.wolai.com%2Fsignup%3Finvitation%3DI6MQISP "https://www.wolai.com/signup?invitation=I6MQISP")ã€[notion](https://link.juejin.cn?target=https%3A%2F%2Fwww.notion.so%2F66bed77ec85d42d9b84f3799e69dd711 "https://www.notion.so/66bed77ec85d42d9b84f3799e69dd711")ã€‚
    
    è¿™ä¸‰æ¬¾ç¼–è¾‘å™¨äº§å“ï¼Œç”¨è¿‡çš„äººéƒ½è¯´å¥½ï¼Œ**å¼ºçƒˆæ¨è**ã€‚
    
    å®ƒä»¬æœ‰ä¸ªå…±åŒçš„é—®é¢˜ï¼šå•†ä¸šåŒ–ï¼Œå•†ä¸šåŒ–çš„äº§å“ç›®çš„å°±æ˜¯æé’±ï¼Œæ‰€ä»¥å‘¢ï¼Œå®ƒä»¬æœ‰éƒ¨åˆ†é«˜çº§åŠŸèƒ½æ˜¯éœ€è¦ä»˜è´¹çš„ã€‚
    
    ä½†å¯¹å¤§éƒ¨åˆ†æ— ç‰¹æ®ŠåŠŸèƒ½è¦æ±‚çš„äººï¼Œå®ƒä»¬å·²ç»å¤Ÿç”¨äº†ã€‚
    
*   ä¸å¼€æº
    
    åƒ[Typora](https://link.juejin.cn?target=https%3A%2F%2Ftypora.io%2F "https://typora.io/")ã€[wolai](https://link.juejin.cn?target=https%3A%2F%2Fwww.wolai.com%2Fsignup%3Finvitation%3DI6MQISP "https://www.wolai.com/signup?invitation=I6MQISP")ã€[notion](https://link.juejin.cn?target=https%3A%2F%2Fwww.notion.so%2F66bed77ec85d42d9b84f3799e69dd711 "https://www.notion.so/66bed77ec85d42d9b84f3799e69dd711")äº§å“ï¼Œå®ƒä»¬çš„æºä»£ç æ˜¯æ²¡æœ‰å¼€æ”¾å‡ºæ¥çš„ï¼Œæˆ‘ä»¬æƒ³åœ¨é¡¹ç›®ä¸­é›†æˆå®ƒä»¬æ˜¯ä¸å¯èƒ½çš„ã€‚
    

äºŒã€æ–°å® å„¿ï¼š`Milkdown`
----------------

> GitHub Staræ•°: 6k+

`Milkdown`æ˜¯ä»€ä¹ˆ?

å®˜æ–¹è‡ªæˆ‘ä»‹ç»ï¼š

> Milkdown æ˜¯ä¸€ä¸ªè½»é‡ä½†å¼ºå¤§çš„ WYSIWYGï¼ˆæ‰€è§å³æ‰€å¾—ï¼‰çš„ markdown ç¼–è¾‘å™¨

ä¸ºä»€ä¹ˆé€‰æ‹©`Milkdown`?

å®˜æ–¹ç†ç”±ï¼š

*   ä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ª**å…è´¹å¼€æºè§£å†³æ–¹æ¡ˆ**
*   ä¸åŒäº [Notion](https://link.juejin.cn?target=https%3A%2F%2Fnotion.so "https://notion.so") å’Œ [Typora](https://link.juejin.cn?target=https%3A%2F%2Ftypora.io%2F "https://typora.io/") ç­‰å•†ç”¨è½¯ä»¶ï¼ŒMilkdownæ˜¯å¼€æºä¸”æ°¸ä¹…å…è´¹çš„
*   å€¼å¾—ä¿¡èµ–ï¼Œæœ‰å¼ºå¤§çš„ç¤¾åŒºæ”¯æ’‘

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3544cbdeb714d659cf501087dbd3b14~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

åœ¨çº¿ä½“éªŒï¼š[milkdown.dev/zh-hans/onlâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fmilkdown.dev%2Fzh-hans%2Fonline-demo "https://milkdown.dev/zh-hans/online-demo")

GitHub: [github.com/Saul-Mironeâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSaul-Mirone%2Fmilkdown "https://github.com/Saul-Mirone/milkdown")

### 2.1 å®‰è£…å¹¶è¿è¡Œ

`Mildown`ä»¥æ’ä»¶é©±åŠ¨ï¼Œå®ƒç”±æ ¸å¿ƒæ¨¡å—ã€å®˜æ–¹æ’ä»¶ç»„æˆã€‚

å®‰è£…æ ¸å¿ƒæ¨¡å—ï¼š

bash

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`npm i @milkdown/core @milkdown/transformer @milkdown/prose @milkdown/ctx`

åˆ›å»ºEditorå®ä¾‹ï¼š

go

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { Editor } from "@milkdown/core" Editor.make().create()`

æ‰§è¡Œï¼Œä¸¤è¡Œä»£ç å°±æŠ¥é”™å•¦ï¼ï¼

*   é”™è¯¯1:`Uncaught (in promise) Timing InitReady timeout.`
    
    åŸå› æ˜¯ç¼ºå°‘ä¸»é¢˜ï¼Œå†å®‰è£…ä¸€ä¸ªä¸»é¢˜åŒ…ï¼š
    

css

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`npm i  @milkdown/theme-nord` 

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { Editor } from "@milkdown/core" import { nord } from "@milkdown/theme-nord" Editor.make().use(nord).create()`

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`å†æ¬¡è¿è¡Œï¼Œç´§æ¥ç€ç¬¬äºŒä¸ªæŠ¥é”™å‡ºç°ã€‚`

*   é”™è¯¯2:`Uncaught (in promise) RangeError: Schema is missing its top node type ('doc')`
    
    é”™è¯¯å¤§æ¦‚æ„æ€æ˜¯ç¼ºå°‘`doc`èŠ‚ç‚¹ï¼Œè¿™æ˜¯åŸå› ç¼ºå°‘markdowné¢„è®¾æŒ‡ä»¤æ’ä»¶ã€‚
    
    å®˜æ–¹æä¾›äº†ä¸¤æ¬¾æ’ä»¶ï¼š`@milkdown/preset-commonmarkã€@milkdown/preset-gfm`ï¼Œæ¨è`@milkdown/preset-gfm`ã€‚
    
    åŒæ ·çš„ï¼Œä¸‹è½½ä½¿ç”¨ï¼š
    

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { Editor } from "@milkdown/core" import { nord } from "@milkdown/theme-nord" import {gfm} from "@milkdown/preset-gfm" Editor.make().use(nord).use(gfm).create()`

![Aug-14-2022 11-37-41.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85ca1e58200c4a9a95a69e990b142623~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?) è‡³æ­¤ï¼Œ`Milkdown`æˆåŠŸè¿è¡Œã€‚æ¥ä¸‹æ¥ï¼Œåªéœ€è¦æŒ‰éœ€æ·»åŠ æ’ä»¶ã€‚

### 2.2 é¡¶éƒ¨å·¥å…·æ æ’ä»¶

css

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`npm i @milkdown/plugin-menu`

è¿˜æ˜¯é“¾å¼è°ƒç”¨`use` ,æ³¨å†Œæ’ä»¶ã€‚

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { Editor } from "@milkdown/core" import { nord } from "@milkdown/theme-nord" import { gfm } from "@milkdown/preset-gfm" // å·¥å…·æ  import { menu } from '@milkdown/plugin-menu'; Editor     .make()     .use(nord)     .use(gfm)     .use(menu)     .create()`

ä½†å¾—åˆ°çš„æ˜¯ä¸€å †è‹±æ–‡å•è¯ï¼š

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8e29ec8702ae44c099ae56af61f6e5c8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

åŠŸèƒ½æ˜¯å­˜åœ¨çš„ï¼Œä½†å±•ç¤ºæœ‰é—®é¢˜ï¼Œéœ€è¦æŠŠä¸€å †è‹±æ–‡å•è¯æ›¿æ¢æˆå­—ä½“å›¾æ ‡ã€‚

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { Editor ,ThemeIcon} from "@milkdown/core" import { nord } from "@milkdown/theme-nord" import { gfm } from "@milkdown/preset-gfm" // å·¥å…·æ  import { menu } from '@milkdown/plugin-menu'; import { getIcon } from "./icon" Editor     .make()     .use(nord.override((emotion, manager) => {         manager.set(ThemeIcon, (icon) => {             if (!icon) return;             return getIcon(icon);         });     }))     .use(gfm)     .use(menu)     .create()`

é’ˆå¯¹`@milkdown/theme-nord` è®¾ç½®ï¼Œæ·»åŠ ä¸€ä¸ª`getIcon` æ–¹æ³•ã€‚

`icon` æ–‡ä»¶å†…å®¹è¿‡å¤šæ­¤å¤„ä¸ç²˜è´´ï¼Œè¯·ç§»åŠ¨GitHubé˜…è¯»ï¼š[github.com/CatsAndMiceâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCatsAndMice%2Fmilkdown%2Fblob%2Fmaster%2Ficon.js "https://github.com/CatsAndMice/milkdown/blob/master/icon.js")ã€‚

å¦å¤–éœ€è¦åŠ è½½å­—ä½“å›¾æ ‡èµ„æºï¼š

bash

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

 `<html>  //...    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />  </html>`

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f89a2e4916d349cc8b01a88ff09f97d9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

### 2.3 å¤åˆ¶ç²˜è´´æ’ä»¶

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { clipboard } from '@milkdown/plugin-clipboard';`

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`//... import { clipboard } from '@milkdown/plugin-clipboard'; Editor     .make()     .use(nord.override((emotion, manager) => {         manager.set(ThemeIcon, (icon) => {             if (!icon) return;             return getIcon(icon);         });     }))     .use(gfm)     .use(menu)     .use(clipboard)     .create()`

### 2.4 é€‰æ‹©å·¥å…·æ æ’ä»¶

css

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`npm i @milkdown/plugin-tooltip`

è®¾ç½®å·¥å…·æ é€‰ä¸­åç½®é¡¶ï¼š

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`//... import { tooltipPlugin, tooltip } from '@milkdown/plugin-tooltip'; Editor     .make()     .use(nord.override((emotion, manager) => {         manager.set(ThemeIcon, (icon) => {             if (!icon) return;             return getIcon(icon);         });     }))     .use(gfm)     .use(menu)     //æ–°å¢     .use(tooltip.configure(tooltipPlugin, {         top: true,     }))     .create()`

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/745797ac9c2c41c793d5bef492faeeea~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

### 2.5 æ”¯æŒ`/` å‘½ä»¤æ’ä»¶

css

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`npm i @milkdown/plugin-slash`

è¾“å…¥`/`ï¼Œè‡ªå®šä¹‰æ·»åŠ é¢æ¿åŠŸèƒ½é…ç½®ï¼š

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { defaultValueCtx, Editor, rootCtx, ThemeIcon, themeManagerCtx } from "@milkdown/core"; //... import {slash,createDropdownItem,defaultActions,slashPlugin} from '@milkdown/plugin-slash'; Editor     .make()    // æ–°å¢   .use(slash.configure(slashPlugin, {     config: (ctx) => {       return ({ content, isTopLevel }) => {         if (!isTopLevel) return null;         if (!content) {           return { placeholder: "é”®å…¥æ–‡å­—æˆ–'/'é€‰æ‹©" };         }         const mapActions = (action) => {           const { id = "" } = action;           switch (id) {             case "h1":               action.dom = createDropdownItem(                 ctx.get(themeManagerCtx),                 "æ ‡é¢˜1",                 "h1"               );               return action;             //...             default:               return action;           }         };         if (content.startsWith("/")) {           return content === "/"             ? {               placeholder: " ",               actions: defaultActions(ctx).map(mapActions)             }             : {               actions: defaultActions(ctx, content).map(mapActions)             };         }         return null;       };     }   }))`

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03582030978044359c99465ee92acb92~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

### 2.6 è®¾ç½®é»˜è®¤å†…å®¹åŠæ·»åŠ äº‹ä»¶æ’ä»¶

è®¾ç½®é»˜è®¤å†…å®¹æ˜¯æ ¸å¿ƒæ¨¡å—æä¾›çš„åŠŸèƒ½ï¼Œä¸å¿…å®‰è£…æ’ä»¶ã€‚

dart

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`import { defaultValueCtx, Editor, rootCtx, ThemeIcon, themeManagerCtx } from "@milkdown/core"; //... Editor.make()   .config((ctx) => {     ctx.set(rootCtx, document.querySelector('#app'));     ctx.set(defaultValueCtx, "## ç‚¹èµ+è¯„è®º+å…³æ³¨=å­¦ä¼š");   })   //...`

æ·»åŠ äº‹ä»¶:

css

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`npm i @milkdown/plugin-listener`

`@milkdown/plugin-listener`åˆ†åˆ«å¯¹åº”ä¸ƒä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š

äº‹ä»¶å

äº‹ä»¶æè¿°

beforeMount

æŒ‚è½½å‰

mounted

æŒ‚è½½å

updated

çŠ¶æ€æ›´æ–°

markdownUpdated

markdown æ›´æ–°

blur

å¤±ç„¦

focus

èšç„¦

destroy

é”€æ¯

javascript

 ä»£ç è§£è¯»

å¤åˆ¶ä»£ç 

`//... import { listenerCtx, listener } from "@milkdown/plugin-listener" Editor.make()   .config((ctx) => {     ctx.set(rootCtx, document.querySelector('#app'));     ctx.set(defaultValueCtx, "## ç‚¹èµ+è¯„è®º+å…³æ³¨=å­¦ä¼š");     //æ–°å¢     ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {       console.log(markdown);     });   })   //...`

å€ŸåŠ©ä¸Šè¿°äº‹ä»¶ï¼Œå¯ä»¥è‡ªå®šä¹‰è·å–å†…å®¹ç­‰åŠŸèƒ½ã€‚

Milkdownå®˜æ–¹è¿˜æœ‰å…¶ä»–åŠŸèƒ½æ’ä»¶ï¼Œä¾‹å¦‚ï¼šå›¾ç‰‡ä¸Šä¼ ç­‰ï¼Œæ–‡ç« ä¸é€ä¸€åˆ—ä¸¾äº†ã€‚

æ–‡ç« æ¼”ç¤ºä»£ç å·²å¼€æ”¾GitHub: [github.com/CatsAndMiceâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCatsAndMice%2Fmilkdown "https://github.com/CatsAndMice/milkdown")

ä¸‰ã€ç»“æŸè¯­
-----

åŸåˆ›ä¸æ˜“ï¼å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œ**ç‚¹èµ+è¯„è®º+å…³æ³¨**å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^\_^ã€‚