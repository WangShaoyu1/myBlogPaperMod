---
author: "aqiongbei"
title: "如何优雅的将消息推送到自己的微信"
date: 2024-08-14
description: "前言最近发现pushplus和server酱的推送增加了限制，还得认证，加之这俩平台免费数量较少，标题可用字少，于是琢磨着有啥别的渠道可以替换，搜寻良久，还真找到一个，操作简单，限制小，还免费。"
tags: ["程序员","微信"]
ShowReadingTime: "阅读3分钟"
weight: 269
---
前言
==

最近发现pushplus和server酱的推送增加了限制，还得认证，加之这俩平台免费数量较少，标题可用字数少，于是琢磨着有啥别的渠道可以替换，搜寻良久，还真找到一个，操作简单，限制小，标题可用字数多，最重要的是**还不要钱**，简直不要太爽，赶紧整理下分享出来。 采用本方案最终可以让你达到这样的效果：

1.  友好的推送样式![推送样式2.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1716e48d6fec4328813531a66392942b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXFpb25nYmVp:q75.awebp?rk3s=f64ab15b&x-expires=1727423845&x-signature=6WaTzqRxDLhPT86S7TBNnS0muzQ%3D)
2.  多多的内容支持：文本、markdown、图片、图文、文件、语音、模板卡片七种消息类型
3.  高高的频率限制，每个机器人发送的消息不能超过20条/分钟
4.  大大的平台，超高的稳定性，最重要的是妥妥的白嫖，简直不要太爽啊！

核心逻辑
====

核心逻辑很简单，利用企业微信内部群的群机器人自带的webhook功能实现消息推送到企业内部群，然后通过微信插件实现在微信中接收通知的功能。 听起来有点绕，但是做起来很简单，下面是具体的步骤。

操作步骤
====

注册企业微信（已有可略过）
-------------

在[企业微信官网](https://link.juejin.cn?target=https%3A%2F%2Fwork.weixin.qq.com%2F "https://work.weixin.qq.com/")或者企业微信app上注册都可以，类型自己选（我选的其他组织团体），但是**不要注册个人团队**，个人团队好像没有管理后台。目前是否认证对咱们使用推送功能没有影响，可以忽略。

创建机器人
-----

注册完了之后，我们自己的微信应该默认会在一个全员群里的，你可以直接在这个群里添加机器人，这个步骤在企业微信app可以操作（管理后天是否可以我没有尝试），步骤如下。 ![添加群聊机器人.jpg](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/035fdd6287e44a9a8910c4bae82fe038~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXFpb25nYmVp:q75.awebp?rk3s=f64ab15b&x-expires=1727423845&x-signature=4z5KZxblJOMEno7a16ZH7TecdZ0%3D) 添加之后我们会得到一个webhook地址，复制这个地址，按照[webhook文档](https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.work.weixin.qq.com%2Fdocument%2Fpath%2F91770%23%25E5%25A6%2582%25E4%25BD%2595%25E4%25BD%25BF%25E7%2594%25A8%25E7%25BE%25A4%25E6%259C%25BA%25E5%2599%25A8%25E4%25BA%25BA "https://developer.work.weixin.qq.com/document/path/91770#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E7%BE%A4%E6%9C%BA%E5%99%A8%E4%BA%BA")说明在我们程序中调用就行了。 到这一步我们可以在企业微信里接收消息了，当然，消息还是要在微信内查看才方便，所以我们还需要进行下面这项非常重要的操作。

开启微信内接收消息
---------

登录[企业微信管理后台](https://link.juejin.cn?target=https%3A%2F%2Fwork.weixin.qq.com%2Fwework_admin%2Fframe%23profile%2FwxPlugin "https://work.weixin.qq.com/wework_admin/frame#profile/wxPlugin")，一级菜单进入我的企业，选择微信插件，勾选页面上的\[允许成员在微信插件中接收和回复聊天消息\]选项，然后扫描二维码关注企业号。

![开启微信内接收消息.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/902b65faa22547778e5f9a13cb58ba21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXFpb25nYmVp:q75.awebp?rk3s=f64ab15b&x-expires=1727423845&x-signature=9PkDKGgvTn%2BVgAcRLnM8SshVswU%3D)

关注之后（关注过程可能还会有引导操作，按提示走就行）推送样式大概是这样的。

![推送样式.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85062e21a1e74db4bbbd9cfd2967f9a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXFpb25nYmVp:q75.awebp?rk3s=f64ab15b&x-expires=1727423845&x-signature=eSkZA%2F2kav4oBoMzZIrcqUmV2Ig%3D)

到此，步骤结束，之后再有推送消息就可以在微信里了，当不过你要新增机器人的话还是需要在企业微信操作的。

需要留意的点
------

1.  什么？你问我如何看webhook调用日志？我也不知道，文档没写。
2.  刚发现，在Mac的微信里，这个推送消息是不显示的，这让我很郁闷。Windows上的微信我没试，不知道能否显示。

总结
==

整个过程不复杂，按图操作即可，不得不说这生态内操作，使得整个过程甚为方便，甚至有些优雅，哈哈哈，另外这个群聊机器人的可玩性很高，可以继续拓展其他玩法。