---
author: "kingfine"
title: "开发一个能赚钱的小程序，微信换头像小程序，奉上源码"
date: 2022-07-29
description: "每年国庆节前，都会出现一段微信换头像热度，去年抖音也出现了国旗头像热。所以我也开发了一款制作头像的微信小程序，去年国庆期间最高日访问量(PV)曾达超过500+.微信小程序的流量广告功能也开通了(小程序"
tags: ["微信小程序","Canvas","前端"]
ShowReadingTime: "阅读2分钟"
weight: 873
---
携手创作，共同成长！这是我参与「掘金日新计划 · 8 月更文挑战」的第1天，[点击查看活动详情](https://juejin.cn/post/7123120819437322247 "https://juejin.cn/post/7123120819437322247")

前言：
---

> `@微信官网，给我头像加一面旗子!` `有一种红，叫中国红！`

每年国庆节前，都会出现一段微信换头像热度，去年抖音也出现了换头像热。所以我也开发了一款制作头像的微信小程序，去年国庆期间访问量也还可以.微信小程序的流量广告功能也开通了(小程序访问UV超过1000，即可开通)，后面就开始产生收益了。下面我把小程序的实现给大致描述下，并附上源码。代码逻辑很简单，只愿与君共勉！！

`废话不多说，直接上示例图，画面温馨，绝对是你想要的，这可是我拿来挣钱的代码🙈🙈！！`

示例图
---

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b3ff3de6b8f41aa9b82846e25da39b2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b077f70f7f3c4574840fb8e1eeedef7f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf46428bd4254e25be4b5b2ec44390b6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d9ad5c564114c878d17758352943546~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77aee1fa60fe49b29829253041d72cbc~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

🔥 [线上版本](https://link.juejin.cn?target=https%3A%2F%2Fp9-juejin.byteimg.com%2Ftos-cn-i-k3u1fbpfcp%2Fbd5b3ac496ee4904bec64e2c60569742~tplv-k3u1fbpfcp-watermark.image "https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bd5b3ac496ee4904bec64e2c60569742~tplv-k3u1fbpfcp-watermark.image")   🌈 [源码](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkingfront%2Fhead-maker-mini "https://github.com/kingfront/head-maker-mini")

功能
--

*   🚀 小程序原生框架、canvas开发
*   💪 支持获取微信头像进行制作
*   💪 支持本地图片导入进行裁剪
*   💪 支持插入自定义贴纸
*   💪 支持使用在线卡通头像
*   💪 支持生成朋友圈节日海报图
*   💪 支持预览制作后的头像，并保存到本地相册

项目目录
----

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/08e28ae00efa4579a03ffe3da1a64c13~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

大致流程
----

1.  初始化一个canvas头像画图
2.  获取微信用户信息授权，并保存到本地
3.  提示用户选择 头像贴纸
4.  点击预览，从canvas获取图片信息，并显示制作后的图片
5.  点击节日海报，把制作后的头像，放到海报上面，生成朋友圈海报
6.  抖音本地图片，选择图片后，对图片进行裁剪，然后才进入头像制作流程

部署注意
----

1.  贴纸、头像图片信息都存储在一台服务器上，需支持https
2.  静态资源包，在`/images/data`目录下，放到https服务器上即可，可自行修改
3.  开发环境：可打开不校验https证书配置
4.  正式环境：需要配置request域名、downloadFile合法域名

`注 ：示例中的接口、图片地址，仅为临时测试地址，正式环境使用时，请务必更换！！！`

结尾
--

后续会继续更新，手写识字等功能。别忘了给个 `star`哦

源码仓库地址：[点击前往](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkingfront%2Fhead-maker-mini "https://github.com/kingfront/head-maker-mini")

示例访问地址：[点击前往](https://link.juejin.cn?target=https%3A%2F%2Fp9-juejin.byteimg.com%2Ftos-cn-i-k3u1fbpfcp%2Fbd5b3ac496ee4904bec64e2c60569742~tplv-k3u1fbpfcp-watermark.image "https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bd5b3ac496ee4904bec64e2c60569742~tplv-k3u1fbpfcp-watermark.image")

> 示例接口地址、图片静态资源采用免费的[`vercel`](https://link.juejin.cn?target=https%3A%2F%2Fvercel.com%2F "https://vercel.com/")进行静态部署(速度很快)，想使用的小伙伴，加评论，后续更新教程💪💪