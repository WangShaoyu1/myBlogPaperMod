---
author: "王宇"
title: "疑问讨论-知识管理后台对接方案与对话管理能力"
date: 三月21,2023
description: "4、对话管理能力"
tags: ["4、对话管理能力"]
ShowReadingTime: "12s"
weight: 81
---
**一、关于知识管理后台在影子虚拟人平台的对接方案**
---------------------------

**现状：**

       虚拟人公司的后台系统包含虚拟人资源管理与AI配置、知识库、应用管理、运营管理的功能模块；按照对其技术的了解，其核心能力在虚拟人智能驱动引擎（唇形匹配、动画驱动等），知识管理能力也是其集成国内其他第三方厂家能力后，再为影子提供。

       那么，假如由虚拟人公司集成知识管理的模块在其后台系统提供给影子，影子可以直接使用该后台搭建部分自有知识库；但如需将知识管理能力对外提供给服务商使用，鉴于虚拟人公司不支持我方对其系统进行二次开发的情况，影子需要再包装一层才能将该能力提供给服务商，数据对接是否会比较复杂。

![](/download/attachments/97894418/SDK%E5%AF%B9%E6%8E%A5%E6%83%85%E5%86%B5.png?version=1&modificationDate=1679387310188&api=v2)

（仅为个人用于业务梳理的理解，实际对接方式可能存在少量区别）

**疑问：**

1、是否需要和虚拟人公司沟通集成方式，知识管理本身也是其集成第三方提供的能力，后续是否可以直接集成到影子虚拟人运营管理平台上，需要影子开放给服务商的能力，可以比较简单的进行开发，避免多次对接；

2、目前工作仅进行到和炉对接，目前讯飞SDK（ASR/TTS服务）直接在炉上集成，后续是否需要调整。

  

**二、关于对话管理能力的需求**
-----------------

**现状：**

虚拟人公司当前提供的知识管理能力：  
1、指令库：通过定制语音指令进行任务执行的解决，支持关联多个词槽；  
2、FAQ问答库：一问一答的对话能力；基于检索+召回答案相似度排序，业内常用方案；  
3、接入第三方chatbot：目前给的SDK接了科大讯飞的闲聊库；  
4、回复聚合/召回排序：按照不同知识库的优先级排序，返回优先级较高的知识库的回复。

![](/download/attachments/97894418/%E5%BD%B1%E5%AD%90%E8%99%9A%E6%8B%9F%E4%BA%BA%E5%AF%B9%E8%AF%9D%E7%AE%A1%E7%90%86.png?version=1&modificationDate=1679388976596&api=v2)

**讨论：**  
1、当前提供的对话管理能力，仅支持按照配置的知识库进行问句分发，根据设置的优先级返回优先级较高的知识库的回复。以上图为例，如果虚拟人配置了厨师指令库、厨师问答库、闲聊技能三个知识库，DM模块收到文本输入后，分发给三个知识库，三个知识库分别给出置信度符合设置阈值的回复1、2、3、4（其中回复1置信度大于回复2）；

假如在对话管理中，设置优先级厨师指令库＞厨师问答库＞闲聊库，那么对话管理输出的回复就是回复1；  
假如在对话管理中，设置优先级厨师问答库＞厨师指令库＞闲聊库，那么对话管理输出的回复就是回复3；

可以看出，这样基于优先级排序的对话管理能力是非常薄弱的；当影子虚拟人配置的知识库数量较大，需要把文本传到每一个知识库然后按照优先级进行生硬的排序，即无法结合上下文的对话状态、对用户意图进行预判及分发的策略管理以减少处理工作量，也无法对召回的回复进行精排。

对应的，我们需要什么样的对话管理能力，如何获得该能力？寻求第三方合作，还是自行进行相关算法的开发。此时还需要关注多面体工具的存在，在设计上多面体工具可以存储各类场景数据，天然的适合用于用户意图识别的处理（又或者本就是为此设计），那么需要怎么结合？

2、当前提供的问答库的能力即FAQ问答库，可以解决大部分的简单问句，给出静态知识的解答，它基于检索+召回答案相似度排序，是业内常用方案，适用于进行常见客观知识的查询需求，但它无法解决更精准、更复杂的问题。

在FAQ之外，目前存在着基于基于文档的问答技能、基于表格的问答技能，以及基于知识图谱的KBQA Bot。KBQA的全称是基于知识库问答（Knowledge Base Question Answering），即给定自然语言问题，通过对问题进行语义理解和解析，进而基于知识图谱构建的知识库进行查询、推理得出答案。相比于FAQ，基于垂直领域相对固定边界的知识图谱，可以更好地理解用户的需求，当用户查询时，可以返回更为精准、结构化、直接的结果。现阶段下，无论是通用图谱还是领域图谱，业界对简单问答的效果都达到了一个比较好的水平，而在特定场景的领域图谱中，经过梳理，复杂问答特别是推理形式的问答也是可以达到一个比较可以好的效果。

在问答交互场景，除了直接使用知识图谱进行查询外，还可以将知识图谱构建与检索模型相结合来进行核心匹配系统的设计，可以得到更优结果。（阿里小蜜，通过构建知识图谱，并运用KG的关系运算，如实体上下位关系做品类/属性识别和推理。平安寿险的问答系统，在问题扩展和排序模型中均融入了知识图谱，实验表明效果更优）

当然，基于知识图谱的KBQA有两大难点：知识图谱的构建；把用户问题转化为知识图谱上的查询语言。

     1）知识图谱简单的构建流程是：数据爬取——数据解析（实体、关系、属性）——数据插入——关系建立  
     2）转化为查询语言的实现流程可以简化为：意图识别——实体识别——属性识别——问题分类

与上一问题一样的，我们还需要什么样的问答能力，如何获得相关能力，相关的能力怎么结合C盘业务来更好构建与使用？  

  

参考阅读：  
1、[对话系统简介与小布助手的工程实践](https://mp.weixin.qq.com/s?__biz=Mzg4MzE2MzY1OA==&mid=2247485749&idx=1&sn=5f549bd865d2a5138c7cab7d38ecc0d5&chksm=cf4ade50f83d5746a426217fe9c131769599e007b682ee830be21c69cffe454cc8e6569d310b&token=367130172&lang=zh_CN#rd)  
2、[小布助手算法系统的探索、实践与思考](https://mp.weixin.qq.com/s/Kk1vu5vdwfSET0Sy86XQZQ)  
3、[对话交互：封闭域任务型与开放域闲聊算法技术](https://mp.weixin.qq.com/s?__biz=Mzg4MzE2MzY1OA==&mid=2247485867&idx=1&sn=348dae22494c17458bc02063794f7a3f&chksm=cf4adecef83d57d8c68e7be1731df538a7d432269e1e93bada02b1b83da962661a9d1128f505&token=1645403557&lang=zh_CN#rd)  

  

[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)

[Configure buttons visibility](/users/tfac-settings.action)