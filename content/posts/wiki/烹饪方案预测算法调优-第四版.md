---
author: "王宇"
title: "烹饪方案预测算法调优-第四版"
date: 十月31,2023
description: "烹饪方案预测语音技能"
tags: ["烹饪方案预测语音技能"]
ShowReadingTime: "12s"
weight: 726
---
调优条件：

*   所用模型：xgb-xgboost。
*   所用特征：主料（包含或不包含水类）重量m\_main、主料水分含量water\_main（\*m\_main）、蛋白质含量protein\_main（\*m\_main）、脂肪含量fat\_main（\*m\_main）、碳水化合物含量carb\_main（\*m\_main）、升温热量（包含或不包含水类）、水类平均重量water\_weight\_mean、烹饪方式。
*   数据筛选（PGC+UGC，1144条）：烹饪方式为'粥', '汤', '焖炖', '煮', '粥，淖水', '汤，淖水', '焖炖，淖水', '煮，淖水', '粥，煮', '汤，煮'，熟化热量负值占比小于2%，比热容完全匹配+近似匹配，主料（不少于最大辅料重量20 g或用户自定义）有效重量（比热容不缺失）占比70%以上。

1\. 总热量预测算法调优记录
===============

所用特征

测试结果

  

备注

主料重量

水分含量

蛋白质含量

脂肪含量

碳水化合物含量

升温热量

水类平均重量

烹饪方式

R2值

总热量误差20%内

500 W 时长偏差2 min 内

总热量误差\[-30%，50%\]

×

绝对含量

绝对含量

绝对含量

绝对含量

含水

×

√

0.966

93.01%

91.43%

99.21%

type0，Q\_error\_max 0.9324994612068965 T\_error\_max 1142.831375

√

绝对含量

绝对含量

绝对含量

绝对含量

含水

×

√

0.947

88.29%

84.70%

98.86%

type1，Q\_error\_max 0.9365651939655173 T\_error\_max 1246.238

含水

绝对含量

绝对含量

绝对含量

绝对含量

含水

×

√

0.973

95.02%

92.31%

99.74%

type2，Q\_error\_max 0.8452702047413793 T\_error\_max 1086.49925

含水

绝对含量

绝对含量

绝对含量

绝对含量

×

×

√

0.964

94.23%

90.30%

99.48%

type，Q\_error\_max 0.7691628707627118 T\_error\_max 1175.556125

√

绝对含量

绝对含量

绝对含量

绝对含量

不含水

×

√

  

  

  

  

  

×

绝对含量

绝对含量

绝对含量

绝对含量

不含水

×

√

  

  

  

  

  

含水

百分含量

百分含量

百分含量

百分含量

×

×

√

0.970

94.32%

88.90%

99.56%

type3，Q\_error\_max 0.7125901041666667 T\_error\_max 791.0435

含水

百分含量

百分含量

百分含量

百分含量

不含水

×

√

0.959

91.87%

88.46%

99.13%

type4，Q\_error\_max 0.7298372616525424 T\_error\_max 1231.86125

√

百分含量

百分含量

百分含量

百分含量

含水

×

√

  

  

  

  

  

×

百分含量

百分含量

百分含量

百分含量

含水

×

√

  

  

  

  

  

含水

百分含量

百分含量

百分含量

百分含量

含水

×

√

0.965

91.26%

86.80%

99.21%

type5，Q\_error\_max 0.7606535373263889 T\_error\_max 831.0995

2\. 熟化热量预测算法调优记录
================

所用特征

测试结果

  

备注

主料重量

水分含量

蛋白质含量

脂肪含量

碳水化合物含量

升温热量

水类平均重量

烹饪方式

R2值

总热量误差20%内

500 W 时长偏差2 min 内

总热量误差\[-30%，50%\]

×

绝对含量

绝对含量

绝对含量

绝对含量

含水

×

√

0.889

84.97%

80.51%

98.08%

Q\_error\_max 0.973358432112069 T\_error\_max 1275.84535

√

绝对含量

绝对含量

绝对含量

绝对含量

含水

×

√

0.903

86.80%

82.87%

98.86%

Q\_error\_max 1.140055992063492 T\_error\_max 1193.5759750000002

含水

绝对含量

绝对含量

绝对含量

绝对含量

含水

×

√

0.926

88.29%

85.66%

98.78%

model1，Q\_error\_max 1.272014682112069 T\_error\_max 1277.999475

含水

绝对含量

绝对含量

绝对含量

绝对含量

×

×

√

0.896

85.05%

81.12%

97.38%

model2，Q\_error\_max 1.38827559 T\_error\_max 1396.7128500

√

绝对含量

绝对含量

绝对含量

绝对含量

不含水

×

√

  

  

  

  

  

×

绝对含量

绝对含量

绝对含量

绝对含量

不含水

×

√

  

  

  

  

  

含水

百分含量

百分含量

百分含量

百分含量

×

×

√

0.968

94.58%

92.83%

99.65%

model3，Q\_error\_max 0.7797913 T\_error\_max 849.4821

含水

百分含量

百分含量

百分含量

百分含量

不含水

×

√

0.920

89.51%

85.23%

98.95%

model4，Q\_error\_max 0.788161956 T\_error\_max 1349.714725

√

百分含量

百分含量

百分含量

百分含量

含水

×

√

0.915

88.11%

82.87%

99.13%

model5，Q\_error\_max 0.8204699228395 T\_error\_max 1213.311225

×

百分含量

百分含量

百分含量

百分含量

含水

×

√

0.907

87.67%

84.18%

98.51%

Q\_error\_max 1.1010142780172414 T\_error\_max 1430.636475

含水

百分含量

百分含量

百分含量

百分含量

含水

×

√

0.906

85.31%

83.22%

97.90%

Q\_error\_max 1.4049183728448276 T\_error\_max 1429.9297250000002

3\. 模型泛化能力对比
============

### 3.1.1. 重量泛化能力测试记录（单一食材）

食材

重量(g)

食材总重量(g)

预测功率(w)

总热量预测模型计算时长(s)

熟化热量预测模型计算时长(s)

熟化热量预测模型3计算时长(s)

type2

model1

model2

model3

model4

鸡翅  
  
  
  
  
  
  
  
  

3000

3000

800  
  
  
  
  
  
  
  
  

890

2040

2020

1530

2010

1690

1730

1640

2500

2500

880

1880

1860

1530

1840

1520

1560

1470

2000

2000

880

1740

1660

1130

1350

1370

1400

1310

1500

1500

890

1460

1460

1430

1460

1660

1660

1480

1000

1000

840

950

740

830

920

970

1100

760

500

500

440

610

620

550

550

490

520

560

200

200

190

250

330

240

220

250

300

280

100

100

200

150

260

140

120

130

230

220

50

50

140

120

220

140

110

120

200

170

### 3.1.2. 重量泛化能力测试记录（两种食材）

食材1

重量1(g)

食材2

重量2(g)

食材总重量(g)

预测功率(w)

总热量预测模型计算时长(s)

熟化热量预测模型计算时长(s)

模型3计算时长(s)

type2

model1

model2

model3

model4

豆角  
  
  
  
  
  
  
  
  

1500

猪肉（瘦）  
  
  
  
  
  
  
  
  
  

1500

3000

800  
  
  
  
  
  
  
  
  
  

850

2150

2420

1450

2050

1720

1970

1960

1000

1500

2500

850

1940

2290

1500

1900

1600

1700

1690

1500

1000

2500

810

1800

1800

1440

1810

1490

1520

1570

1000

1000

2000

810

1600

2100

1250

1490

1390

1600

1580

500

1000

1500

810

1420

1860

1550

1440

1580

1670

1570

800

500

1300

480

1110

1240

1170

1120

1300

1170

1140

500

500

1000

480

770

1450

1030

930

1020

1110

1060

200

200

400

330

320

430

310

320

360

400

320

100

100

200

160

170

240

180

200

200

310

290

50

50

100

140

150

210

340

300

260

390

340

25

25

50

150

120

220

150

130

190

360

280

### 3.1.3. 重量泛化能力测试记录（汤类）

食材1

重量1(g)

食材2

重量2(g)

食材总重量(g)

第二版模型预测热量

模型3预测熟化热量

模型4预测熟化热量

type2

model1

model2

model3

备注

鲈鱼  
  
  
  
  
  
  
  

1500

水  
  
  
  
  
  
  
  
  
  

1500

3000

570129.35728

864640.82083

672000.25

370711

799896

539232

600134

焖炖

1000

1500

2500

575399.22064

741142.055547

809788.25

637170

886664

606895

600134

  

1500

1000

2500

749364.0

864640.82083

840000.25

538711

799896

539232

600134

  

1000

1000

2000

575399.22064

741142.055547

628592.625

610404

757583

606895

600134

  

500

1000

1500

579720.59264

633378.877585

878251.875

894053

891681

918487

827236

汤

800

500

1300

519324.96992

486713.573585

659060.95

551192

518720

513129

702012

  

500

500

1000

331433.948

497652.865811

577173.75

780971

662763

668024

627408

  

100

500

600

162682.22976

461473.241811

397640.4

240178

251586

270273

433202

汤

500

100

600

292893.176

359228.369811

362279.0625

385566

365088

397078

476243

  

100

200

300

112181.78672

256396.415094

245633.36875

164201

158815

107340

276530

汤

200

100

300

144647.836114

299379.117585

240703.675

328819

358967

300348

289502

  

100

100

200

99254.41648

253353.100377

167680.946875

160814

160027

141206

265310

  

50

50

100

92046.40144

160720.049962

147876.184375

141775

123914

142241

203790

  

25

25

50

78902.11808

147805.253736

140140.053125

73177

93584

145767

200580

  

### 3.1.4. 烹饪方式泛化能力测试记录

食材1

重量1(g)

食材2

重量2(g)

食材总重量(g)

烹饪方式

熟化热量预测模型计算结果（模型3）

熟化热量预测模型计算结果

总热量预测模型计算结果

type2

model1

model2

model3

备注

稻米（代表值）

100

水

600

700

粥

阶段1：800 W，270 s

阶段2：300 W，1690 s

阶段1：800 W，270 s

阶段2：450 W，820 s

阶段1：800 W，270 s

阶段2：300 W，1530 s

1810

1820

1740

1580

属于人为复验熟的粥，模型3预测热量更多，粥能更加软烂。

绿豆

100

水

600

700

汤

阶段1：800 W，270 s

阶段2：300 W，1590 s

阶段1：800 W，270 s

阶段2：450 W，710 s

阶段1：800 W，270 s

阶段2：300 W，1340 s

1950

1960

1800

1430

属于复验熟（不烂）的绿豆汤，模型3预测热量更多，绿豆能更加软烂。

### 3.1.5. 食材泛化能力测试记录

食材1

重量1(g)

食材2

重量2(g)

食材总重量(g)

熟化热量预测模型计算结果（模型3）

熟化热量预测模型计算结果

总热量预测模型计算结果

type2

model1

model2

model3

备注

玉米（鲜）

483

  

  

483

阶段1：800 W，360 s

  

阶段1：800 W，410 s

  

阶段1：800 W，330 s

  

350

370

360

310

属于初次验证熟的烹玉米，前后差别不大。

猪肉（代表值，fat30g）

76

马铃薯

200

276

阶段1：800 W，290 s

  

阶段1：800 W，240 s

  

阶段1：800 W，240 s

  

260

280

310

300

属于初次验证熟的土豆丝炒瘦肉，前后差别不大。

豆腐（代表值）

245

  

  

245

阶段1：800 W，380 s

  

阶段1：800 W，190 s

  

阶段1：800 W，390 s

  

300

300

280

460

属于初次验证熟的煎豆腐，新模型烹饪时间较长，能煎得更入味。

千张

260

  

  

260

阶段1：800 W，360 s

  

阶段1：800 W，400 s

  

阶段1：800 W，320 s

  

360

340

310

290

属于初次验证过熟的素炒千张，前后差别不大。

猪肉（代表值，fat30g）

80

胡萝卜

144

224

阶段1：800 W，220 s

  

阶段1：800 W，240 s

  

阶段1：800 W，230 s

  

220

240

280

250

属于初次验证熟的胡萝卜肉丝（胡萝卜脆），前后差别不大。

猪肉（奶脯）

206

  

  

206

阶段1：800 W，490 s

  

阶段1：800 W，290 s

  

阶段1：800 W，470 s

  

350

320

370

460

属于初次验证烤焦的烤五花肉，模型3烹饪时间更久一些，预计仍会烤焦。

鸡肫

280

  

  

280

阶段1：800 W，340 s

  

阶段1：800 W，280 s

  

阶段1：800 W，340 s

  

390

390

380

430

属于初次验证熟的小炒鸡肾，前后差别不大。

鲈鱼

760

  

  

760

阶段1：800 W，770 s

  

阶段1：800 W，580 s

  

阶段1：800 W，720 s

  

620

620

670

760

属于初次验证熟的清蒸鲈鱼，新模型烹饪时长久一些。

河蟹

295

  

  

295

阶段1：800 W，350 s

  

阶段1：800 W，280 s

  

阶段1：800 W，420 s

  

310

310

340

460

属于初次验证熟的清蒸河蟹，前后差别不大。

章鱼

250

  

  

250

阶段1：800 W，310 s

  

阶段1：800 W，240 s

  

阶段1：800 W，280 s

  

230

220

250

290

属于复验合格的八爪鱼，前后差别不大。

猪肉（肋条肉）

300

  

  

300

阶段1：800 W，330 s

  

阶段1：800 W，440 s

  

阶段1：800 W，350 s

  

390

390

440

330

属于初次验证过熟的豉汁排骨，新模型烹饪时长短一些，预计不会过熟。

莴笋（鲜）

250

  

  

250

阶段1：800 W，130 s

  

阶段1：800 W，140 s

  

阶段1：800 W，130 s

  

120

130

130

120

属于初次验证熟的清烹莴笋（脆），新模型无变化。

鸡蛋（代表值）

135

苦瓜（鲜）

80

215

阶段1：650 W，100 s

阶段2：450 W，230 s

阶段1：650 W，100 s

阶段2：450 W，170 s

阶段1：650 W，100 s

阶段2：450 W，150 s

100

170

210

170

属于人为验证过熟的苦瓜鸡蛋，新模型烹饪时长久一些，预计仍然会过熟。

鸡蛋（代表值）

180

大葱

50

230

阶段1：500 W，140 s

阶段2：300 W，240 s

阶段1：500 W，140 s

阶段2：300 W，360 s

阶段1：500 W，140 s

阶段2：300 W，260 s

450

340

350

160

属于人为验证过熟的酱卧鸡蛋，新模型烹饪时长短很多，预计不会过熟。

鸡蛋（代表值）

50

  

  

50

阶段1：300 W，600 s

  

阶段1：500 W，30 s

阶段2：300 W，230 s

阶段1：300 W，410 s

  

360

370

450

370

属于复验焦的荷包蛋，模型3烹饪所需热量更多，预计仍会焦。

红薯叶

80

  

  

80

阶段1：800 W，230 s

  

阶段1：800 W，130 s

  

阶段1：800 W，240 s

  

100

110

140

150

属于复验过熟的清烹红薯叶，模型3烹饪所需热量更多，预计仍会过熟。

面条

85

水

858

943

阶段1：800 W，380 s

阶段2：300 W，2140 s

阶段1：800 W，380 s

阶段2：450 W，1090 s

阶段1：800 W，380 s

阶段2：300 W，1250 s

2020

2160

1250

1520

汤，属于人为验证焦的煮面条，新模型烹饪时长久很多，预计仍会焦。

板栗

325

  

  

325

阶段1：800 W，280 s

  

阶段1：800 W，380 s

  

阶段1：800 W，260 s

  

370

330

360

280

属于人为验证不熟的烤板栗，新模型烹饪时长短一些，预计仍会不熟。

鸡爪

400

水

100

500

阶段1：800 W，630 s

  

阶段1：800 W，670 s

  

阶段1：800 W，510 s

  

590

590

600

510

焖炖，属于人为验证过熟的红烧鸡爪，新模型烹饪时长短一点，预计不会过熟。

鸡毛菜

200

  

  

200

阶段1：800 W，240 s

  

阶段1：800 W，190 s

  

阶段1：800 W，180 s

  

230

210

200

160

属于人为验证过熟的蒜蓉鸡毛菜，新模型烹饪时长久一些，预计仍会过熟。

火腿肠

250

  

  

250

阶段1：800 W，290 s

  

阶段1：800 W，310 s

  

阶段1：800 W，210 s

  

240

250

270

200

属于人为验证过熟的烤火腿肠，新模型烹饪时长短一点，预计仍不会过熟。

  

[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)

[Configure buttons visibility](/users/tfac-settings.action)