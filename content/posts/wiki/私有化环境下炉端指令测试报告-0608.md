---
author: "王宇"
title: "私有化环境下炉端指令测试报告-0608"
date: 六月08,2023
description: "5、指令测试小结"
tags: ["5、指令测试小结"]
ShowReadingTime: "12s"
weight: 651
---
**1、测试环境**
==========

2401办公室，无环境噪音，机器未启动，声源距离麦克风约100CM。

**2、测试结果及数据分析**
===============

T1，识别正确，回复正确

T2，部分识别错误，回复正确（标注识别错误类型）

T3，带小写数字的指令，识别正确，追问

F1，识别错误，兜底回复（标注识别错误类型）

F2，识别正确，兜底回复

F3，识别正确，执行问答

F4，识别错误，执行问答

F5，识别正确，无回复

F6，识别错误，回复另一指令

F7，词槽测试，实体asr识别错误，发起追问

F8，词槽测试，实体asr识别错误，无追问

2.1 测试结果汇总
----------

### 2.1.1 配置到炉端的测试方案

将指令梳理接入的38条指令和与产品沟通的接入可能性较大的12条指令，根据指令工作指南进行相似话术撰写之后，导入到一个新的指令库，发布到虚拟人万得安角色上，进行标准的相似话术测试。其中关于问答也配置到万得安角色上。其中优先级按照如下顺序：指令阈值设置0.90，FAQ设置阈值0.80，角色属性&寒暄话术阈值0.95，闲聊，兜底。

  

  

测试总数

结果类型

汇总

  

T1

T2

T3

F1

F2

F3

F4

F5

F6

F7

F8

T数量

**T比例**

F数量

**F比例**

**指令**

416

325

28

21

6

5

21

5

1

3

1

/

374

**89.90%**

42

**11.1%**

**词槽**

84

61

3

/

/

/

13

2

/

/

2

3

64

**76.19%**

20

**23.81%**

总数

500

386

31

21

6

5

34

7

1

3

3

3

438

/

62

/

比例

  

77.20%

6.20%

4.20%

1.20%

1.00%

**6.80%**

**1.40%**

0.20%

0.60%

0.60%

0.60%

/

**87.6%**

/

**12.4%**

分析：指令和词槽在100CM识别范围中，主要影响总的正确率因素是在指令识别正确之后匹配到问答及极少部分闲聊。

### 2.1.2 ASR测试方案

使用万得美角色，使用【中文指令】库，没有将50条指令接入到虚拟人中，仅仅通过ASR测试识别指令情况。

类型

总数

识别正确

识别错误

整体准确率

指令

asr测试

409

371

38

0.99

置信度测试  
(asr识别错误语句）

38

34

4

词槽

asr测试

211

174

37

0.90

置信度测试  
(asr识别错误语句）

37

17

21

汇总

asr测试

620

545

75

0.96

置信度测试  
(asr识别错误语句）

75

51

25

### 2.1.3 测试过程数据

[指令炉端asr测试结果-20230608.xlsx](/download/attachments/101841554/%E6%8C%87%E4%BB%A4%E7%82%89%E7%AB%AFasr%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C-20230608.xlsx?version=1&modificationDate=1686227929512&api=v2)

2.2 ASR识别错误结果排查分析
-----------------

对于接入炉端指令，统计出ASR识别错误导致指令词槽识别错误的为21条（F1,F4,F6,F7,F8）。其中指令14条，词槽7条。

序号

排查结果类型

数量（条）

占比

占总数比例

序号

排查结果类型

数量（条）

占比

占总数比例

1

指令：命中指令，置信度>0.9

1

4.76%

0.2%

2

指令：命中指令，置信度<0.9

4

19.05%

0.8%

3

指令：命中其他指令

8

38.09%

1.6%

4

指令：没有命中词槽进行追问

1

4.76%

0.2%

5

词槽：命中指令，命中词槽

2

9.52%

0.4%

6

词槽：命中指令，泛化实体

2

9.52%

0.4%

7

词槽：命中指令，追问

3

14.28%

0.6%

总的来说，由于ASR识别错误导致语义错误，从而识别指令置信度降低或者识别到了其它指令。词槽识别错误主要集中在食品名称。

2.3 ASR识别错误字词汇总
---------------

序号

原字/词

错误识别结果

错误累计出现次数

序号

原字/词

错误识别结果

错误累计出现次数

1

万得厨

万得出

1

2

微波

微博

1

3

烹饪码

烹饪吧

1

4

详情页

想企业

1

5

放映

放一

4

6

息灭

熄灭

3

7

息屏

熄屏

/

8

第X步，下一步

第X部，下一部

5

9

中止

终止

3

10

滑到

滑道

2

2.4 优化思路
--------

**asr识别上：**

1、添加热词

*   高频出现且asr容易识别成同音字的词语
*   字母、数字大小写
*   常见的词槽实体，包括食材、食品名称、食谱名称

2、指令话术优化，添加相似问

*   asr容易识别成同音字的词语

3、添加实体别名

*   食品名称
*   食谱名称
*   数字大小写

**指令识别上：**

1、整理asr识别正确但没有匹配到正确指令的情况，找杭州公司排查原因

  

  

  

  

  

  

  

  

  

  

  

[Filter table data](#)[Create a pivot table](#)[Create a chart from data series](#)

[Configure buttons visibility](/users/tfac-settings.action)