---
author: "ç‹å®‡"
title: "å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡"
date: åäºŒæœˆ07,2023
description: "å±ç«¯æ•°å­—å‘˜å·¥"
tags: ["å±ç«¯æ•°å­—å‘˜å·¥"]
ShowReadingTime: "12s"
weight: 551
---
1.

*   1[1.](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-)
*   2[2\. å¼•è¨€](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å¼•è¨€)
    *   2.1[2.1. èƒŒæ™¯](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-èƒŒæ™¯)
    *   2.2[2.2. ç›®æ ‡](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-ç›®æ ‡)
    *   2.3[2.3. ç›¸å…³èµ„æ–™](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-ç›¸å…³èµ„æ–™)
        *   2.3.1[2.3.1. æ¥å£æ–‡æ¡£](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-æ¥å£æ–‡æ¡£)
*   3[3\. æ€»ä½“è®¾è®¡](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-æ€»ä½“è®¾è®¡)
    *   3.1[3.1. è¿è¡Œç¯å¢ƒ](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è¿è¡Œç¯å¢ƒ)
    *   3.2[3.2. æŠ€æœ¯æ ˆé€‰å‹](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-æŠ€æœ¯æ ˆé€‰å‹)
*   4[4\. åŠŸèƒ½è®¾è®¡](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-åŠŸèƒ½è®¾è®¡)
    *   4.1[4.1. è™šæ‹Ÿäººå¼•å…¥](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è™šæ‹Ÿäººå¼•å…¥)
        *   4.1.1[4.1.1. å¼•å…¥ç¬¬ä¸‰æ–¹sdk](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å¼•å…¥ç¬¬ä¸‰æ–¹sdk)
        *   4.1.2[4.1.2. èµ„æºæ–‡ä»¶](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-èµ„æºæ–‡ä»¶)
        *   4.1.3[4.1.3. åˆå§‹åŒ–è™šæ‹Ÿäººå®ä¾‹](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-åˆå§‹åŒ–è™šæ‹Ÿäººå®ä¾‹)
        *   4.1.4[4.1.4. Â å…¶ä»–åˆå§‹åŒ–](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å…¶ä»–åˆå§‹åŒ–)
            *   4.1.4.1[4.1.4.1. FTTè™šæ‹Ÿäººåˆ‡æ¢ï¼Œ](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-FTTè™šæ‹Ÿäººåˆ‡æ¢ï¼Œ)
    *   4.2[4.2. è¯­éŸ³è¯†åˆ«äº¤äº’](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è¯­éŸ³è¯†åˆ«äº¤äº’)
        *   4.2.1[4.2.1. Â è¾…åŠ©å·¥å…·](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è¾…åŠ©å·¥å…·)
*   5[5\. æœ¬åœ°è°ƒè¯•](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-æœ¬åœ°è°ƒè¯•)
    *   5.1[5.1. è·¨åŸŸ](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è·¨åŸŸ)
    *   5.2[5.2. è°ƒè¯•å½•éŸ³æ¥å£](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è°ƒè¯•å½•éŸ³æ¥å£)
*   6[6\. ä¸šåŠ¡åŠŸèƒ½](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-ä¸šåŠ¡åŠŸèƒ½)
    *   6.1[6.1. å”¤é†’é€»è¾‘](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å”¤é†’é€»è¾‘)
        *   6.1.1[6.1.1. ä»£ç æµç¨‹](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-ä»£ç æµç¨‹)
            *   6.1.1.1[6.1.1.1. å…¥å£å®šä¹‰](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å…¥å£å®šä¹‰)
            *   6.1.1.2[6.1.1.2. .å”¤é†’åé€»è¾‘](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-.å”¤é†’åé€»è¾‘)
            *   6.1.1.3[6.1.1.3. æ‹¾éŸ³æµç¨‹ï¼Œå…¼å®¹å¤–å£³å”¤é†’](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-æ‹¾éŸ³æµç¨‹ï¼Œå…¼å®¹å¤–å£³å”¤é†’)
        *   6.1.2[6.1.2. å”¤é†’å¤±æ•ˆ](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å”¤é†’å¤±æ•ˆ)
        *   6.1.3[6.1.3. å”¤é†’æ‰“æ–­](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å”¤é†’æ‰“æ–­)
    *   6.2[6.2. å¿«æ·æé—®](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å¿«æ·æé—®)
        *   6.2.1[6.2.1. 1.å±•ç¤ºå½¢å¼](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-1.å±•ç¤ºå½¢å¼)
            *   6.2.1.1[6.2.1.1. ä½¿ç”¨æŠ€æœ¯](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-ä½¿ç”¨æŠ€æœ¯)
        *   6.2.2[6.2.2. 2.äº¤äº’èƒ½åŠ›](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-2.äº¤äº’èƒ½åŠ›)
    *   6.3[6.3. åŠŸèƒ½é¡µ](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-åŠŸèƒ½é¡µ)
        *   6.3.1[6.3.1. ç‰¹æ®Šå¤„ç†](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-ç‰¹æ®Šå¤„ç†)
        *   6.3.2[6.3.2. å•†å“æŸ¥è¯¢](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å•†å“æŸ¥è¯¢)
        *   6.3.3[6.3.3. æ¶ˆè´¹æµç¨‹](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-æ¶ˆè´¹æµç¨‹)
        *   6.3.4[6.3.4. å“ç‰Œå®£ä¼ ](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-å“ç‰Œå®£ä¼ )
    *   6.4[6.4. è™šæ‹Ÿäººäº¤äº’](#id-å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡-è™šæ‹Ÿäººäº¤äº’)




============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================

2\. å¼•è¨€
======

2.1. èƒŒæ™¯
-------

Â  Â  Â  Â  åœ¨é£Ÿå“äº’è”ç½‘äº§å“èƒ½åŠ›ä¸ä¸‡å¾—å¨ç¡¬ä»¶èƒ½åŠ›ç»“åˆæ‰“é€ çš„è½¯ç¡¬ä»¶ä¸€ä½“åŒ–çš„äº§å“å‘å±•æ¯”è¾ƒå¥å…¨æˆç†Ÿçš„æƒ…å†µä¸‹ï¼Œä¸ºäº†æ›´å¥½çš„æ‰“é€ äº§å“çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œç»™ç”¨æˆ·æ›´å®Œæ•´å…¨é¢çš„ä½¿ç”¨ä½“éªŒï¼ŒåŒæ—¶ä¹Ÿä¸ºäº†æ”¾å¤§äº§ä¸šçš„ä»·å€¼ï¼Œæ‰€ä»¥éœ€è¦å€ŸåŠ©AIäº§å“çš„èƒ½åŠ›ï¼Œäºæ˜¯å°±æå‡ºäº†è™šæ‹Ÿæ•°å­—äººä¸ä¸‡å¾—å¨æ·±å…¥ç»“åˆèµ°æ•´åˆç¤¾ä¼šåŒ–èµ„æºçš„å½±å­è™šæ‹Ÿæ•°å­—äººçš„äº§ä¸šå»ºè®¾é€»è¾‘ï¼Œå¹¶ç»“åˆâ€œæ•¬è€ã€çˆ±å¹¼ã€åŠ©æ®‹â€çš„æ•´ä½“äº§å“ã€è¿è¥æˆ˜ç•¥æ€æƒ³ï¼Œäº§å“å®šä½ä¸ºæ˜¯è¿è¡Œåœ¨ä¸‡å¾—å¨è®¾å¤‡å’Œä¸‡å¾—å¨APPä¸Šçš„æ™ºèƒ½ä¸“äº«å¨å¸ˆï¼Œè®©äººäººéƒ½æœ‰ä¸“äº«å¨å¸ˆï¼Œèµ‹èƒ½é›†å›¢æ•´ä¸ªCç›˜ï¼Œå®ç°"äººäººä¸ºæˆ‘ï¼Œæˆ‘ä¸ºäººäººâ€œçš„æ ¸å¿ƒç†å¿µã€‚

Â Â  Â  Â  åœ¨å¤§æ•°æ®ã€äº‘è®¡ç®—ã€ç®—æ³•ç­‰æ ¸å¿ƒæŠ€æœ¯éƒ½å‘å±•çš„æ¯”è¾ƒæˆç†Ÿçš„ç¯å¢ƒä¸‹ï¼Œå„è¡Œå„ä¸šå¯¹äºè™šæ‹Ÿæ•°å­—äººçš„æŠ•å…¥ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œæœªæ¥å·²æ¥ï¼ŒAIäº’è”ç½‘çš„æ°”æ¯å·²ç»æ— å¤„ä¸åœ¨ï¼Œä¹Ÿå·²ç»æ¼”åŒ–æˆäº†åŸºç¡€å±‚ã€å¹³å°å±‚ã€åº”ç”¨å±‚çš„ç”Ÿæ€ç¯å¢ƒï¼Œæ‰€ä»¥æœ‰è¶³å¤Ÿå¤šçš„èƒ½åŠ›æ”¯æŒæˆ‘ä»¬åšè™šæ‹Ÿæ•°å­—äººè¿™ä»¶äº‹æƒ…ï¼Œå½“ç„¶æˆ‘ä»¬çš„å®šä½ä¹Ÿå¾ˆæ¸…æ™°ï¼Œæˆ‘ä»¬ä¸“æ³¨åœ¨å¨æˆ¿é¢†åŸŸï¼Œç”¨è™šæ‹Ÿäººèµ‹èƒ½ä¸‡å¾—å¨æ‰“é€ æ™ºèƒ½å¨æˆ¿ï¼Œå®ç°æ™ºèƒ½çƒ¹é¥ªã€ç²¾å‡†æ¨èã€è¥å…»æ­é…ç­‰æ ¸å¿ƒèƒ½åŠ›ã€‚

Â Â  Â  Â  ç«™åœ¨å…¨å±€è§†è§’å’Œé•¿è¿œè§„åˆ’æ¥çœ‹ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯èƒ½åŠ›äº¤æ˜“å¹³å°ï¼Œäººäººéƒ½å¯ä»¥å‘å¸ƒèƒ½åŠ›ä¸Šå»ï¼Œäººäººéƒ½å¯ä»¥è®¢é˜…å…¶ä»–äººçš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰“é€ å¹³å°ç®¡ç†è¿è¥åå°ã€æœåŠ¡å•†è¿è¥ç®¡ç†åå°ç­‰å»æ›´å¥½çš„è¿æ¥ç”Ÿäº§ç«¯ã€æ¶ˆè´¹ç«¯åŠ å…¥åˆ°ç”Ÿæ€ä¸­æ¥ï¼Œä¸€èµ·æ”¯æ’‘è™šæ‹Ÿäººå¹³å°çš„å»ºè®¾ã€‚

2.2. ç›®æ ‡
-------

è‡ªåŠ©é£Ÿå ‚æ•°å­—å‘˜å·¥çš„èº«ä»½ä¸»è¦æ˜¯ï¼šå¯¼è´­å‘˜+æœåŠ¡å‘˜ï¼Œé™¤äº†æ‹¥æœ‰åŠ©æ‰‹èº«ä»½çš„æ‰€æœ‰åŠŸèƒ½ä¹‹å¤–ï¼Œè¿˜æ‹¥æœ‰ä»¥ä¸‹ä¸€äº›ä¸åœºæ™¯ç›¸å…³çš„ç‰¹æ®ŠåŠŸèƒ½ï¼š

1ã€é—¨åº—æ¶ˆè´¹æµç¨‹ä»‹ç»

2ã€é—¨åº—å•†å“ä½ç½®æŸ¥è¯¢

3ã€é—¨åº—è¿‘æœŸç‰¹ä»·ä¼˜æƒ 

4ã€é—¨åº—è®¾å¤‡é—²å¿™æƒ…å†µ

  

2.3. ç›¸å…³èµ„æ–™
---------

åç§°

é“¾

åç§°

é“¾

### 2.3.1. æ¥å£æ–‡æ¡£

[https://yingzi-appservice-osc.dev.yingzi.com/api/appservice/osc/swagger-ui.html#/OC%E8%BF%90%E8%90%A5-%E7%BD%91%E7%82%B9%E5%95%86%E5%93%81Api/listOfflineStoreCommodityForOcUsingGET](https://yingzi-appservice-osc.dev.yingzi.com/api/appservice/osc/swagger-ui.html#/OC%E8%BF%90%E8%90%A5-%E7%BD%91%E7%82%B9%E5%95%86%E5%93%81Api/listOfflineStoreCommodityForOcUsingGET)

3\. æ€»ä½“è®¾è®¡
========

3.1. è¿è¡Œç¯å¢ƒ
---------

å¹³å°

å¤§å±ç«¯app

è®¿é—®åœ°å€

å¼€å‘ç¯å¢ƒï¼ˆ[https://vdh-screen.dev.yingzi.com/](https://vdh-screen.dev.yingzi.com/)ï¼‰

æµ‹è¯•ç¯å¢ƒï¼ˆ[https://vdh-screen.test.yingzi.com/](https://vdh-screen.dev.yingzi.com/)ï¼‰

è®¿é—®æ–¹å¼

appåµŒå¥—æµè§ˆå™¨

è´¦å·ä½“ç³»

  

  

  

3.2. æŠ€æœ¯æ ˆé€‰å‹
----------

  

æ•´ä½“æ¡†æ¶

viteç”ŸæˆvueæŠ€æœ¯æ ˆ

è§†å›¾å±‚

vue3

åŒ…ç®¡ç†å·¥å…·

yarn

æ¥å£è§„èŒƒ

restful api

æ ¸å¿ƒsdk

ç¬¬ä¸‰æ–¹è™šæ‹Ÿäººå…¬å¸æä¾›çš„sdk

é‡è¦å·¥å…·åº“

vueuseã€rxjsã€swiper

4\. åŠŸèƒ½è®¾è®¡
========

4.1. è™šæ‹Ÿäººå¼•å…¥
----------

### 4.1.1. å¼•å…¥ç¬¬ä¸‰æ–¹sdk

import { Avatar } from './haihuman'

### 4.1.2. èµ„æºæ–‡ä»¶

æ”¾ç½®é¡¹ç›®æ ¹ç›®å½•

wasm

haicore\_sdk.wasm

json

sk.json, behav.json

### 4.1.3. åˆå§‹åŒ–è™šæ‹Ÿäººå®ä¾‹

  

å®ä¾‹åŒ–é€»è¾‘

**init**

[?](#)

1

2

3

4

5

6

7

`const a =` `new` `Avatar(your_avatar_id,` `'v1.0'``, avatarModel, containerId,` `''``, {`

Â Â `locale:` `'cn'``,`

`})`

`a.init({`

Â Â Â Â `// onProgress, onReady, onRender, onChat...å…·ä½“çœ‹æ–‡æ¡£æˆ–æºç `

`})`

  

your\_avatar\_idï¼šåœ¨[FTTæˆ‘çš„åº”ç”¨](https://vdh-open.yingzi.com/userSpace/application/appList)é‡Œç‚¹å‡»ç›¸åº”è™šæ‹Ÿäººçš„æŸ¥çœ‹æŒ‰é’®ï¼Œå³å¯æŸ¥çœ‹avatarId

avatarModel: è™šæ‹Ÿäººæ¨¡å‹æ–‡ä»¶åï¼Œåœ¨[FTTã€èµ„æºæ¯ç‰ˆ > è™šæ‹Ÿäººæ¯ç‰ˆã€‘](https://vdh-open.yingzi.com/userSpace/virtual/resource_management)ï¼Œè®°å¾—åŠ ä¸Š".glb"åç¼€

![](/download/attachments/109731880/image2023-6-30_14-38-10.png?version=1&modificationDate=1698909241976&api=v2)

  

  

containerId: å®¹çº³è™šæ‹Ÿäººçš„htmlæ ‡ç­¾çš„id

### 4.1.4. Â å…¶ä»–åˆå§‹åŒ–

#### 4.1.4.1. FTTè™šæ‹Ÿäººåˆ‡æ¢ï¼Œ

åˆ†**æµ‹è¯•ç¯å¢ƒ**å’Œ**ç”Ÿäº§ç¯å¢ƒ**ï¼ŒåŒºåˆ«æ˜¯apiå’Œè™šæ‹Ÿäººidä¸åŒï¼Œåœ¨ä»£ç æ‰§è¡Œæ¯”è¾ƒæ—©çš„é˜¶æ®µå®šä¹‰å¥½ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå†³å®šå–çš„æ˜¯å“ªä¸ªç¯å¢ƒçš„è™šæ‹Ÿäºº

![](/download/attachments/109731880/image2023-12-1_14-42-2.png?version=1&modificationDate=1701412923050&api=v2)

é€šè¿‡æ‹¦æˆªfetchæ”¹å˜url

[?](#)

`window.fetch = (...args) => {`

Â Â `if` `(window.fttEnv ===` `'test'``) {`

Â Â Â Â `if` `(``typeof` `args[0] ===` `'string'``) {`

Â Â Â Â Â Â `args[0] = args[0].replace(``'[https://vdh-api.yingzi.com](https://vdh-api.yingzi.com)'``,` `'[https://vdh-api.test.yingzi.com](https://vdh-api.test.yingzi.com)'``)`

Â Â Â Â `}`

Â Â `}`

Â Â `return` `Promise.resolve(oldfetch(...args));`

`};`

  

  

4.2. è¯­éŸ³è¯†åˆ«äº¤äº’
-----------

1.  æµè§ˆå™¨ç¯å¢ƒï¼šå¼•ç”¨å½±å­å°è£…çš„åŸºç¡€èƒ½åŠ›@yingzi/STT-Core
2.  å±ç«¯ç¯å¢ƒï¼šå®‰å“å®¹å™¨å”¤é†’å’Œè¯†åˆ«å‘é€é€šçŸ¥

  

### 4.2.1. Â è¾…åŠ©å·¥å…·

å½±å­å†…éƒ¨é›†æˆè®¯é£è¯­éŸ³è¯†åˆ«çš„åº“

  

5\. æœ¬åœ°è°ƒè¯•
========

5.1. è·¨åŸŸ
-------

æœ‰ç¬¬ä¸‰æ–¹çš„èµ„æºç”±sdkè°ƒç”¨è·å–ï¼Œéœ€è¦hostæ–‡ä»¶æ·»åŠ ä¸‹é¢ä¸€è¡Œ

è‡ªå·±çš„ipÂ [local-test.yingzi.com](http://local-test.yingzi.com)

  

ç„¶åç”¨[local-test.yingzi.com](http://local-test.yingzi.com)æ¥è°ƒè¯•

5.2. è°ƒè¯•å½•éŸ³æ¥å£
-----------

å› ä¸ºæ˜¯ç”¨**navigator.mediaDevices**,è€Œè¿™ä¸ªapiæœ‰å®‰å…¨ç­–ç•¥ï¼Œåªèƒ½åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä½¿ç”¨ï¼Œä¸ç„¶undefined

1.  https
2.  llocalhost/127.0.0.1
3.  file///url

ç”±äºä¸Šé¢å·²ç»ç”¨äº†[local-test.yingzi.com](http://local-test.yingzi.com)è°ƒè¯•ï¼Œè€Œä¸”é»˜è®¤viteå¯åŠ¨æ˜¯httpï¼Œæ‰€ä»¥éœ€è¦é…ç½®å¯ç”¨https

  

6\. ä¸šåŠ¡åŠŸèƒ½
========

6.1. å”¤é†’é€»è¾‘
---------

ç”±äºæµè§ˆå™¨ä¸å…·å¤‡å”¤é†’åŠŸèƒ½ï¼Œè¿™éƒ¨åˆ†åªèƒ½ä¾èµ–appï¼Œä¸»è¦ç”±å®¿ä¸»appæ”¶åˆ°å”¤é†’æŒ‡ä»¤åè°ƒç”¨æµè§ˆå™¨çš„è‡ªå®šä¹‰æ–¹æ³•ï¼Œæ­¥éª¤ä¸»è¦æ˜¯ä»¥ä¸‹

  

### 6.1.1. ä»£ç æµç¨‹

#### 6.1.1.1. å…¥å£å®šä¹‰

æš´éœ²åˆ°windowï¼Œç»™å®¿ä¸»è°ƒç”¨ï¼Œè°ƒç”¨documentçš„è‡ªå®šä¹‰æ–¹æ³•

[?](#)

`window.onYzevent = (data) => {`

Â Â `document.dispatchEvent(`

Â Â Â Â `new` `CustomEvent(``"onYzevent"``, {`

Â Â Â Â Â Â `detail: () => {`

Â Â Â Â Â Â Â Â `status.value =` `"listening"``;`

Â Â Â Â Â Â `},`

Â Â Â Â `})`

Â Â `);`

`};`

#### 6.1.1.2. .å”¤é†’åé€»è¾‘

åœ¨ä½ æ‰€éœ€å”¤é†’çš„åœ°æ–¹åŠ ä¸Š

[?](#)

`document.addEventListener(``"onYzevent"``, async (e) => {`

Â Â Â Â `e.detail?.()`

Â Â Â Â `// ä¸šåŠ¡é€»è¾‘...`

`})`

  

#### 6.1.1.3. æ‹¾éŸ³æµç¨‹ï¼Œå…¼å®¹å¤–å£³å”¤é†’

å®‰å“å¤–å£³

window.onYzevent(obj)

wakeUp

speechResult

window.android?.starAsr()

10ç§’è¿˜æ˜¯æ²¡è¯†åˆ«åˆ°

è¯†åˆ«åˆ°text

![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuOTkgNGMwLTEuMS0uODktMi0xLjk5LTJINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNGw0IDQtLjAxLTE4ek0xOCAxNEg2di0yaDEydjJ6bTAtM0g2VjloMTJ2MnptMC0zSDZWNmgxMnYyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4= "æ˜¾ç¤ºè¯„è®º")

//<!\[CDATA\[ (function() { $ = AJS.$; var graphContainer = document.getElementById('drawio-macro-content-02867ae0-60e8-4f92-b4d5-dcd409ffc447'); DrawioProperties = { contextPath : AJS.contextPath(), buildNumber : 8401 }; var readerOpts = {}; readerOpts.loadUrl = '' + '/rest/drawio/1.0/diagram/crud/%6F%6E%59%7A%65%76%65%6E%74/109731880?revision=1'; readerOpts.imageUrl = '' + '/download/attachments/109731880/onYzevent.png' + '?version=1&api=v2'; readerOpts.editUrl = '' + '/plugins/drawio/addDiagram.action?ceoId=109731880&owningPageId=109731880&diagramName=%6F%6E%59%7A%65%76%65%6E%74&revision=1'; readerOpts.editable = true; readerOpts.canComment = true; readerOpts.stylePath = STYLE\_PATH; readerOpts.stencilPath = STENCIL\_PATH; readerOpts.imagePath = IMAGE\_PATH + '/reader'; readerOpts.border = true; readerOpts.width = '400'; readerOpts.simpleViewer = false; readerOpts.tbstyle = 'top'; readerOpts.links = 'auto'; readerOpts.lightbox = true; readerOpts.resourcePath = ATLAS\_RESOURCE\_BASE + '/resources/viewer'; readerOpts.disableButtons = false; readerOpts.zoomToFit = true; readerOpts.language = 'zh'; readerOpts.licenseStatus = 'OK'; readerOpts.contextPath = AJS.contextPath(); readerOpts.diagramName = decodeURIComponent('%6F%6E%59%7A%65%76%65%6E%74'); readerOpts.diagramDisplayName = ''; readerOpts.aspect = ''; readerOpts.ceoName = 'å±ç«¯è™šæ‹ŸäººåŠŸèƒ½è®¾è®¡'; readerOpts.attVer = '1'; readerOpts.attId = '114666883'; readerOpts.lastModifierName = 'å´å®¶æ°'; readerOpts.lastModified = '2023-12-01 11:21:32.634'; readerOpts.creatorName = 'å´å®¶æ°'; //Embed macro specific info readerOpts.extSrvIntegType = '$extSrvIntegType'; readerOpts.gClientId = '$gClientId'; readerOpts.oClientId = '$oClientId'; readerOpts.service = '$service'; readerOpts.sFileId = '$sFileId'; readerOpts.odriveId = '$odriveId'; readerOpts.diagramUrl = '$diagramUrl'; readerOpts.csvFileUrl = '$csvFileUrl'; readerOpts.pageId = '$pageId' || Confluence.getContentId(); readerOpts.aspectHash = '$aspectHash'; readerOpts.useExternalImageService = '$useExternalImageService' == 'true'; readerOpts.isTemplate = '$isTemplate' == 'true'; if (readerOpts.width == '') { readerOpts.width = null; } // LATER: Check if delayed loading of resources can be used for image placeholder mode var viewerPromise = createViewer(graphContainer, readerOpts); if(readerOpts.editable) { $(graphContainer).data('viewerConfig', readerOpts); $(graphContainer).on('drawioViewerUpdate', updateDrawioViewer); } viewerPromise.done(function(viewer) { updateCachedDiagram(graphContainer, readerOpts, viewer); }); })(); //\]\]>

æš´éœ²æ¥å£å¦‚ä¸‹ğŸ‘‡

[å±ç«¯androidå’Œwebäº¤äº’æ¥å£](/pages/viewpage.action?pageId=114659651)

### 6.1.2. å”¤é†’å¤±æ•ˆ

è¯­éŸ³è¯†åˆ«çš„å†…å®¹ä¸€ç›´ä¸ºç©ºï¼Œåœ¨12så·¦å³ï¼ŒåŸºäºwebsocketçš„è¯†åˆ«è¿‡ç¨‹å°†è¢«æœåŠ¡ç«¯ä¸»åŠ¨æ–­å¼€ï¼Œäº§å“å¸Œæœ›æ—¶é—´å»¶é•¿ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡æ–­å¼€åå®¢æˆ·ç«¯è¿™è¾¹ä¸»åŠ¨é‡è¿ä¸€æ¬¡ï¼Œè™šæ‹Ÿäººæ’­æŠ¥â€œå°ä¸‡æ²¡å¬æ¸…ï¼Œè¯·æ‚¨å†è¯´ä¸€æ¬¡â€ï¼Œç¬¬äºŒæ¬¡æ–­å¼€åå±•ç¤ºæ¢å¤æ¬¢è¿è¯­

  

### 6.1.3. å”¤é†’æ‰“æ–­

*   è¯­éŸ³è¯†åˆ«ä¸­ä¸èƒ½å”¤é†’ï¼Œå®¢æˆ·ç«¯æ‹¦æˆªå”¤é†’åçš„æ“ä½œ
*   å¾…æœºä¸­ã€æ€è€ƒä¸­ã€æœ—è¯»ä¸­éƒ½å¯ä»¥å”¤é†’ï¼Œé‡æ–°è¿›å…¥è¯­éŸ³è¯†åˆ«é˜¶æ®µ

  

6.2. å¿«æ·æé—®
---------

### 6.2.1. 1.å±•ç¤ºå½¢å¼

barrage: å¼¹å¹•æ¨¡å¼

grid: æ–¹æ ¼æ¨¡å¼

#### 6.2.1.1. ä½¿ç”¨æŠ€æœ¯

  

**ä¸»é¡µåˆ©ç”¨vueuseçš„useAnimateåšå¼¹å¹•æ¨ªå‘ç§»åŠ¨çš„æ•ˆæœï¼ŒåŒæ—¶æ˜¯å¾ªç¯æ’­æ”¾**

*   å°†å†…å®¹åˆ†è¡Œ
*   å°†æ¯è¡Œå†…å®¹å¤åˆ¶ä¸€æ¬¡æ·»åŠ åˆ°å°¾ç«¯
*   keyframes = \[  
    { transform: "translateX(0)" },  
    { transform: "translateX(-50%)" },  
    \]

  

**åŠŸèƒ½é¡µä½¿ç”¨**

å®šæ—¶å™¨è½¬æ¢ï¼Œ6ä¸ª6ä¸ªå®šæ—¶è½¬æ¢ï¼Œä¸è¶³çš„å°¾éƒ¨æ‹¼æ¥å¤´éƒ¨

  

### 6.2.2. 2.äº¤äº’èƒ½åŠ›

é™¤åœ¨æ€è€ƒä¸­(nlp)è¿‡ç¨‹ä¸­å…¶ä»–ä»»ä½•æƒ…å†µéƒ½èƒ½ç‚¹å‡»ï¼Œç›´æ¥è°ƒç”¨ç»™è™šæ‹Ÿäººåšnlp

  

6.3. åŠŸèƒ½é¡µ
--------

å› ä¸ºä¸»é¡µå’Œå…¶ä»–åŠŸèƒ½é¡µä¹‹é—´åˆ‡æ¢éœ€è¦è€—æ—¶ï¼Œè¿™é‡ŒåŠŸèƒ½é¡µå°è£…æˆä¸€ä¸ªå¤§çš„ç»„ä»¶ï¼Œæ ¹æ®æ¡ä»¶åˆ¤æ–­åœ¨ä¸»é¡µæ¥æ˜¾ç¤ºï¼Œåšåˆ°ä¸€ä¸ªåº”ç”¨ä¸€ä¸ªè™šæ‹Ÿäºº

### 6.3.1. ç‰¹æ®Šå¤„ç†

*   åœ¨æ‰€æœ‰åŠŸèƒ½é¡µï¼Œnlpæäº¤æ–‡æœ¬éƒ½é»˜è®¤å¸¦ä¸Šä¸Šä¸‹æ–‡ï¼Œæé«˜å½“å‰åœºæ™¯ä¸‹çš„æŒ‡ä»¤å‘½ä¸­ç‡ï¼Œå‡å¦‚å‘½ä¸­å¤±è´¥ï¼Œä¸æ’­æŠ¥å¤±è´¥è¯æœ¯ï¼Œç›´æ¥å»æ‰ä¸Šä¸‹æ–‡å†ä¸€æ¬¡nlpæäº¤

### 6.3.2. å•†å“æŸ¥è¯¢

*   å‰ç«¯ä¸€æ¬¡æ‹‰å–æ‰€æœ‰å•†å“ï¼Œæ–¹ä¾¿åšæœç´¢å’Œæ’åº
*   æ ¹æ®æ¡ä»¶æ’åºæ—¶é‡æ–°æ‹‰ä¸€æ¬¡æ¥å£
*   æ ¹æ®æŒ‡ä»¤è¿”å›è¯æœ¯ï¼Œåˆ¤æ–­æ˜¯å¦è¿½é—®ï¼Œæ’­æ”¾è¿½é—®è¯æœ¯ï¼Œç»§ç»­è¿½é—®åï¼Œè´Ÿåé¦ˆåå‰ç«¯æ’­æ”¾å¤±è´¥è¯æœ¯ï¼Œæ­£åé¦ˆåå‰ç«¯æ’­æ”¾æˆåŠŸè¯æœ¯ï¼Œç„¶åå‰ç«¯å®šä½åˆ°å•†å“é‚£ä¸€é¡µ

### 6.3.3. æ¶ˆè´¹æµç¨‹

1.  å‡ ä¸ªæµç¨‹æ­¥éª¤çš„å†…å®¹ä»å­—å…¸æ‹‰å–
2.  è‡ªåŠ¨ä»å¤´å¼€å§‹æ’­æŠ¥æ—¶ï¼Œéœ€è¦æ’­æŠ¥å½“å‰å†…å®¹æ—¶Swiperçš„é¡µé¢æ»‘åˆ°å½“å‰é¡µé¢ï¼Œæ”¹é€ ä»¥å‰çš„talkæ–¹æ³•ï¼Œå°†talkè¿”å›promiseæ ¼å¼ï¼Œå›è°ƒåè§¦å‘resolve
    
    ä½¿ç”¨æ•ˆæœ
    
    [?](#)
    
    `/**`
    
    Â `*`
    
    Â `* @param {() => void} callback å®Œæ•´è¯»å®Œå›è°ƒ`
    
    Â `* @param {() => void} unitCallback æ¯æ­¥å‡†å¤‡å¼€å§‹è¯»çš„å›è°ƒ`
    
    Â `*/`
    
    `talkAll: async (callback, unitCallback) => {`
    
    Â Â `const` `talk = async (text, c) => {`
    
    Â Â Â Â `return` `await avatar.talk(text,` `"read"``,` `false``, callback,` `void` `0``, () => {`
    
    Â Â Â Â Â Â `console.log(``"du"``, text);`
    
    Â Â Â Â Â Â `unitCallback();`
    
    Â Â Â Â Â Â `c?.();`
    
    Â Â Â Â `});`
    
    Â Â `};`
    
    Â Â `async function run() {`
    
    Â Â Â Â `let i =` `0`
    
    Â Â Â Â `for` `(let item of data.value) {`
    
    Â Â Â Â Â Â `await talk(item.value, () => goPage(i));`
    
    Â Â Â Â Â Â `i++`
    
    Â Â Â Â `}`
    
    Â Â `}`
    
    Â Â `run()`
    
    Â Â `// goPage(0);`
    
    Â Â `// await talk(data.value[0].value);`
    
    Â Â `// await talk(data.value[1].value, () => goPage(1));`
    
    Â Â `// await talk(data.value[2].value, () => goPage(2));`
    
    Â Â `// await talk(data.value[3].value, () => goPage(3));`
    
    Â Â `// await talk(data.value[4].value, () => goPage(4));`
    
    Â Â `// await talk(data.value[5].value, () => goPage(5));`
    
    Â Â `// await talk(data.value[6].value, () => goPage(6));`
    
    Â Â `// await talk(data.value[7].value, () => goPage(7));`
    
    `}`
    

### 6.3.4. å“ç‰Œå®£ä¼ 

![](/download/thumbnails/109731880/image2023-12-1_14-37-46.png?version=1&modificationDate=1701412666319&api=v2)

ä»»ä½•ç‚¹å‡»äº¤äº’éƒ½å…ˆé€šè¿‡nlpè¿”å›ï¼Œå†åšå“åº”æ“ä½œï¼Œå¦‚nlpè¿˜æœªè¿”å›ï¼Œéœ€æç¤ºæ“ä½œé¢‘ç¹

6.4. è™šæ‹Ÿäººäº¤äº’
----------

è·Ÿå…¬ä¼—å·h5ç‰ˆæœ¬çš„æ¯”è¾ƒï¼Œå±ç«¯å®ç°çš„è§¦å±äº‹ä»¶ã€å¤ä½èƒ½åŠ›ã€åŠ¨ç”»ï¼Œéƒ½ä½¿ç”¨rxjså®ç°ï¼Œè§£å†³æ¯”è¾ƒå¤æ‚çš„å¼‚æ­¥åœºæ™¯

[rxjsä¼˜åŒ–å¼‚æ­¥çŠ¶æ€](/pages/viewpage.action?pageId=109722532)

  

  

  

  

[Filter table data]()[Create a pivot table](#)[Create a chart from data series](#)

[Configure buttons visibility](/users/tfac-settings.action)